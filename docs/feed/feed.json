{
  "version": "https://jsonfeed.org/version/1",
  "title": "peterxjang",
  "home_page_url": "https://peterxjang.com/blog",
  "feed_url": "https://peterxjang.com/blog/feed/feed.json",
  "description": "All things coding related",
  "author": {
    "name": "Peter Jang",
    "url": "https://peterxjang.com/"
  },
  "items": [{
      "id": "https://peterxjang.com/blog/new-video-course-platform-from-actualize.html",
      "url": "https://peterxjang.com/blog/new-video-course-platform-from-actualize.html",
      "title": "New video course platform from Actualize!",
      "content_html": "<p><img src=\"/img/1__L5kEPTYCBrg2iF5L0tKCnA.png\" alt=\"Featured courses from Actualize First Class\"><br>\n<em>Featured courses from Actualize First Class: <a href=\"https://firstclass.actualize.co\">https://firstclass.actualize.co</a></em></p>\n<p>Just wanted to announce <a href=\"https://firstclass.actualize.co\">Actualize First Class</a>, the new video course platform from <a href=\"https://actualize.co\">Actualize coding bootcamp</a>! These courses will cover topics for developers at every experience level, from beginners at the very start of their developer journey (<a href=\"https://firstclass.actualize.co/p/macos-for-developers\">macOS for developers</a>), to seasoned developers looking to deepen their understanding of specific technologies (<a href=\"https://firstclass.actualize.co/p/oauth2-deconstructed\">OAuth 2.0 Deconstructed</a>).</p>\n<p>Right now courses include video versions of some of my most widely shared articles, <a href=\"https://medium.com/the-node-js-collection/modern-javascript-explained-for-dinosaurs-f695e9747b70\">Modern JavaScript Explained For Dinosaurs</a> and <a href=\"https://medium.com/actualize-network/modern-css-explained-for-dinosaurs-5226febe3525\">Modern CSS Explained For Dinosaurs</a>. There will be more courses to come, you can follow me on Twitter <a href=\"https://twitter.com/peterxjang\">@peterxjang</a> for any updates!</p>\n",
      "date_published": "2020-09-26T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/modern-html-explained-for-dinosaurs.html",
      "url": "https://peterxjang.com/blog/modern-html-explained-for-dinosaurs.html",
      "title": "Modern HTML Explained For Dinosaurs",
      "content_html": "<p><img src=\"/img/1__EEHKg3z__FAk0ipZDFuWKcw.png\" alt=\"Dinosaur comic panel 1\"><br>\n<em>Images from <a href=\"http://www.qwantz.com/\">Dinosaur Comics</a> by <a href=\"https://twitter.com/ryanqnorth\">Ryan North</a></em></p>\n<p>Out of the three main frontend technologies (HTML, CSS, and JavaScript), HTML has remained the most consistent. If your only concern was creating content, an HTML document from the 1990s would look pretty similar to one created in 2018:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>My test page<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello there!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>You have elements with tags and content, tags with attributes — other than the simplified <a href=\"https://en.wikipedia.org/wiki/Document_type_declaration\">doctype</a> on the first line, not much has changed! However, over the years web development has taken a dramatic shift from creating static web sites (with a focus on content) to creating dynamic web applications (with a focus on interaction)— something the web wasn’t originally designed to do. Creating custom user interfaces that are still semantic and accessible, improving performance using attributes and tooling, organizing code for reuse and maintainability — there are now a whole new set of concerns at play.</p>\n<p>The goal of this article is to provide a historical context of how HTML has evolved to the language it is today in 2018. We’ll start with the fundamentals of well structured and accessible HTML, just like the dinosaurs of old. Then we’ll introduce different techniques to improve performance, responsiveness, and maintainability. CSS and JavaScript will inevitably make its way into this conversation; for the purposes of this article, they will be covered from the perspective of how they impact the writing of HTML itself. By understanding this history, you will be able to take full advantage of both old and new features of the language that can often be overlooked. Let’s get started!</p>\n<h3 id=\"writing-content-with-semantic-elements\">Writing content with semantic elements <a class=\"direct-link\" href=\"#writing-content-with-semantic-elements\">#</a></h3>\n<p>Let’s add some more content to the earlier HTML example. For now we’ll make a basic website with a navigation section with links and a search input, a large showcase section for displaying general site info (often referred to as a hero section or <a href=\"https://en.wikipedia.org/wiki/Jumbotron\">jumbotron</a>), three column sections for articles, and a footer section for copyright info.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>My test page<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Home<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Info<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>About<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Search<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hero<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello there!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>General info about the page goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Learn more<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>grid<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>column<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>First Heading<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Article content goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>View details<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>column<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>Second Heading<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Article content goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>View details<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>column<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>Third Heading<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Article content goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>View details<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>footer<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Copyright info goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>Here we’re using basic elements with tags like <code>&lt;div&gt;</code>, <code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, <code>&lt;p&gt;</code>, etc., to mark the content. The HTML here works, but it’s not fully <a href=\"https://en.wikipedia.org/wiki/Semantic_HTML\">semantic</a> — that is to say, the tags do not communicate the meaning of the content as well as they could.</p>\n<p>When HTML5 was introduced in 2008, it provided new elements to improve document semantics. Here’s an attempt to make the HTML more semantic:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1, shrink-to-fit=no<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>description<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>author<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>My test page<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>  </span><br>      <span class=\"token comment\">&lt;!--[if lt IE 9]>  <br><mark class=\"highlight-line highlight-line-active\">        &lt;script src=\"(https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js\">&lt;/script>  </mark><br>      &lt;![endif]--></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navigation<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Home<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Info<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>About<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Search<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hero<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello there!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>General info about the page goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Learn more<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>grid<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>article</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>column<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>First Heading<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Article content goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>View details<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>article</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>article</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>column<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>Second Heading<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Article content goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>View details<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>article</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>article</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>column<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>Third Heading<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Article content goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>View details<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>article</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>contentinfo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Copyright info goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer</span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>Let’s examine some of the these changes:</p>\n<ul>\n<li>The <code>&lt;html lang=&quot;en&quot;&gt;</code> specifies the language of the document, which helps search engines and browsers identify the appropriate content.</li>\n<li>The additional <code>&lt;meta&gt;</code> tags provides information about the site not directly visible on page, used by search engines and other services. They also provide information about how to size the content on different devices.</li>\n<li>The <code>&lt;nav&gt;</code>, <code>&lt;main&gt;</code>, <code>&lt;section&gt;</code>, <code>&lt;article&gt;</code>, and <code>&lt;footer&gt;</code> tags provide more accessible structure to the HTML document (compared to generic <code>&lt;div&gt;</code> tags). These tags were introduced with HTML5.</li>\n<li>The <code>&lt;!-- [if lt IE 9]&gt;...--&gt;</code> comment adds a JavaScript file that only gets loaded for older versions of Internet Explorer, since they don’t support the above HTML5 tags. Note that many recent websites don’t include that comment these days, as fewer sites support those browsers.</li>\n<li>The <code>role</code> attributes provide accessibility information as well. Note that using a <code>&lt;nav&gt;</code> tag generally is enough for accessibility, adding the extra <code>role=&quot;navigation&quot;</code> is used in case the <code>&lt;nav&gt;</code> tag isn’t recognized.</li>\n</ul>\n<p>Writing semantic HTML can seem unimportant, especially when it doesn’t affect the visual appearance of a website. However, your website is being viewed by more than just human beings — web browsers, search engines, screen readers all depend on semantic HTML to function properly.</p>\n<h3 id=\"improving-accessibility-with-wai-aria-attributes\">Improving accessibility with WAI-ARIA attributes <a class=\"direct-link\" href=\"#improving-accessibility-with-wai-aria-attributes\">#</a></h3>\n<p>Let’s look at the search input in the navbar from our example above:</p>\n<pre class=\"language-html\"><code class=\"language-html\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span><span class=\"token punctuation\">></span></span>  <br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Search<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  <br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>This input element uses a <code>placeholder</code> attribute instead of a label element to let the user know its purpose. This works for humans, but it’s not properly semantic HTML, and can be missed by screen readers and other technologies. The way to make this accessible is to use an <code>aria-label</code> attribute:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Search<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>WAI-ARIA, which stands for <em>“Web Accessibility Initiative — Accessible Rich Internet Applications”</em> (often simply ARIA for short), is a set of attributes that makes HTML more accessible when semantic tags aren’t enough. The <code>role</code> attribute seen in the previous section is an ARIA attribute. So far these attributes seem like minor changes, but it becomes much more important as we use HTML for things beyond basic documents.</p>\n<p>Let’s look at a more complex example — say we want to add some tabbed content in our HTML to provide instructions on how to install some program on Windows, Mac, and Linux. Since there’s no native way of building tabs in HTML, we have to make do with things like unordered lists, links, and divs to construct our own tab markup. Here we can use accessibility attributes such as <code>role</code>, <code>aria-controls</code>, <code>aria-selected</code>, and <code>aria-labelledby</code> to mark up the HTML, as seen below:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><mark class=\"highlight-line highlight-line-active\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tablist<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>windows-tab<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#windows<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tab<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-controls</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>windows<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-selected</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Windows<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mac-tab<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#mac<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tab<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-controls</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mac<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-selected</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Mac<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>linux-tab<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#linux<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tab<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-controls</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>linux<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-selected</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Linux<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>windows<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabpanel<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-labelledby</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>windows-tab<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://1000logos.net/wp-content/uploads/2017/04/Microsoft-Logo.png<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>microsoft logo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    ...  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mac<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabpanel<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-labelledby</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mac-tab<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://i.ytimg.com/vi/ipOzBWuYZvg/maxresdefault.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>apple logo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    ...  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>linux<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabpanel<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-labelledby</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>linux-tab<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://noware.tech/wp-content/uploads/sites/140/2018/04/linux-1024x565.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>linux logo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    ...  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>Without these accessibility attributes, the tabbed content would have no discernible relationship with the tab controls. Having these attributes helps screen readers identify content, enables keyboard shortcuts with proper tabbing, etc. Using appropriate ARIA attributes can be a whole study in and of itself — for a deeper dive, check out the <a href=\"https://www.w3.org/TR/wai-aria-practices-1.1/\">official guidelines</a>.</p>\n<p>All this may seem like a lot of work just to improve the accessibility of a website. It’s important to acknowledge accessibility as an integral part of the web, which was designed as a platform to freely share information with everyone, not just a select few. Making a website accessible improves the experience for every visitor — for example, accessible keyboard shortcuts help those who can never use a mouse, those who temporarily can’t use a mouse, and those who prefer to not use a mouse (a.k.a., most programmers). Accessibility can be easy to overlook when dealing with other features, but it should not be ignored.</p>\n<blockquote>\n<p>If you’re interested in improving the accessibility of your website, there are checklists such as <a href=\"https://a11yproject.com/checklist\">this one</a> from the <a href=\"https://a11yproject.com/\">A11Y project</a>, which is a great place to start. However, making a website accessible isn’t purely about checking off items — it’s something that can always be improved, like any aspect of user experience. <strong>The best way to make your website accessible is to actually use your website as different people in your audience would</strong> — test it out using a screen reader, try only using a keyboard instead of a mouse, view your website using a <a href=\"https://www.toptal.com/designers/colorfilter\">color blind filter</a>, etc.</p>\n</blockquote>\n<h3 id=\"making-it-pretty-with-css-and-javascript\">Making it pretty with CSS and JavaScript <a class=\"direct-link\" href=\"#making-it-pretty-with-css-and-javascript\">#</a></h3>\n<p>If we take a look at the website so far, it looks pretty bare as you would expect:</p>\n<p><img src=\"/img/1__VCXY__h9ynSUJ__9piFx9ATA.png\" alt=\"Example website without styling\"></p>\n<p>In order to spruce it up, we’ll add a CSS file to apply styling. Now if you’re not particularly good at CSS, it could take you many days to make this website look pretty. Instead of writing your own CSS, you could always use a CSS framework, which is essentially CSS that someone else wrote in a reusable manner.</p>\n<p>One popular CSS framework is Bootstrap, which came out in 2011 and quickly became adopted and used by <a href=\"https://www.ostraining.com/blog/coding/bootstrap-popularity/\">literally millions of websites</a>. Let’s see what some of the code would look like using Bootstrap:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1, shrink-to-fit=no<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>description<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>author<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>My test page<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br>    <span class=\"token comment\">&lt;!--[if lt IE 9]>  <br><span class=\"highlight-line\">      &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js\">&lt;/script>  </span><br>    &lt;![endif]--></span>  <br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar navbar-expand-lg navbar-light bg-light<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navigation<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar-nav mr-auto<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-item active<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Home<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Info<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>About<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form-inline my-2 my-lg-0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form-control mr-sm-2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn btn-outline-success my-2 my-sm-0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Search<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span> </span><br><span class=\"highlight-line\">      <span class=\"token comment\">&lt;!-- ... --></span> </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar navbar-dark bg-secondary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>contentinfo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Copyright info goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>You can see the full code example <a href=\"https://codepen.io/peterxjang/pen/jOrEpYR?editors=1000\">here</a>.</p>\n<p>Let’s examine the changes:</p>\n<ul>\n<li>The <code>&lt;link&gt;</code> in the <code>&lt;head&gt;</code> tag adds the Bootstrap CSS to our site. Note that we’re linking to a file that’s hosted online, which can open up some <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\">security risks</a> — the <code>integrity</code> and <code>crossorigin</code> attributes help ensure the file being linked to is correct.</li>\n<li>The classes that were added are all specific to Bootstrap — the Bootstrap CSS that was added has styles which target those specific class names with the specific HTML structure.</li>\n<li>One extra <code>&lt;div class=&quot;row&quot;&gt;</code> was added to surround the three articles to take advantage of <a href=\"https://getbootstrap.com/docs/4.1/layout/grid/\">Bootstrap’s grid layout system</a> (which uses this specific HTML structure).</li>\n</ul>\n<p>Here’s what the site looks like now:</p>\n<p><img src=\"/img/1__fO1wXfiWfdv8vY3__qeQv0A.png\" alt=\"Example website with Bootstrap styling\"></p>\n<p>Not bad! Note that in order to use a CSS framework like Bootstrap, you actually don’t need to write any CSS at all to get started — you just need to add the appropriate classes to the HTML to take advantage of the CSS that comes with the framework.</p>\n<p>One thing to note here is that while the tabs are styled properly (only one tab is visible at any moment), they don’t work properly yet — clicking on a tab doesn’t do anything. That’s because in this case this type of custom interaction isn’t handled by CSS — it’s handled by JavaScript. In this case, we can get the Bootstrap tabs to work by adding the JavaScript files that comes with the Bootstrap framework in the <code>&lt;head&gt;</code> tag:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://code.jquery.com/jquery-3.3.1.slim.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The last script is Bootstrap’s JavaScript. The first two are dependencies that Bootstrap uses (jQuery and Popper), which must be loaded first before the Bootstrap script is loaded. If you check out this <a href=\"https://codepen.io/peterxjang/pen/WKYxWL?editors=1000#\">live example</a>, you can see that the tabs now work!</p>\n<p>Bootstrap became widely used because it helped with the major pain points of CSS at the time, such as browser inconsistencies and a lack of a proper grid system. There are some downsides of using CSS frameworks like Bootstrap — in particular, they can be difficult to customize compared to writing CSS from scratch, which can make your website seem generic compared to others.</p>\n<p>Also, with the rise of smartphones and mobile traffic, reducing CSS and JS file sizes became increasingly important — anything above a few kilobytes can significantly affect performance on slower internet connections. The way we’re using Bootstrap in the above example, we’re requiring the user to download the entire Bootstrap framework with the site, even though we’re only using a couple of styles and features. In the next section, we’ll take a look at several techniques to help tackle these performance issues.</p>\n<blockquote>\n<p>Note: A solid grasp of CSS and JavaScript is intrinsically linked to making sophisticated websites with HTML; however, a deep dive into these languages is outside the scope of this article. If you’d like to learn more about the fundamentals of CSS and JavaScript, the <a href=\"https://developer.mozilla.org/en-US/\">MDN Web Docs</a> are always a good place to start. If you want to get a better understanding of how all the newer features of CSS (flexbox, grid, SASS, etc.) fit together with all the tooling and techniques involved with it, check out my article <a href=\"modern-css-explained-for-dinosaurs.html\">Modern CSS Explained For Dinosaurs</a>.</p>\n</blockquote>\n<p><img src=\"/img/1__ytCirVt0CqnH8wNUX__6vcA.png\" alt=\"Dinosaur comic panel 2\"></p>\n<h3 id=\"improving-performance-with-html-attributes\">Improving performance with HTML attributes <a class=\"direct-link\" href=\"#improving-performance-with-html-attributes\">#</a></h3>\n<p>At this point we have a website with reasonably well organized, semantic HTML. And if this is all we are considering, then our website would be done! Yet there are many areas where the site can be improved, in terms of both performance (how quickly the website loads for a user) and maintainability (how easy the code is to change for a developer).</p>\n<h4 id=\"the-defer-attribute-for-scripts\">The defer attribute for scripts <a class=\"direct-link\" href=\"#the-defer-attribute-for-scripts\">#</a></h4>\n<p>For our website, one major optimization is to address the JavaScript files that are being loaded in the header. These files are large enough to actually slow down the website. In order to render a page, a web browser reads the given HTML and converts it into a format it understands — the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction\">Document Object Model</a>, or DOM. As you might expect, a web browser starts at the top of the HTML document and works its way down. That means if it sees a <code>&lt;script&gt;</code> tag, it will download and execute the script before moving on to the next line. You can see an illustration of this process here:</p>\n<p><img src=\"/img/1__qo7CQsQCd__QYJchbCXLj__w.png#medium\" alt=\"Diagram of JavaScript normal loading order\"><br>\n<em>(From <a href=\"https://hacks.mozilla.org/2017/09/building-the-dom-faster-speculative-parsing-async-defer-and-preload/\">hacks.mozilla.org</a>)</em></p>\n<p>A common optimization hack is to move all JavaScript <code>&lt;script&gt;</code> tags out of the <code>&lt;head&gt;</code> tag and into the end of the <code>&lt;body&gt;</code> tag. You can see this in Bootstrap’s own <a href=\"https://getbootstrap.com/docs/4.1/getting-started/introduction/#starter-template\">starter template</a>:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token name\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token comment\">&lt;!-- Required meta tags --></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1, shrink-to-fit=no<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>    <span class=\"token comment\">&lt;!-- Bootstrap CSS --></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Hello, world!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello, world!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>    <span class=\"token comment\">&lt;!-- Optional JavaScript --></span><br>    <span class=\"token comment\">&lt;!-- jQuery first, then Popper.js, then Bootstrap JS --></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://code.jquery.com/jquery-3.3.1.slim.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>This a optimization is a hack in the sense that this isn’t how HTML was designed to be organized — CSS and JavaScript files are meant to be defined in the <code>&lt;head&gt;</code> tag as seen earlier. However, keeping everything in the <code>&lt;head&gt;</code> tag creates the unintentional side effect of slowing page rendering performance. Moving all <code>&lt;script&gt;</code> tags to the bottom of the <code>&lt;body&gt;</code> tag is one way to improve performance.</p>\n<p>In 2018, many websites still use this trick of moving all <code>&lt;script&gt;</code> tags to the bottom of the <code>&lt;body&gt;</code> tag. However, there is a less hacky approach that has been supported by browsers for nearly 10 years — the <code>defer</code> attribute. By adding this attribute to a <code>&lt;script&gt;</code> tag, the browser will download the external file without blocking the rest of the DOM from being built, and will execute the script after the DOM building is complete. You can see an illustration of this process here:</p>\n<p><img src=\"/img/1__GhpdG7JTaVJ6nbbaVLkSLg.png#medium\" alt=\"Diagram of JavaScript with defer attribute loading order\"><br>\n<em>(From <a href=\"https://hacks.mozilla.org/2017/09/building-the-dom-faster-speculative-parsing-async-defer-and-preload/\">hacks.mozilla.org</a>)</em></p>\n<p>In many cases, keeping <code>&lt;script&gt;</code> tags in the <code>&lt;head&gt;</code> with a <code>defer</code> attribute would result in faster loading pages, since the files can be downloaded in parallel with the DOM being built. This is what Bootstrap’s starter template would look like using the defer attribute instead:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token name\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token comment\">&lt;!-- Required meta tags --></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1, shrink-to-fit=no<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>    <span class=\"token comment\">&lt;!-- Bootstrap CSS --></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>    <span class=\"token comment\">&lt;!-- Optional JavaScript --></span></span><br><span class=\"highlight-line\">    <span class=\"token comment\">&lt;!-- jQuery first, then Popper.js, then Bootstrap JS --></span></span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://code.jquery.com/jquery-3.3.1.slim.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Hello, world!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span></mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello, world!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>The benefit here is that the website would render faster, and it keeps the HTML organized with scripts in the <code>&lt;head&gt;</code> tag as intended. For more fine tuned control over what files get downloaded and executed in what order, there is also the <code>async</code> attribute as well as the <code>rel=&quot;preload&quot;</code> attribute for <code>&lt;link&gt;</code> tags (which you can read more about <a href=\"https://hacks.mozilla.org/2017/09/building-the-dom-faster-speculative-parsing-async-defer-and-preload/\">here</a>).</p>\n<h4 id=\"the-srcset-attribute-for-images\">The srcset attribute for images <a class=\"direct-link\" href=\"#the-srcset-attribute-for-images\">#</a></h4>\n<p>For our website, one other major performance optimization would be the images. Right now the images are being “hotlinked”, which means they are being directly linked off someone else’s website. Not only is this problematic from a maintenance perspective (if the other person ever changes their image it will break our website), it can also be problematic from a performance perspective.</p>\n<p>Instead of directly linking the files, we can download the files and link to them locally. Furthermore, we can optimize the image file sizes by resizing them to an appropriate resolution. Instead of this image tag which directly links to a single image on another website:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <br>  <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>img-fluid<span class=\"token punctuation\">\"</span></span><br>  <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://1000logos.net/wp-content/uploads/2017/04/Microsoft-Logo.png<span class=\"token punctuation\">\"</span></span><br>  <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>microsoft logo<span class=\"token punctuation\">\"</span></span><br><span class=\"token punctuation\">></span></span></code></pre>\n<p>We can create multiple versions of the image locally and link to them responsively:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span><br><span class=\"highlight-line\">  <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>img-fluid<span class=\"token punctuation\">\"</span></span></span><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>microsoft-logo-small.png<span class=\"token punctuation\">\"</span></span></mark><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token attr-name\">srcset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>microsoft-logo-medium.png 1000w, microsoft-logo-large.png 2000w<span class=\"token punctuation\">\"</span></span></mark><br><span class=\"highlight-line\">  <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>microsoft logo<span class=\"token punctuation\">\"</span></span></span><br><span class=\"token punctuation\">></span></span></code></pre>\n<p>Here we’re using a small, medium, and large version of the logo. The <code>srcset</code> attribute tells the browser to load the appropriate version based on the browser width. The <code>srcset</code> attribute was introduced around 2013, but it took several years for browsers to fully support it. As of 2018 it has <a href=\"https://caniuse.com/#feat=srcset\">pretty decent browser support</a>, so it’s definitely worth making part of your workflow.</p>\n<p>Optimizing image sizes is often the largest performance gain for many websites — image download sizes are often orders of magnitude larger than any JavaScript and CSS files. You can get even finer control over images with <a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images\">the <code>&lt;picture&gt;</code> element</a>; however, using simple <code>srcset</code> attributes <a href=\"https://css-tricks.com/responsive-images-youre-just-changing-resolutions-use-srcset/\">is often more than enough</a> for most use cases.</p>\n<h4 id=\"other-html-attributes\">Other HTML attributes <a class=\"direct-link\" href=\"#other-html-attributes\">#</a></h4>\n<p>As a language, HTML has <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\">many attributes</a> and continues to add new ones that can be used to improve performance (like <code>importance</code> and <code>lazyload</code>). While it can be daunting, focusing on the largest resources in terms of download size (images and scripts), whatever they may be for your particular website, is usually the best place to start.</p>\n<blockquote>\n<p>Note that just like accessibility, there is no blanket set of performance rules that will always work for every website — you should benchmark your website to determine what works best (browsers such as <a href=\"https://developers.google.com/web/tools/lighthouse/\">Chrome</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Tools/Performance\">Firefox</a> provide such tools). Again, <strong>the best approach is to simply use your website with slow network conditions</strong> (which browser’s dev tools can simulate) — if you use your own website for even just a week under slow network conditions, you’re likely to find a multitude of performance fixes to improve its experience.</p>\n</blockquote>\n<h3 id=\"improving-performance-with-tooling\">Improving performance with tooling <a class=\"direct-link\" href=\"#improving-performance-with-tooling\">#</a></h3>\n<p>So far we’ve been using the tools that the HTML language provides for optimizing performance. You can also use external tools for even more performance benefits. Let’s take a look at several commonly used approaches.</p>\n<h4 id=\"code-minification\">Code minification <a class=\"direct-link\" href=\"#code-minification\">#</a></h4>\n<p>One important performance optimization is <strong>minification</strong> (sometimes referred to as uglification) of your JavaScript and CSS code. This involves using a program to analyze and remove unnecessary or redundant data from your code, from simple things like removing unneeded spaces to complex things like renaming long variables to single characters when possible. Here’s an example from the first JavaScript minifier <a href=\"http://www.crockford.com/javascript/jsmin.html\">released in 2003</a> by Douglas Crockford. The sample unminified code looks like this:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// is.js  </span><br>  <br><span class=\"token comment\">// (c) 2001 Douglas Crockford  </span><br><span class=\"token comment\">// 2001 June 3  </span><br>  <br>  <br><span class=\"token comment\">// is  </span><br>  <br><span class=\"token comment\">// The -is- object is used to identify the browser.  Every browser edition  </span><br><span class=\"token comment\">// identifies itself, but there is no standard way of doing it, and some of  </span><br><span class=\"token comment\">// the identification is deceptive. This is because the authors of web  </span><br><span class=\"token comment\">// browsers are liars. For example, Microsoft's IE browsers claim to be  </span><br><span class=\"token comment\">// Mozilla 4. Netscape 6 claims to be version 5.  </span><br>  <br><span class=\"token keyword\">var</span> is <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>  <br>    ie<span class=\"token operator\">:</span>      navigator<span class=\"token punctuation\">.</span>appName <span class=\"token operator\">==</span> <span class=\"token string\">'Microsoft Internet Explorer'</span><span class=\"token punctuation\">,</span>  <br>    java<span class=\"token operator\">:</span>    navigator<span class=\"token punctuation\">.</span><span class=\"token function\">javaEnabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <br>    ns<span class=\"token operator\">:</span>      navigator<span class=\"token punctuation\">.</span>appName <span class=\"token operator\">==</span> <span class=\"token string\">'Netscape'</span><span class=\"token punctuation\">,</span>  <br>    ua<span class=\"token operator\">:</span>      navigator<span class=\"token punctuation\">.</span>userAgent<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <br>    version<span class=\"token operator\">:</span> <span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>navigator<span class=\"token punctuation\">.</span>appVersion<span class=\"token punctuation\">.</span><span class=\"token function\">substr</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>  <br>             <span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>navigator<span class=\"token punctuation\">.</span>appVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <br>    win<span class=\"token operator\">:</span>     navigator<span class=\"token punctuation\">.</span>platform <span class=\"token operator\">==</span> <span class=\"token string\">'Win32'</span>  <br><span class=\"token punctuation\">}</span>  <br>is<span class=\"token punctuation\">.</span>mac <span class=\"token operator\">=</span> is<span class=\"token punctuation\">.</span>ua<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mac'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>  <br><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>is<span class=\"token punctuation\">.</span>ua<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'opera'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  <br>    is<span class=\"token punctuation\">.</span>ie <span class=\"token operator\">=</span> is<span class=\"token punctuation\">.</span>ns <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>  <br>    is<span class=\"token punctuation\">.</span>opera <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span>  <br><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>is<span class=\"token punctuation\">.</span>ua<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gecko'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  <br>    is<span class=\"token punctuation\">.</span>ie <span class=\"token operator\">=</span> is<span class=\"token punctuation\">.</span>ns <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>  <br>    is<span class=\"token punctuation\">.</span>gecko <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span></code></pre>\n<p>And the code after minification looks like this:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> is<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ie<span class=\"token operator\">:</span>navigator<span class=\"token punctuation\">.</span>appName<span class=\"token operator\">==</span><span class=\"token string\">'Microsoft Internet Explorer'</span><span class=\"token punctuation\">,</span>java<span class=\"token operator\">:</span>navigator<span class=\"token punctuation\">.</span><span class=\"token function\">javaEnabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>ns<span class=\"token operator\">:</span>navigator<span class=\"token punctuation\">.</span>appName<span class=\"token operator\">==</span><span class=\"token string\">'Netscape'</span><span class=\"token punctuation\">,</span>ua<span class=\"token operator\">:</span>navigator<span class=\"token punctuation\">.</span>userAgent<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>version<span class=\"token operator\">:</span><span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>navigator<span class=\"token punctuation\">.</span>appVersion<span class=\"token punctuation\">.</span><span class=\"token function\">substr</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">||</span><span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>navigator<span class=\"token punctuation\">.</span>appVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>win<span class=\"token operator\">:</span>navigator<span class=\"token punctuation\">.</span>platform<span class=\"token operator\">==</span><span class=\"token string\">'Win32'</span><span class=\"token punctuation\">}</span>  <br>is<span class=\"token punctuation\">.</span>mac<span class=\"token operator\">=</span>is<span class=\"token punctuation\">.</span>ua<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mac'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">>=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>is<span class=\"token punctuation\">.</span>ua<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'opera'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">>=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>is<span class=\"token punctuation\">.</span>ie<span class=\"token operator\">=</span>is<span class=\"token punctuation\">.</span>ns<span class=\"token operator\">=</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>is<span class=\"token punctuation\">.</span>opera<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>  <br><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>is<span class=\"token punctuation\">.</span>ua<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gecko'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">>=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>is<span class=\"token punctuation\">.</span>ie<span class=\"token operator\">=</span>is<span class=\"token punctuation\">.</span>ns<span class=\"token operator\">=</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>is<span class=\"token punctuation\">.</span>gecko<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span></code></pre>\n<p>These changes do add up — from our earlier example, the unminified <code>bootstrap.js</code> has a size of 124 KB, whereas the minified <code>bootstrap.min.js</code> has a size of 51 KB. That’s less than half the original size — by <a href=\"https://www.youtube.com/watch?v=kgv7U3GYlDY\">Grabthar’s hammer</a>, what a savings! But seriously, it makes a significant difference in terms of how quickly a website will download and display, especially on slower internet connections.</p>\n<p>The Bootstrap CSS and JavaScript we’re using in our previous example is already minified, but if you want to minify your own code, you could use online tools such as <a href=\"https://javascript-minifier.com/\">JavaScript Minifier</a> or <a href=\"https://www.minifier.org/\">Minify</a>, there are plenty to choose from. Or you would use a command line tool, which saves you the process of copying your code into a website.</p>\n<h4 id=\"file-concatenation\">File concatenation <a class=\"direct-link\" href=\"#file-concatenation\">#</a></h4>\n<p>Another related performance optimization is <strong>concatenation</strong>, which is converting multiple JavaScript files (or CSS files) into a single file. Browsers can download a single file faster than downloading multiple smaller files, based on the HTTP/1.1 protocol that browsers have used since 1999.</p>\n<p>It’s important to note that the new version of the protocol, HTTP/2, was released in 2015 and potentially changes this optimization. HTTP/2 allows multiple simultaneous connections, so in theory it’s better to have multiple small files as opposed to one large concatenated file. However, in practice <a href=\"http://engineering.khanacademy.org/posts/js-packaging-http2.htm\">it doesn’t appear to be quite so simple</a>, as there are still important benefits from concatenation. As of 2018, it is still common practice to concatenate JavaScript and CSS files.</p>\n<p>To concatenate your files, you <em>theoretically</em> could do it manually — copy the contents of each JavaScript file into a single file, repeat for CSS files, etc. Then modify the HTML to link to the single concatenated JavaScript file and the single concatenated CSS file. You’d have to do this each time you deploy your app, which would be quite painful to maintain — it’s much more preferable to use some automated process (more on that below).</p>\n<h4 id=\"critical-css\">Critical CSS <a class=\"direct-link\" href=\"#critical-css\">#</a></h4>\n<p>One more optimization popularized in recent years is inlining the <strong>critical CSS</strong> for a page. This involves using a tool to identify all the HTML elements that the user would first see when going to a web page:</p>\n<p><img src=\"/img/1__eqFRbhOchUMNGLj9lisEqQ.jpeg#medium\" alt=\"Example website labelling critical portion\"><br>\n<em>From <a href=\"https://www.smashingmagazine.com/2015/08/understanding-critical-css/\">https://www.smashingmagazine.com/2015/08/understanding-critical-css/</a></em></p>\n<p>Once these HTML elements are identified, the tool would find all the CSS that affect those elements and add them directly to the HTML file. In this way, the browser is able to display a fully styled website without having to wait for the remaining CSS to download!</p>\n<p>There are different tools that help you identify your critical CSS, from the node-based <a href=\"https://github.com/addyosmani/critical\">critical</a> library by Addy Osmani to the web based <a href=\"https://jonassebastianohlsson.com/criticalpathcssgenerator/\">Critical Path CSS Generator</a> by Jonas Ohlsson Aden. Below is an example of what the HTML <code>&lt;head&gt;</code> element from our previous Bootstrap example would look like after being analyzed by the <a href=\"https://github.com/addyosmani/critical\">critical</a> tool:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1, shrink-to-fit=no<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>description<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>author<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>My test page<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">  <br>      <span class=\"token selector\">:root</span><span class=\"token punctuation\">{</span><span class=\"token property\">--blue</span><span class=\"token punctuation\">:</span>#007bff<span class=\"token punctuation\">;</span><span class=\"token property\">--indigo</span><span class=\"token punctuation\">:</span>#6610f2<span class=\"token punctuation\">;</span><span class=\"token property\">--purple</span><span class=\"token punctuation\">:</span>#6f42c1<span class=\"token punctuation\">;</span><span class=\"token property\">--pink</span><span class=\"token punctuation\">:</span>#e83e8c<span class=\"token punctuation\">;</span><span class=\"token property\">--red</span><span class=\"token punctuation\">:</span>#dc3545<span class=\"token punctuation\">;</span><span class=\"token property\">--orange</span><span class=\"token punctuation\">:</span>#fd7e14<span class=\"token punctuation\">;</span><span class=\"token property\">--yellow</span><span class=\"token punctuation\">:</span>#ffc107<span class=\"token punctuation\">;</span><span class=\"token property\">--green</span><span class=\"token punctuation\">:</span>#28a745<span class=\"token punctuation\">;</span><span class=\"token property\">--teal</span><span class=\"token punctuation\">:</span>#20c997<span class=\"token punctuation\">;</span><span class=\"token property\">--cyan</span><span class=\"token punctuation\">:</span>#17a2b8<span class=\"token punctuation\">;</span><span class=\"token property\">--white</span><span class=\"token punctuation\">:</span>#fff<span class=\"token punctuation\">;</span><span class=\"token property\">--gray</span><span class=\"token punctuation\">:</span>#6c757d<span class=\"token punctuation\">;</span><span class=\"token property\">--gray-dark</span><span class=\"token punctuation\">:</span>#343a40<span class=\"token punctuation\">;</span><span class=\"token property\">--primary</span><span class=\"token punctuation\">:</span>#007bff<span class=\"token punctuation\">;</span><span class=\"token property\">--secondary</span><span class=\"token punctuation\">:</span>#6c757d<span class=\"token punctuation\">;</span><span class=\"token property\">--success</span><span class=\"token punctuation\">:</span>#28a745<span class=\"token punctuation\">;</span><span class=\"token property\">--info</span><span class=\"token punctuation\">:</span>#17a2b8<span class=\"token punctuation\">;</span><span class=\"token property\">--warning</span><span class=\"token punctuation\">:</span>#ffc107<span class=\"token punctuation\">;</span><span class=\"token property\">--danger</span><span class=\"token punctuation\">:</span>#dc3545<span class=\"token punctuation\">;</span><span class=\"token property\">--light</span><span class=\"token punctuation\">:</span>#f8f9fa<span class=\"token punctuation\">;</span><span class=\"token property\">--dark</span><span class=\"token punctuation\">:</span>#343a40<span class=\"token punctuation\">;</span><span class=\"token property\">--breakpoint-xs</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">--breakpoint-sm</span><span class=\"token punctuation\">:</span>576px<span class=\"token punctuation\">;</span><span class=\"token property\">--breakpoint-md</span><span class=\"token punctuation\">:</span>768px<span class=\"token punctuation\">;</span><span class=\"token property\">--breakpoint-lg</span><span class=\"token punctuation\">:</span>992px<span class=\"token punctuation\">;</span><span class=\"token property\">--breakpoint-xl</span><span class=\"token punctuation\">:</span>1200px<span class=\"token punctuation\">;</span><span class=\"token property\">--font-family-sans-serif</span><span class=\"token punctuation\">:</span>-apple-system<span class=\"token punctuation\">,</span>BlinkMacSystemFont<span class=\"token punctuation\">,</span><span class=\"token string\">\"Segoe UI\"</span><span class=\"token punctuation\">,</span>Roboto<span class=\"token punctuation\">,</span><span class=\"token string\">\"Helvetica Neue\"</span><span class=\"token punctuation\">,</span>Arial<span class=\"token punctuation\">,</span>sans-serif<span class=\"token punctuation\">,</span><span class=\"token string\">\"Apple Color Emoji\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Segoe UI Emoji\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Segoe UI Symbol\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Noto Color Emoji\"</span><span class=\"token punctuation\">;</span><span class=\"token property\">--font-family-monospace</span><span class=\"token punctuation\">:</span>SFMono-Regular<span class=\"token punctuation\">,</span>Menlo<span class=\"token punctuation\">,</span>Monaco<span class=\"token punctuation\">,</span>Consolas<span class=\"token punctuation\">,</span><span class=\"token string\">\"Liberation Mono\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Courier New\"</span><span class=\"token punctuation\">,</span>monospace<span class=\"token punctuation\">}</span><span class=\"token selector\">\\*,::after,::before</span><span class=\"token punctuation\">{</span><span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span>border-box<span class=\"token punctuation\">}</span><span class=\"token selector\">html</span><span class=\"token punctuation\">{</span><span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span>sans-serif<span class=\"token punctuation\">;</span><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span>1.15<span class=\"token punctuation\">;</span><span class=\"token property\">-webkit-text-size-adjust</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">-ms-text-size-adjust</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">-ms-overflow-style</span><span class=\"token punctuation\">:</span>scrollbar<span class=\"token punctuation\">}</span><span class=\"token atrule\"><span class=\"token rule\">@-ms-viewport</span></span><span class=\"token punctuation\">{</span><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>device-width<span class=\"token punctuation\">}</span><span class=\"token selector\">article,footer,main,nav,section</span><span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>block<span class=\"token punctuation\">}</span><span class=\"token selector\">body</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span>-apple-system<span class=\"token punctuation\">,</span>BlinkMacSystemFont<span class=\"token punctuation\">,</span><span class=\"token string\">\"Segoe UI\"</span><span class=\"token punctuation\">,</span>Roboto<span class=\"token punctuation\">,</span><span class=\"token string\">\"Helvetica Neue\"</span><span class=\"token punctuation\">,</span>Arial<span class=\"token punctuation\">,</span>sans-serif<span class=\"token punctuation\">,</span><span class=\"token string\">\"Apple Color Emoji\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Segoe UI Emoji\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Segoe UI Symbol\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Noto Color Emoji\"</span><span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>1rem<span class=\"token punctuation\">;</span><span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span>400<span class=\"token punctuation\">;</span><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span>1.5<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#212529<span class=\"token punctuation\">;</span><span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span>left<span class=\"token punctuation\">;</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>#fff<span class=\"token punctuation\">}</span><span class=\"token selector\">h1,h2</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span>.5rem<span class=\"token punctuation\">}</span><span class=\"token selector\">p</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span>1rem<span class=\"token punctuation\">}</span><span class=\"token selector\">ul</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span>1rem<span class=\"token punctuation\">}</span><span class=\"token selector\">a</span><span class=\"token punctuation\">{</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#007bff<span class=\"token punctuation\">;</span><span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>transparent<span class=\"token punctuation\">;</span><span class=\"token property\">-webkit-text-decoration-skip</span><span class=\"token punctuation\">:</span>objects<span class=\"token punctuation\">}</span><span class=\"token selector\">img</span><span class=\"token punctuation\">{</span><span class=\"token property\">vertical-align</span><span class=\"token punctuation\">:</span>middle<span class=\"token punctuation\">;</span><span class=\"token property\">border-style</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">button</span><span class=\"token punctuation\">{</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">}</span><span class=\"token selector\">button,input</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span>inherit<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>inherit<span class=\"token punctuation\">;</span><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span>inherit<span class=\"token punctuation\">}</span><span class=\"token selector\">button,input</span><span class=\"token punctuation\">{</span><span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span>visible<span class=\"token punctuation\">}</span><span class=\"token selector\">button</span><span class=\"token punctuation\">{</span><span class=\"token property\">text-transform</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">[type=submit],button</span><span class=\"token punctuation\">{</span><span class=\"token property\">-webkit-appearance</span><span class=\"token punctuation\">:</span>button<span class=\"token punctuation\">}</span><span class=\"token selector\">[type=submit]::-moz-focus-inner,button::-moz-focus-inner</span><span class=\"token punctuation\">{</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">border-style</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">::-webkit-file-upload-button</span><span class=\"token punctuation\">{</span><span class=\"token property\">font</span><span class=\"token punctuation\">:</span>inherit<span class=\"token punctuation\">;</span><span class=\"token property\">-webkit-appearance</span><span class=\"token punctuation\">:</span>button<span class=\"token punctuation\">}</span><span class=\"token selector\">h1,h2</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span>.5rem<span class=\"token punctuation\">;</span><span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span>inherit<span class=\"token punctuation\">;</span><span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span>500<span class=\"token punctuation\">;</span><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span>1.2<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>inherit<span class=\"token punctuation\">}</span><span class=\"token selector\">h1</span><span class=\"token punctuation\">{</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>2.5rem<span class=\"token punctuation\">}</span><span class=\"token selector\">h2</span><span class=\"token punctuation\">{</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>2rem<span class=\"token punctuation\">}</span><span class=\"token selector\">.lead</span><span class=\"token punctuation\">{</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>1.25rem<span class=\"token punctuation\">;</span><span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span>300<span class=\"token punctuation\">}</span><span class=\"token selector\">.display-4</span><span class=\"token punctuation\">{</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>3.5rem<span class=\"token punctuation\">;</span><span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span>300<span class=\"token punctuation\">;</span><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span>1.2<span class=\"token punctuation\">}</span><span class=\"token selector\">.img-fluid</span><span class=\"token punctuation\">{</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">height</span><span class=\"token punctuation\">:</span>auto<span class=\"token punctuation\">}</span><span class=\"token selector\">.container</span><span class=\"token punctuation\">{</span><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">padding-right</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">;</span><span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">;</span><span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span>auto<span class=\"token punctuation\">;</span><span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span>auto<span class=\"token punctuation\">}</span>[<span class=\"token atrule\"><span class=\"token rule\">@media</span>]<span class=\"token punctuation\">(</span><span class=\"token property\">http</span><span class=\"token punctuation\">:</span>//twitter.com/media <span class=\"token string\">\"Twitter profile for @media\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span>576px<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">{</span><span class=\"token selector\">.container</span><span class=\"token punctuation\">{</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span>540px<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>[<span class=\"token atrule\"><span class=\"token rule\">@media</span>]<span class=\"token punctuation\">(</span><span class=\"token property\">http</span><span class=\"token punctuation\">:</span>//twitter.com/media <span class=\"token string\">\"Twitter profile for @media\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span>768px<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">{</span><span class=\"token selector\">.container</span><span class=\"token punctuation\">{</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span>720px<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>[<span class=\"token atrule\"><span class=\"token rule\">@media</span>]<span class=\"token punctuation\">(</span><span class=\"token property\">http</span><span class=\"token punctuation\">:</span>//twitter.com/media <span class=\"token string\">\"Twitter profile for @media\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span>992px<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">{</span><span class=\"token selector\">.container</span><span class=\"token punctuation\">{</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span>960px<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>[<span class=\"token atrule\"><span class=\"token rule\">@media</span>]<span class=\"token punctuation\">(</span><span class=\"token property\">http</span><span class=\"token punctuation\">:</span>//twitter.com/media <span class=\"token string\">\"Twitter profile for @media\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span>1200px<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">{</span><span class=\"token selector\">.container</span><span class=\"token punctuation\">{</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span>1140px<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.row</span><span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>-ms-flexbox<span class=\"token punctuation\">;</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>flex<span class=\"token punctuation\">;</span><span class=\"token property\">-ms-flex-wrap</span><span class=\"token punctuation\">:</span>wrap<span class=\"token punctuation\">;</span><span class=\"token property\">flex-wrap</span><span class=\"token punctuation\">:</span>wrap<span class=\"token punctuation\">;</span><span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span>-15px<span class=\"token punctuation\">;</span><span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span>-15px<span class=\"token punctuation\">}</span><span class=\"token selector\">.col-4</span><span class=\"token punctuation\">{</span><span class=\"token property\">position</span><span class=\"token punctuation\">:</span>relative<span class=\"token punctuation\">;</span><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span>1px<span class=\"token punctuation\">;</span><span class=\"token property\">padding-right</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">;</span><span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span>15px<span class=\"token punctuation\">}</span><span class=\"token selector\">.col-4</span><span class=\"token punctuation\">{</span><span class=\"token property\">-ms-flex</span><span class=\"token punctuation\">:</span>0 0 33.333333%<span class=\"token punctuation\">;</span><span class=\"token property\">flex</span><span class=\"token punctuation\">:</span>0 0 33.333333%<span class=\"token punctuation\">;</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span>33.333333%<span class=\"token punctuation\">}</span><span class=\"token selector\">.form-control</span><span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>block<span class=\"token punctuation\">;</span><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>100%<span class=\"token punctuation\">;</span><span class=\"token property\">height</span><span class=\"token punctuation\">:</span><span class=\"token function\">calc</span><span class=\"token punctuation\">(</span>2.25rem + 2px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>.375rem .75rem<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>1rem<span class=\"token punctuation\">;</span><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span>1.5<span class=\"token punctuation\">;</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#495057<span class=\"token punctuation\">;</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>#fff<span class=\"token punctuation\">;</span><span class=\"token property\">background-clip</span><span class=\"token punctuation\">:</span>padding-box<span class=\"token punctuation\">;</span><span class=\"token property\">border</span><span class=\"token punctuation\">:</span>1px solid #ced4da<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span>.25rem<span class=\"token punctuation\">}</span><span class=\"token selector\">.form-control::-ms-expand</span><span class=\"token punctuation\">{</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>transparent<span class=\"token punctuation\">;</span><span class=\"token property\">border</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">}</span><span class=\"token selector\">.form-control::-webkit-input-placeholder</span><span class=\"token punctuation\">{</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#6c757d<span class=\"token punctuation\">;</span><span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span>1<span class=\"token punctuation\">}</span><span class=\"token selector\">.form-control::-moz-placeholder</span><span class=\"token punctuation\">{</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#6c757d<span class=\"token punctuation\">;</span><span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span>1<span class=\"token punctuation\">}</span><span class=\"token selector\">.form-control:-ms-input-placeholder</span><span class=\"token punctuation\">{</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#6c757d<span class=\"token punctuation\">;</span><span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span>1<span class=\"token punctuation\">}</span><span class=\"token selector\">.form-control::-ms-input-placeholder</span><span class=\"token punctuation\">{</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#6c757d<span class=\"token punctuation\">;</span><span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span>1<span class=\"token punctuation\">}</span><span class=\"token selector\">.form-inline</span><span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>-ms-flexbox<span class=\"token punctuation\">;</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>flex<span class=\"token punctuation\">;</span><span class=\"token property\">-ms-flex-flow</span><span class=\"token punctuation\">:</span>row wrap<span class=\"token punctuation\">;</span><span class=\"token property\">flex-flow</span><span class=\"token punctuation\">:</span>row wrap<span class=\"token punctuation\">;</span><span class=\"token property\">-ms-flex-align</span><span class=\"token punctuation\">:</span>center<span class=\"token punctuation\">;</span><span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span>center<span class=\"token punctuation\">}</span>[<span class=\"token atrule\"><span class=\"token rule\">@media</span>]<span class=\"token punctuation\">(</span><span class=\"token property\">http</span><span class=\"token punctuation\">:</span>//twitter.com/media <span class=\"token string\">\"Twitter profile for @media\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span>576px<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">{</span><span class=\"token selector\">.form-inline .form-control</span><span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>inline-block<span class=\"token punctuation\">;</span><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>auto<span class=\"token punctuation\">;</span><span class=\"token property\">vertical-align</span><span class=\"token punctuation\">:</span>middle<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.btn</span><span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>inline-block<span class=\"token punctuation\">;</span><span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span>400<span class=\"token punctuation\">;</span><span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span>center<span class=\"token punctuation\">;</span><span class=\"token property\">white-space</span><span class=\"token punctuation\">:</span>nowrap<span class=\"token punctuation\">;</span><span class=\"token property\">vertical-align</span><span class=\"token punctuation\">:</span>middle<span class=\"token punctuation\">;</span><span class=\"token property\">border</span><span class=\"token punctuation\">:</span>1px solid transparent<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>.375rem .75rem<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>1rem<span class=\"token punctuation\">;</span><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span>1.5<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span>.25rem<span class=\"token punctuation\">}</span><span class=\"token selector\">.btn-primary</span><span class=\"token punctuation\">{</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#fff<span class=\"token punctuation\">;</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>#007bff<span class=\"token punctuation\">;</span><span class=\"token property\">border-color</span><span class=\"token punctuation\">:</span>#007bff<span class=\"token punctuation\">}</span><span class=\"token selector\">.btn-outline-success</span><span class=\"token punctuation\">{</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#28a745<span class=\"token punctuation\">;</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>transparent<span class=\"token punctuation\">;</span><span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span><span class=\"token property\">border-color</span><span class=\"token punctuation\">:</span>#28a745<span class=\"token punctuation\">}</span><span class=\"token selector\">.btn-lg</span><span class=\"token punctuation\">{</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>.5rem 1rem<span class=\"token punctuation\">;</span><span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span>1.25rem<span class=\"token punctuation\">;</span><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span>1.5<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span>.3rem<span class=\"token punctuation\">}</span><span class=\"token selector\">.fade:not(.show)</span><span class=\"token punctuation\">{</span><span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">}</span><span class=\"token selector\">.nav</span><span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>-ms-flexbox<span class=\"token punctuation\">;</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>flex<span class=\"token punctuation\">;</span><span class=\"token property\">-ms-flex-wrap</span><span class=\"token punctuation\">:</span>wrap<span class=\"token punctuation\">;</span><span class=\"token property\">flex-wrap</span><span class=\"token punctuation\">:</span>wrap<span class=\"token punctuation\">;</span><span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">list-style</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">.nav-link</span><span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>block<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>.5rem 1rem<span class=\"token punctuation\">}</span><span class=\"token selector\">.nav-tabs</span><span class=\"token punctuation\">{</span><span class=\"token property\">border-bottom</span><span class=\"token punctuation\">:</span>1px solid #dee2e6<span class=\"token punctuation\">}</span><span class=\"token selector\">.nav-tabs .nav-item</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span>-1px<span class=\"token punctuation\">}</span><span class=\"token selector\">.nav-tabs .nav-link</span><span class=\"token punctuation\">{</span><span class=\"token property\">border</span><span class=\"token punctuation\">:</span>1px solid transparent<span class=\"token punctuation\">;</span><span class=\"token property\">border-top-left-radius</span><span class=\"token punctuation\">:</span>.25rem<span class=\"token punctuation\">;</span><span class=\"token property\">border-top-right-radius</span><span class=\"token punctuation\">:</span>.25rem<span class=\"token punctuation\">}</span><span class=\"token selector\">.nav-tabs .nav-link.active</span><span class=\"token punctuation\">{</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#495057<span class=\"token punctuation\">;</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>#fff<span class=\"token punctuation\">;</span><span class=\"token property\">border-color</span><span class=\"token punctuation\">:</span>#dee2e6 #dee2e6 #fff<span class=\"token punctuation\">}</span><span class=\"token selector\">.tab-content>.tab-pane</span><span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">.tab-content>.active</span><span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>block<span class=\"token punctuation\">}</span><span class=\"token selector\">.navbar</span><span class=\"token punctuation\">{</span><span class=\"token property\">position</span><span class=\"token punctuation\">:</span>relative<span class=\"token punctuation\">;</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>-ms-flexbox<span class=\"token punctuation\">;</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>flex<span class=\"token punctuation\">;</span><span class=\"token property\">-ms-flex-wrap</span><span class=\"token punctuation\">:</span>wrap<span class=\"token punctuation\">;</span><span class=\"token property\">flex-wrap</span><span class=\"token punctuation\">:</span>wrap<span class=\"token punctuation\">;</span><span class=\"token property\">-ms-flex-align</span><span class=\"token punctuation\">:</span>center<span class=\"token punctuation\">;</span><span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span>center<span class=\"token punctuation\">;</span><span class=\"token property\">-ms-flex-pack</span><span class=\"token punctuation\">:</span>justify<span class=\"token punctuation\">;</span><span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span>space-between<span class=\"token punctuation\">;</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>.5rem 1rem<span class=\"token punctuation\">}</span><span class=\"token selector\">.navbar-nav</span><span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>-ms-flexbox<span class=\"token punctuation\">;</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>flex<span class=\"token punctuation\">;</span><span class=\"token property\">-ms-flex-direction</span><span class=\"token punctuation\">:</span>column<span class=\"token punctuation\">;</span><span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span>column<span class=\"token punctuation\">;</span><span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">list-style</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">}</span><span class=\"token selector\">.navbar-nav .nav-link</span><span class=\"token punctuation\">{</span><span class=\"token property\">padding-right</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">;</span><span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span>0<span class=\"token punctuation\">}</span>[<span class=\"token atrule\"><span class=\"token rule\">@media</span>]<span class=\"token punctuation\">(</span><span class=\"token property\">http</span><span class=\"token punctuation\">:</span>//twitter.com/media <span class=\"token string\">\"Twitter profile for @media\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span>992px<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">{</span><span class=\"token selector\">.navbar-expand-lg</span><span class=\"token punctuation\">{</span><span class=\"token property\">-ms-flex-flow</span><span class=\"token punctuation\">:</span>row nowrap<span class=\"token punctuation\">;</span><span class=\"token property\">flex-flow</span><span class=\"token punctuation\">:</span>row nowrap<span class=\"token punctuation\">;</span><span class=\"token property\">-ms-flex-pack</span><span class=\"token punctuation\">:</span>start<span class=\"token punctuation\">;</span><span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span>flex-start<span class=\"token punctuation\">}</span><span class=\"token selector\">.navbar-expand-lg .navbar-nav</span><span class=\"token punctuation\">{</span><span class=\"token property\">-ms-flex-direction</span><span class=\"token punctuation\">:</span>row<span class=\"token punctuation\">;</span><span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span>row<span class=\"token punctuation\">}</span><span class=\"token selector\">.navbar-expand-lg .navbar-nav .nav-link</span><span class=\"token punctuation\">{</span><span class=\"token property\">padding-right</span><span class=\"token punctuation\">:</span>.5rem<span class=\"token punctuation\">;</span><span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span>.5rem<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.navbar-light .navbar-nav .nav-link</span><span class=\"token punctuation\">{</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span><span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span>0<span class=\"token punctuation\">,</span>0<span class=\"token punctuation\">,</span>.5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.navbar-light .navbar-nav .active>.nav-link</span><span class=\"token punctuation\">{</span><span class=\"token property\">color</span><span class=\"token punctuation\">:</span><span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span>0<span class=\"token punctuation\">,</span>0<span class=\"token punctuation\">,</span>.9<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.jumbotron</span><span class=\"token punctuation\">{</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>2rem 1rem<span class=\"token punctuation\">;</span><span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span>2rem<span class=\"token punctuation\">;</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>#e9ecef<span class=\"token punctuation\">;</span><span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span>.3rem<span class=\"token punctuation\">}</span>[<span class=\"token atrule\"><span class=\"token rule\">@media</span>]<span class=\"token punctuation\">(</span><span class=\"token property\">http</span><span class=\"token punctuation\">:</span>//twitter.com/media <span class=\"token string\">\"Twitter profile for @media\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span>576px<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">{</span><span class=\"token selector\">.jumbotron</span><span class=\"token punctuation\">{</span><span class=\"token property\">padding</span><span class=\"token punctuation\">:</span>4rem 2rem<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.bg-secondary</span><span class=\"token punctuation\">{</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>#6c757d<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.bg-light</span><span class=\"token punctuation\">{</span><span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>#f8f9fa<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.my-2</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span>.5rem<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.my-2</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span>.5rem<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.mr-auto</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span>auto<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span>[<span class=\"token atrule\"><span class=\"token rule\">@media</span>]<span class=\"token punctuation\">(</span><span class=\"token property\">http</span><span class=\"token punctuation\">:</span>//twitter.com/media <span class=\"token string\">\"Twitter profile for @media\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span>576px<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">{</span><span class=\"token selector\">.my-sm-0</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span>0<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.my-sm-0</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span>0<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.mr-sm-2</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span>.5rem<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>[<span class=\"token atrule\"><span class=\"token rule\">@media</span>]<span class=\"token punctuation\">(</span><span class=\"token property\">http</span><span class=\"token punctuation\">:</span>//twitter.com/media <span class=\"token string\">\"Twitter profile for @media\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span>992px<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">{</span><span class=\"token selector\">.my-lg-0</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span>0<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span><span class=\"token selector\">.my-lg-0</span><span class=\"token punctuation\">{</span><span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span>0<span class=\"token important\">!important</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>  <br>    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>preload<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css](https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css)<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">as</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>style<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">onload</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>this.onload=null;this.rel=<span class=\"token punctuation\">'</span>stylesheet<span class=\"token punctuation\">'</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>noscript</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css](https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css)<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>noscript</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><span class=\"token operator\">!</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>n<span class=\"token punctuation\">.</span>loadCSS<span class=\"token operator\">||</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">loadCSS</span><span class=\"token operator\">=</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">var</span> o<span class=\"token operator\">=</span>loadCSS<span class=\"token punctuation\">.</span>relpreload<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">support</span><span class=\"token operator\">=</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">var</span> e<span class=\"token punctuation\">;</span><span class=\"token keyword\">try</span><span class=\"token punctuation\">{</span>e<span class=\"token operator\">=</span>n<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"link\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>relList<span class=\"token punctuation\">.</span><span class=\"token function\">supports</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"preload\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>e<span class=\"token operator\">=</span><span class=\"token operator\">!</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">return</span> e<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>o<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">bindMediaToggle</span><span class=\"token operator\">=</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">t</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">var</span> e<span class=\"token operator\">=</span>t<span class=\"token punctuation\">.</span>media<span class=\"token operator\">||</span><span class=\"token string\">\"all\"</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">function</span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>t<span class=\"token punctuation\">.</span>media<span class=\"token operator\">=</span>e<span class=\"token punctuation\">}</span>t<span class=\"token punctuation\">.</span>addEventListener<span class=\"token operator\">?</span>t<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"load\"</span><span class=\"token punctuation\">,</span>a<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>t<span class=\"token punctuation\">.</span>attachEvent<span class=\"token operator\">&amp;&amp;</span>t<span class=\"token punctuation\">.</span><span class=\"token function\">attachEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"onload\"</span><span class=\"token punctuation\">,</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>t<span class=\"token punctuation\">.</span>rel<span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span><span class=\"token punctuation\">,</span>t<span class=\"token punctuation\">.</span>media<span class=\"token operator\">=</span><span class=\"token string\">\"only x\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span><span class=\"token number\">3e3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>o<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">poly</span><span class=\"token operator\">=</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>o<span class=\"token punctuation\">.</span><span class=\"token function\">support</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> t<span class=\"token operator\">=</span>n<span class=\"token punctuation\">.</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"link\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>e<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>e<span class=\"token operator\">&lt;</span>t<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>e<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">var</span> a<span class=\"token operator\">=</span>t<span class=\"token punctuation\">[</span>e<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span class=\"token string\">\"preload\"</span><span class=\"token operator\">!==</span>a<span class=\"token punctuation\">.</span>rel<span class=\"token operator\">||</span><span class=\"token string\">\"style\"</span><span class=\"token operator\">!==</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"as\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">||</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data-loadcss\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">||</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data-loadcss\"</span><span class=\"token punctuation\">,</span><span class=\"token operator\">!</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>o<span class=\"token punctuation\">.</span><span class=\"token function\">bindMediaToggle</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token operator\">!</span>o<span class=\"token punctuation\">.</span><span class=\"token function\">support</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>o<span class=\"token punctuation\">.</span><span class=\"token function\">poly</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">var</span> t<span class=\"token operator\">=</span>n<span class=\"token punctuation\">.</span><span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">.</span>poly<span class=\"token punctuation\">,</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>n<span class=\"token punctuation\">.</span>addEventListener<span class=\"token operator\">?</span>n<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"load\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>o<span class=\"token punctuation\">.</span><span class=\"token function\">poly</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>n<span class=\"token punctuation\">.</span><span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>n<span class=\"token punctuation\">.</span>attachEvent<span class=\"token operator\">&amp;&amp;</span>n<span class=\"token punctuation\">.</span><span class=\"token function\">attachEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"onload\"</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>o<span class=\"token punctuation\">.</span><span class=\"token function\">poly</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>n<span class=\"token punctuation\">.</span><span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token string\">\"undefined\"</span><span class=\"token operator\">!=</span><span class=\"token keyword\">typeof</span> exports<span class=\"token operator\">?</span>exports<span class=\"token punctuation\">.</span>loadCSS<span class=\"token operator\">=</span>loadCSS<span class=\"token operator\">:</span>n<span class=\"token punctuation\">.</span>loadCSS<span class=\"token operator\">=</span>loadCSS<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"undefined\"</span><span class=\"token operator\">!=</span><span class=\"token keyword\">typeof</span> global<span class=\"token operator\">?</span>global<span class=\"token operator\">:</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[https://code.jquery.com/jquery-3.3.1.slim.min.js](https://code.jquery.com/jquery-3.3.1.slim.min.js)<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js](https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js)<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js](https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js)<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token comment\">&lt;!--[if lt IE 9]>  <br>      &lt;script src=\"[https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js](https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js)\">&lt;/script>  <br>    &lt;![endif]--></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><br>     <span class=\"token comment\">&lt;!-- ...  --></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>As you can see, the tool added an inline <code>&lt;style&gt;</code> element with a lot of CSS. Note that this isn’t <strong>all</strong> of Bootstrap’s CSS, just the CSS that the tool analyzed was necessary for the initial view of this page. Bootstrap’s minified CSS alone is 51 KB; this new HTML file, which includes all the HTML plus the newly inlined CSS and JavaScript, is 12 KB. This decreased size is more important than it may seem — getting your initial HTML/CSS/JS under 14 KB can enable your site to render in milliseconds on some of the slowest of connections. This is because each round trip between a browser and a server can send about 14 KB at a time — by fitting everything into a single round trip, you can avoid the overhead of additional round trips (more detailed info <a href=\"https://developers.google.com/speed/docs/insights/mobile\">here</a>).</p>\n<p>The tool also added a <code>rel=&quot;preload&quot;</code> attribute on the CSS link element, which enables <a href=\"https://www.filamentgroup.com/lab/async-css.html\">the CSS file to be loaded asynchronously</a>. This is normally something you don’t want to do — although it would speed up the site, the user would see the unstyled plain HTML first, then see the properly styled site a few moments later when the CSS file is loaded. However, in our case, since we’re inlining the critical CSS, this isn’t an issue, so loading the remaining CSS asynchronously works perfectly!</p>\n<h4 id=\"implementing-a-build-step\">Implementing a build step <a class=\"direct-link\" href=\"#implementing-a-build-step\">#</a></h4>\n<p>At this point you could do things like manually minify and concatenate your files each time you deploy your website, but it would be a huge pain. Ideally you would automate this set of tasks with a single command, which is known as a <strong>build step</strong>. Minification and concatenation are just two of the possible tasks — there can be tasks for anything repetitive that can be automated. Here are some typical tasks in a build step:</p>\n<ul>\n<li>Minify the HTML, CSS, and JavaScript</li>\n<li>Concatenate JavaScript files and CSS files</li>\n<li>Inline critical CSS</li>\n<li>Optimize images (by resizing, removing unused metadata, etc.)</li>\n<li>Add CSS vendor prefixes for browser compatibility</li>\n<li>Transpiling code (from SASS to CSS, or CoffeeScript to JS, etc.)</li>\n<li>Run code testing</li>\n</ul>\n<p>To implement a build step, you’ll need to pick a tool, and there are many to choose from. One popular choice was <a href=\"https://gruntjs.com/\">Grunt</a>, which was released in 2012. It was followed by <a href=\"https://gulpjs.com/\">Gulp</a>, as well as <a href=\"http://broccolijs.com/\">Broccoli.js</a>, <a href=\"https://brunch.io/\">Brunch</a>, and <a href=\"https://webpack.github.io/\">webpack</a>. As of 2018, webpack seems to be the most popular choice, but ultimately any and every one of these tools will serve the purpose of implementing a build step well.</p>\n<blockquote>\n<p><strong>Note</strong>: Using tools for a build step can be quite daunting to learn from scratch. Most tools require you to use the command line — if you’ve never used one before, you can read <a href=\"https://www.learnenough.com/command-line-tutorial\">this tutorial</a> to get a good overview to get started. Many of the popular web developer build tools in 2018 are based on node.js — if you’re unfamiliar with the node.js ecosystem and its use in frontend development, you can read my article <a href=\"https://medium.com/the-node-js-collection/modern-javascript-explained-for-dinosaurs-f695e9747b70\">Modern JavaScript Explained For Dinosaurs</a> for an overview of that as well.</p>\n</blockquote>\n<p><img src=\"/img/1__GbAw9ahi__dxD6LBA6Kh0__g.png\" alt=\"Dinosaur comic panels 3 and 4\"></p>\n<h3 id=\"improving-maintainability-with-templates-and-components\">Improving maintainability with templates and components <a class=\"direct-link\" href=\"#improving-maintainability-with-templates-and-components\">#</a></h3>\n<p>So far we have a decent web page, both reasonably attractive and performant. Right now it looks like this:</p>\n<p><img src=\"/img/1__fO1wXfiWfdv8vY3__qeQv0A.png\" alt=\"Example website with Bootstrap styling\"></p>\n<p>In the navbar, there’s a link to an About page, but it currently doesn’t go anywhere. What if we wanted to make this About page? The most straightforward answer would be to make a copy of the <code>index.html</code> called <code>about.html</code>, and update the content accordingly. Specifically, the content in the <code>&lt;main&gt;</code> element would change, and the rest of the HTML would remain unchanged. Here’s what a simple <code>about.html</code> page would look like:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>viewport<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>width=device-width, initial-scale=1, shrink-to-fit=no<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>description<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>author<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>My test page<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css](https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css)<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[https://code.jquery.com/jquery-3.3.1.slim.min.js](https://code.jquery.com/jquery-3.3.1.slim.min.js)<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js](https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js)<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>[https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js](https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js)<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  </span><br>    <span class=\"token comment\">&lt;!--[if lt IE 9]>  <br><span class=\"highlight-line\">      &lt;script src=\"[https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js](https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js)\">&lt;/script>  </span><br>    &lt;![endif]--></span>  <br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar navbar-expand-lg navbar-light bg-light<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navigation<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar-nav mr-auto<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-item active<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Home<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Info<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>About<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form-inline my-2 my-lg-0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form-control mr-sm-2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn btn-outline-success my-2 my-sm-0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Search<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>About<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Info about this site<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </ins><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar navbar-dark bg-secondary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>contentinfo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Copyright info goes here<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>Note that everything in <code>about.html</code> is identical to <code>index.html</code>, except for the content highlighted. While this works, it becomes problematic from a maintenance perspective. If we make 7 different pages using this technique, it would be a lot of duplicated code. If we later want to make a change to the navbar, we would have to copy the changes over into all 7 files. This violates the well-known software principle called <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\">DRY</a> (Don’t Repeat Yourself).</p>\n<h4 id=\"building-templates-on-the-server\">Building templates on the server <a class=\"direct-link\" href=\"#building-templates-on-the-server\">#</a></h4>\n<p>One solution to this problem is to use a templating engine. This involves writing non-standard HTML in your HTML, which would then be fed into a separate program that would replace the non-standard HTML with standard HTML. This is best explained with an example.</p>\n<p>Say you’re using PHP, one of the earliest languages designed to work with HTML (and still being used by many large companies today). You would make a <code>head.php</code> file (which contains the content from the <code>&lt;head&gt;</code> element), <code>header.php</code> file (which contains the navbar elements), and <code>footer.php</code> (which contains the footer elements).</p>\n<p>Once you have these files, you can make an <code>index.php</code> file which looks like this:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token prolog\">&lt;?php include(\"head.php\");?></span></mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token prolog\">&lt;?php include(\"header.php\");?></span></mark><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>jumbotron<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        ...  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">        ...  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token prolog\">&lt;?php include(\"footer.php\");?></span></mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>And the <code>about.php</code> file would look like this:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token prolog\">&lt;?php include(\"head.php\");?></span></mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token prolog\">&lt;?php include(\"header.php\");?></span> </mark><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>About<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Info about this site<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token prolog\">&lt;?php include(\"footer.php\");?></span></mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>So here you can see that the only part that changes is the content in the middle. If you need to update the header, footer, or external dependencies, you would only need to change them a single time.</p>\n<p>The above code is obviously not valid HTML — you need some sort of build step to replace the <code>include</code> statements with the HTML from the separate files. We actually could incorporate it into the build step that we previously saw (for code minification, file concatenation, critical CSS, etc.). However, this step of generating HTML from templates has traditionally been done dynamically on the server.</p>\n<p><img src=\"/img/1__3fBZ27QgR7eDCoPTjam6nw.png#medium\" alt=\"Diagram of client server model\"><br>\n<em>From <a href=\"https://en.wikipedia.org/wiki/Client%E2%80%93server_model\">wikipedia.org</a></em></p>\n<p>A <strong>server</strong> is the computer that receives web requests and sends back HTML/CSS/JS as a web response (as opposed to the <strong>client,</strong> the computer with the web browser that initiates the web request). A server is generally responsible for creating dynamic HTML based on data in a database. For example, if you search for “red bananas” on <a href=\"http://www.google.com\">www.google.com</a>, there isn’t some unique HTML file just about red bananas that gets sent to you from a server. Instead, the server runs code to dynamically create an HTML response based on your search terms. So here you can kill two birds with one stone — since you’re already have a step to generate dynamic HTML on the server, you can use templates to define the generated HTML to keep your code DRY.</p>\n<p>Building HTML with templates on the server is a solution that has been the de facto standard for quite some time. Besides PHP, there’s <a href=\"https://en.wikipedia.org/wiki/ERuby\">ERB</a> for the <a href=\"https://rubyonrails.org/\">Ruby on Rails</a> framework, the <a href=\"https://docs.djangoproject.com/en/1.7/topics/templates/\">Django template language</a> for Python’s <a href=\"https://www.djangoproject.com/\">Django</a> framework, <a href=\"http://ejs.co/\">EJS</a> for Node’s <a href=\"https://expressjs.com/\">Express</a> framework, etc. This approach can be quite intimidating — in order to take advantage of a template engine to write maintainable code, you essentially first have to learn an entire programming language and web framework! If you were already planning on working with servers and databases, this is a natural fit. But if you were just interested in writing HTML on the frontend, this is quite honestly a huge barrier to entry.</p>\n<blockquote>\n<p>Note: If your website doesn’t require a database, you could instead use a <strong>static site generator</strong>, which uses templates to build static HTML files (<a href=\"https://jekyllrb.com/\">Jekyll</a>, <a href=\"https://gohugo.io/\">Hugo</a>, and <a href=\"https://www.gatsbyjs.org/\">Gatsby</a> are some popular choices). Static site generators can be simpler to use compared to a server-side web framework; however, you’re still required to learn a separate programming language or environment, so there’s still a barrier to entry compared to writing plain HTML.</p>\n</blockquote>\n<h4 id=\"using-web-components-on-the-client\">Using web components on the client <a class=\"direct-link\" href=\"#using-web-components-on-the-client\">#</a></h4>\n<p>Web components were first introduced in 2011 as a completely different approach to solving the maintainability issues of HTML. Web components are built on the <strong>client</strong> as opposed to the <strong>server</strong>, which removes the barrier of having to learn a server-side programming language and web framework just to write maintainable HTML.</p>\n<p>The overall goal of web components is to be able to create reusable widgets. Looking back at the previous example, you could create a navbar component, a header component, and a footer component. Going further, you could create a jumbotron component and an articles component for the content within the page. Then you could use the components in <code>index.html</code> as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    ...</span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>navbar-component</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>navbar-component</span><span class=\"token punctuation\">></span></span> </mark><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>jumbotron-component</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>jumbotron-component</span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>articles-component</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>articles-component</span><span class=\"token punctuation\">></span></span>  </mark><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>  </span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer-component</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer-component</span><span class=\"token punctuation\">></span></span></mark><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>In order for this to work, we need to create <strong>custom elements</strong>, where we essentially are defining new elements for the HTML language (that will only work for this particular website). To create a custom element, you have to use JavaScript. Here’s an example of the JavaScript necessary to create the navbar custom element:</p>\n<pre class=\"language-js\"><code class=\"language-js\">window<span class=\"token punctuation\">.</span>customElements<span class=\"token punctuation\">.</span><span class=\"token function\">define</span><span class=\"token punctuation\">(</span>  <br>  <span class=\"token string\">\"navbar-component\"</span><span class=\"token punctuation\">,</span>  <br>  <span class=\"token keyword\">class</span> <span class=\"token class-name\">extends</span> HTMLElement <span class=\"token punctuation\">{</span>  <br>    <span class=\"token function\">connectedCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  <br>      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">  <br>        &lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\" role=\"navigation\">  <br>          &lt;ul class=\"navbar-nav mr-auto\">  <br>            &lt;li class=\"nav-item active\">  <br>              &lt;a class=\"nav-link\" href=\"#\">Home&lt;/a>  <br>            &lt;/li>  <br>            &lt;li class=\"nav-item\">  <br>              &lt;a class=\"nav-link\" href=\"#\">Info&lt;/a>  <br>            &lt;/li>  <br>            &lt;li class=\"nav-item\">  <br>              &lt;a class=\"nav-link\" href=\"#\">About&lt;/a>  <br>            &lt;/li>  <br>          &lt;/ul>  <br>          &lt;form class=\"form-inline my-2 my-lg-0\">  <br>            &lt;input class=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">  <br>            &lt;button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search&lt;/button>  <br>          &lt;/form>  <br>        &lt;/nav>  <br>       </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>  <br>    <span class=\"token punctuation\">}</span>  <br>  <span class=\"token punctuation\">}</span>  <br><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>The JavaScript looks a bit complex up front (it uses new <a href=\"https://en.wikipedia.org/wiki/ECMAScript#6th_Edition_-_ECMAScript_2015\">ES2015</a> language features), but all it’s doing in this example is defining the HTML for the navbar (shown above in bold) and registering the name <code>navbar-component</code> as a custom element. Note that the HTML is being defined in the JavaScript file using a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\">template literal</a>, essentially a giant string — if you prefer to move this back into a regular HTML file, we’ll need a different mechanism which we’ll discuss in a bit. If you add this JavaScript to the page, you now have the ability to make <code>&lt;navbar-component&gt;</code> elements in addition to normal HTML elements.</p>\n<p>So far in this example, there isn’t much advantage to this approach over the server side template approach. However, the benefits become more clear when you start adding JavaScript functionality and CSS styling to each component. Web components offer features to isolate functionality and styling to stay within each component, making them reusable — not just for this site, but theoretically reusable across multiple projects. This concept can be seen with existing HTML elements such as the <code>&lt;video&gt;</code> element. If you write HTML like this:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>320<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>240<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">controls</span> <span class=\"token attr-name\">loop</span> <span class=\"token attr-name\">muted</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>movie.mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/mp4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>movie.ogg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/ogg<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Your browser doesn't support HTML5 video. Here is  <br>     a <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>movie.mp4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>link to the video<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span> instead.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>You would get a video player that looks like this:</p>\n<p><img src=\"/img/1__3pRSQmwBda1IeFo1Smrg__A.png\" alt=\"Example HTML video element\"><br>\n<em>(this is a picture of a video, not an actual video)</em></p>\n<p>The <code>&lt;video&gt;</code> element comes with its own JavaScript interactive controls and CSS styling which are isolated from the rest of the page. This means when you use a <code>&lt;video&gt;</code> element, you don’t have to worry about it affecting the styles or functionality of your site, and you also don’t have to worry about any of the CSS or JavaScript from the site breaking the video component.</p>\n<p>The goal of web components is to give developers the ability to create their own custom components similar to the <code>&lt;video&gt;</code> element, with all of its isolation and reusability benefits. Here’s how all the parts of the web components specification work together:</p>\n<ul>\n<li>You can create <a href=\"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements\">custom elements</a> in JavaScript as shown earlier. You then can define custom functionality in your JavaScript, as well as pass in attributes from the HTML into the custom element.</li>\n<li>You can use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM\">shadow DOM</a> to style the custom element with CSS that only applies to the element as opposed to the entire document (solving one of the most difficult aspects of CSS).</li>\n<li>If you don’t want to write all your HTML directly in JavaScript, you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template\">HTML templates</a>, where you write the component’s HTML in a normal HTML file in a <code>&lt;template&gt;</code> tag, which won’t get rendered until it gets called by your JavaScript.</li>\n<li>To organize your code, you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/Web_Components/HTML_Imports\">HTML imports</a>, where you can put all the HTML, CSS, and JavaScript necessary to define a component in a file called <code>navbar-component.html</code>, which you then would import in the main HTML file just like you would an external CSS file: <br>\n<code>&lt;link rel=&quot;import&quot; href=&quot;navbar-component.html&quot;&gt;</code>.</li>\n</ul>\n<p>When web components were first announced in 2011, many developers were excited by the possibilities. While server side templating approaches help solve some of the maintainability issues of HTML, web components offered something completely different — the promise of extending HTML will fully featured reusable widgets. This was the missing piece to make the web platform one where you can develop complex applications, as opposed to the simple static content sites it was originally designed for.</p>\n<p>So what happened? Over the next several years, it became clear that browsers were not in agreement about web components as a standard. As of 2018, almost no browser fully supports the four main features of web components as described above, due to potential issues with implementation performance, conflicting standards, and varying corporate interests. This left developers in an interesting position — almost everyone agreed that a component style approach was a necessary part of moving the web from static sites to complex applications, but waiting for browser support seemed like an exercise in futility. What to do?</p>\n<h4 id=\"using-javascript-frameworks-on-the-client\">Using JavaScript frameworks on the client <a class=\"direct-link\" href=\"#using-javascript-frameworks-on-the-client\">#</a></h4>\n<p>By the time it became clear that the HTML web component specification wasn’t going to be implemented anytime soon, JavaScript was already a powerful enough language to pick up the slack. Developers had been making complex applications using the <a href=\"https://jquery.com/\">jQuery</a> library (released in 2006), although it was difficult to organize the code for large scale applications. <a href=\"http://backbonejs.org/\">Backbone.js</a> (released in 2010) was one of the first popular libraries designed to provide a framework to organize code for large single-page applications, followed by <a href=\"https://angularjs.org/\">AngularJS</a>, <a href=\"https://www.emberjs.com/\">Ember.js</a>, and many others.</p>\n<p>All these frameworks worked with existing JavaScript features — they didn’t have to rely on waiting for browsers to implement the web component specification. But none of the frameworks used true components that were isolated and reusable; without the 4 parts of the web component specification (custom elements, shadow DOM, HTML templates, and HTML imports), it didn’t seem possible.</p>\n<p>In 2013, a framework called <a href=\"https://reactjs.org/\">React</a> was released that had an interesting take on this situation. They were able to make a true component-based framework without the web component specification, using the following approaches:</p>\n<ul>\n<li>Instead of using web component’s custom elements specification, React took the approach of defining <strong>all</strong> HTML in JavaScript. Essentially you would define JavaScript functions to output the desired HTML using a special syntax called JSX (which looks like HTML, but gets converted into JavaScript functions using a build step).</li>\n<li>Instead of using web component’s HTML template specification, React provided no way to write HTML outside of JavaScript.</li>\n<li>Instead of using web component’s HTML import specification, React took the approach of importing JavaScript into JavaScript. This wasn’t actually directly possible at the time, but tools such as <a href=\"http://browserify.org/\">Browserify</a> and <a href=\"https://webpack.js.org/\">webpack</a> allowed developers to write <code>require</code> or <code>import</code> statements in their JavaScript which would get converted at build time into a single JavaScript bundle.</li>\n</ul>\n<p>Essentially the insight here is that you could make components work by doing <strong>everything</strong> in JavaScript. Note that one part of the web component specification is missing here, the shadow DOM — React didn’t have a solution to isolated styling when it was first released. Nevertheless, it was enough to provide a framework for building applications with components today.</p>\n<p>This is what the JavaScript looks like using React to make a navbar component:</p>\n<pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">class</span> <span class=\"token class-name\">Navbar</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  <br>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>  <br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar navbar-expand-lg navbar-light bg-light<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navigation<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>navbar-nav mr-auto<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-item active<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Home</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Info</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>nav-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">About</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form-inline my-2 my-lg-0<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>form-control mr-sm-2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">  <br>          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn btn-outline-success my-2 my-sm-0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Search</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">  <br>      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <br>  <span class=\"token punctuation\">}</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Navbar<span class=\"token punctuation\">;</span></code></pre>\n<p>This isn’t too different from the custom element example shown earlier (although the JSX syntax is unsettling to most developers when they first see it). The idea in React is to break this into further sub-components, such that each component does only one thing.</p>\n<p>When React was first released, it was met with a lot of criticism, particularly for its seeming lack of separation of concerns (where developers were taught to keep HTML, CSS, and JS completely separate for maintainability). However, React pushed forward the idea that for complex web applications, separation of concerns isn’t about boundaries between technologies (HTML, CSS, and JS), but instead is about boundaries between units of functionality (in other words, components).</p>\n<p>In addition to being a component-based framework, React brought with it strong opinions about how to manage data within an application, using a declarative approach. What this means is that with React, you don’t need to write code to update the interface directly. Instead you define what the interface is supposed to look like (using JSX), write code to update the data, then let React figure out how to update and render the interface efficiently with its <a href=\"https://reactjs.org/docs/faq-internals.html\">virtual DOM</a> implementation (not to be confused with the shadow DOM). This was a major shift in web framework design, influential to the point where every major framework going forward openly borrowed React’s declarative approach using a virtual DOM implementation — Ember, Angular, Vue.js, the list goes on. As of 2018, the web development community has largely embraced this paradigm as the way of building modern web applications.</p>\n<p>Note that the desire to write HTML in a clear and maintainable way has led us to a place which requires a great deal of programming knowledge; it is almost impossible to avoid JavaScript in particular. In some sense this breaks the promise of HTML, which was designed to be a language that didn’t require an understanding of programming to be used effectively. It’s possible there will come a future where developers can share pre-built web components in pure HTML, but it may take quite some time before that future arrives.</p>\n<blockquote>\n<p>This section provides only a brief overview of the frontend approaches taken by React and other similar frameworks. If you want more complete explanations and tutorials on how to build a working application using various JavaScript frameworks and approaches, check out my series <a href=\"https://medium.com/actualize-network/comparing-frontend-frameworks-part-1-introduction-6cf3d49e42cf\">Comparing Frontend Approaches: A look at jQuery, Vue.js, React, and Elm</a>.</p>\n</blockquote>\n<h3 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h3>\n<p>So this is modern HTML in a nutshell. We covered <strong>writing semantic and accessible content</strong> using appropriate tags and aria attributes, using <strong>CSS and JavaScript</strong> to add styling and dynamic features, using <strong>HTML attributes and tooling</strong> to improve performance, and finally <strong>using templates and components</strong> to improve maintainability. Along the way we can see that to take full advantage of modern HTML, it is nearly impossible to avoid using a build process as well as some form of separate programming language, which is often JavaScript for most approaches.</p>\n<p>Looking at it from a high level can sometimes be discouraging — what used to be a simple and accessible undertaking (making a website with HTML) has now become complex and seemingly unapproachable (making a web application with a JavaScript frontend framework, using a build process with thousands of potentially fragile dependencies). Yet it’s important to note that web development as an industry has only existed for around 30 years — this is a tiny fraction of history compared to other industries (such as architecture, which has been around for many centuries). It’s as if web developers just learned how to build houses out of clay, and are now being asked to use the same tools to build skyscrapers. It’s only natural that our tools and processes evolve; we just have to make sure it evolves in a way that’s inclusive to the original vision of <a href=\"https://www.vanityfair.com/news/2018/07/the-man-who-created-the-world-wide-web-has-some-regrets\">the web as a democratic platform</a>.</p>\n<p>Modern HTML can definitely be frustrating to work with as it continues to change and evolve at a rapid pace. Yet we’re able to do more now than ever before, and we are all essentially at the ground floor of a new industry with the potential to shape it into the platform we want it to become. It’s an exciting time to be a developer, and I hope this information can serve as a roadmap to help you on your journey!</p>\n<p><img src=\"/img/1__fHND__kRQTWkLMFlOwbZNrw.png\" alt=\"Dinosaur comic panel 5\"></p>\n<p><em>Special thanks to</em> <a href=\"https://twitter.com/ryanqnorth\"><em>@ryanqnorth</em></a><em>’s</em> <a href=\"http://www.qwantz.com/\"><em>Dinosaur Comics</em></a><em>, which has served up some of the finest absurdist humor since 2003 (when dinosaurs ruled the web).</em></p>\n<blockquote>\n<p>Interested in this style of learning? Be sure to check out <a href=\"http://anyonecanlearntocode.com/\">Actualize coding bootcamp</a> (where I am the Dean of Instruction as well as a lead instructor). We offer <a href=\"http://anyonecanlearntocode.com/chicago-coding-bootcamp\">in-person classes</a> in Chicago as well as <a href=\"http://anyonecanlearntocode.com/online-coding-bootcamp\">live online classes</a> to help people transition into new careers as modern web developers!</p>\n</blockquote>\n",
      "date_published": "2018-11-13T18:00:00-06:00"
    },{
      "id": "https://peterxjang.com/blog/optimizing-the-ipad-home-screen-for-ios-11-multitasking.html",
      "url": "https://peterxjang.com/blog/optimizing-the-ipad-home-screen-for-ios-11-multitasking.html",
      "title": "Optimizing the iPad Home Screen For iOS 11 Multitasking",
      "content_html": "<p><img src=\"/img/1__kphpkmmsf63WLBMCB9p8uA__2x.jpeg\" alt=\"iPad home screen with all apps in the dock\"></p>\n<p>It’s been a while since I wrote about <a href=\"web-development-on-an-ipad.html\">using an iPad as a laptop replacement</a>. Since then iOS 11 was released, which introduced completely new multitasking capabilities, bringing iPads even closer to having a full computing experience.</p>\n<p>In order to open two apps simultaneously on an iPad in iOS 11, you need to drag apps out of the dock (which now works a lot more similarly to the dock in macOS). Here’s an example of what it looks like:</p>\n<p><img src=\"/img/1__JVUjtLqGLO3YQEpB8Ylscw.gif\" alt=\"iPad multi-tasking animation\"><br>\n<em>iPad multitasking in action (from the <a href=\"https://www.washingtonpost.com/news/the-switch/wp/2017/06/27/the-best-and-worst-of-ios-11/?utm_term=.cd6540c6272f\">Washington Post</a>)</em></p>\n<p>It takes a little while to get used to, but it’s intuitive enough after a while. Probably the biggest issue is that you’ll need to have the app in the dock if you want to multitask with it. Well, it’s possible to drag an app from the home screen instead of the dock, but it’s a lot more clumsy involving <a href=\"https://www.jordanmerrick.com/posts/dockless-multitasking-in-ios-11\">some unintuitive multi-touching gymnastics</a>.</p>\n<p><a href=\"https://medium.com/u/16351034da81\">David Sparks</a> outlined an interesting solution to this problem — don’t have any apps on the home screen, instead <a href=\"https://www.macsparky.com/blog/2017/10/home-screens-macsparkys-strange-looking-ipad\">keep all your apps in the dock</a>. This seems like a crazy idea, but it’s actually not too hard to do it since you can keep folders in the dock. This is what his home screen looks like:</p>\n<p><img src=\"/img/1__fVj8I7KO16HjdQ8zbZQ2bg.png\" alt=\"David Sparks’ iPad home screen\"><br>\n<em>David Sparks’ iPad home screen (from <a href=\"https://www.macsparky.com/blog/2017/10/home-screens-macsparkys-strange-looking-ipad\">macsparky.com</a>)</em></p>\n<p>As strange as this may seem, it’s actually really not hard to organize all your apps into a couple of key folders. The four folders in his dock are Make, Learn, Fix, and Play (which he has always used to organize his apps on the home screen). The rest of the apps are the ones he uses most frequently.</p>\n<p>This is a pretty elegant approach which makes it easy to access any app for split screen (and makes every app easier to access in general). One downside is that the folders don’t have labels in the dock. It’s an unfortunate byproduct of the minimal aesthetic that dominates today’s user interfaces (research shows that <a href=\"https://www.nngroup.com/articles/icon-usability/\">icons should always have text labels</a> to improve usability). For David Sparks, this probably isn’t a big deal, since he has always organized his apps into those four folders and is accustomed to them. For someone who is organizing their apps this way for the first time, not having folder labels in the dock is a suboptimal user experience to say the least.</p>\n<p>My solution to this was to use the same technique as David (no apps on the home screen, all apps in the dock with folders), with my dock arranged such that each folder is adjacent to my most used app in that category. Here’s what my dock looks like at the moment:</p>\n<p><img src=\"/img/1__SaelI9YK4i7aCzG26gFYiA__2x.jpeg\" alt=\"Example iPad dock organiztion\"></p>\n<p>My apps are organized into similar categories: <strong>Consume</strong>, <strong>Create</strong>, <strong>Work</strong>, <strong>Play</strong>, and <strong>Utilities</strong>. For each category, I put my most used app to the left of the folder: <a href=\"https://itunes.apple.com/us/app/google-chrome/id535886823?mt=8\">Chrome</a> for Consume, <a href=\"https://itunes.apple.com/us/app/procreate/id425073498?mt=8\">Procreate</a> for Create, <a href=\"https://itunes.apple.com/us/app/google-calendar/id909319292?mt=8\">Google Calendar</a> for Work, <a href=\"https://itunes.apple.com/us/app/bouncy-hoops/id1232021752?mt=8\">Bouncy Hoops</a> for Play, and Settings for Utilities. These icons are easy enough for me to recognize, which makes it easy to quickly locate the folder for any app. You can think of it as using my most used apps as labels for each folder.</p>\n<p>This particular optimization may become unnecessary if iOS adds the option to have app and folder labels in the dock, or makes it more intuitive to use split screen with apps that aren’t in the dock. But for now, it makes my iPad a lot more usable for multitasking, and having every app in the dock makes it easier to access everything in general. I don’t imagine I’ll be changing this dock setup anytime soon, regardless of newer options that may come. Hope you find these tips to be useful!</p>\n",
      "date_published": "2018-03-01T18:00:00-06:00"
    },{
      "id": "https://peterxjang.com/blog/modern-css-explained-for-dinosaurs.html",
      "url": "https://peterxjang.com/blog/modern-css-explained-for-dinosaurs.html",
      "title": "Modern CSS Explained For Dinosaurs",
      "content_html": "<p><img src=\"/img/1__kXsiGLMHSS4jUx4W6yBOlw.png\" alt=\"Dinosaur comic panel 1\"><br>\n<em>Images from <a href=\"http://www.qwantz.com/\">Dinosaur Comics</a> by <a href=\"https://twitter.com/ryanqnorth\">Ryan North</a></em></p>\n<p>CSS is strangely considered both one of the easiest and one of the hardest languages to learn as a web developer. It’s certainly easy enough to get started with it — you define style properties and values to apply to specific elements, and…that’s pretty much all you need to get going! However, it gets tangled and complicated to organize CSS in a meaningful way for larger projects. Changing any line of CSS to style an element on one page often leads to unintended changes for elements on other pages.</p>\n<p>In order to deal with the inherent complexity of CSS, all sorts of different best practices have been established. The problem is that there isn’t any strong consensus on which best practices are in fact the best, and many of them seem to completely contradict each other. If you’re trying to learn CSS for the first time, this can be disorienting to say the least.</p>\n<p>The goal of this article is to provide a historical context of how CSS approaches and tooling have evolved to what they are today in 2018. By understanding this history, it will be easier to understand each approach and how to use them to your benefit. Let’s get started!</p>\n<blockquote>\n<p><strong>Update</strong>: I made a new video course version of this article, which goes over the material with greater depth, check it out here: <br>\n<a href=\"https://firstclass.actualize.co/p/modern-css-explained-for-dinosaurs\">https://firstclass.actualize.co/p/modern-css-explained-for-dinosaurs</a></p>\n</blockquote>\n<h3 id=\"using-css-for-basic-styling\">Using CSS for basic styling <a class=\"direct-link\" href=\"#using-css-for-basic-styling\">#</a></h3>\n<p>Let’s start with a basic website using just a simple <strong><code>index.html</code></strong>  file that links to a separate <strong><code>index.css</code></strong> file:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Modern CSS<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>index.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header</span><span class=\"token punctuation\">></span></span>This is the header.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>header</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>This is the main content.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span>This is the navigation section.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>aside</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span>This is an aside section.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>aside</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span><span class=\"token punctuation\">></span></span>This is the footer.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Right now we aren’t using any classes or ids in the HTML, just <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element#Content_sectioning\">semantic tags</a>. Without any CSS, the website looks like this (using placeholder text):</p>\n<p><img src=\"/img/1__MwOy9E5LacvhGEtIUb9pXQ.png\" alt=\"Example webpage without styling\"><br>\n<em>Click <a href=\"https://codepen.io/peterxjang/pen/qxbxwK?editors=1100\">here</a> to see a live example</em></p>\n<p>Functional, but not very pretty. We can add CSS to improve the basic typography in <strong><code>index.css</code></strong>:</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* BASIC TYPOGRAPHY                       */</span>  <br><span class=\"token comment\">/* from https://github.com/oxalorg/sakura */</span><br><br><span class=\"token selector\">html</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 62.5%<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> serif<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.8rem<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 1.618<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 38em<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #4a4a4a<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #f9f9f9<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 13px<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 684px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>  <br>    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.53rem<span class=\"token punctuation\">;</span>  <br>  <span class=\"token punctuation\">}</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token atrule\"><span class=\"token rule\">@media</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 382px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>  <br>    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.35rem<span class=\"token punctuation\">;</span>  <br>  <span class=\"token punctuation\">}</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">h1, h2, h3, h4, h5, h6</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 1.1<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> Verdana<span class=\"token punctuation\">,</span> Geneva<span class=\"token punctuation\">,</span> sans-serif<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> 700<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">overflow-wrap</span><span class=\"token punctuation\">:</span> break-word<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">word-wrap</span><span class=\"token punctuation\">:</span> break-word<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">-ms-word-break</span><span class=\"token punctuation\">:</span> break-all<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">word-break</span><span class=\"token punctuation\">:</span> break-word<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">-ms-hyphens</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">-moz-hyphens</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">-webkit-hyphens</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">hyphens</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">h1</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 2.35em<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">h2</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 2em<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">h3</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.75em<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">h4</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.5em<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">h5</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.25em<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">h6</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span></code></pre>\n<p>Here most of the CSS is styling the typography (fonts with sizes, line height, etc.), with some styling for the colors and a centered layout. You’d have to study design to know good values to choose for each of these properties (these styles are from <a href=\"https://github.com/oxalorg/sakura\">sakura.css</a>), but the CSS itself that’s being applied here isn’t too complicated to read. The result looks like this:</p>\n<p><img src=\"/img/1____rykiEopx6MCsnOAAcT8MA.png\" alt=\"Example webpage with basic typography styling\"><br>\n<em>Click <a href=\"https://codepen.io/peterxjang/pen/oEbERP?editors=1100\">here</a> to see a live example</em></p>\n<p>What a difference! This is the promise of CSS — a simple way to add styles to a document, without requiring programming or complex logic. Unfortunately, things start to get hairier when we use CSS for more than just typography and colors (which we’ll tackle next).</p>\n<h3 id=\"using-css-for-layout\">Using CSS for layout <a class=\"direct-link\" href=\"#using-css-for-layout\">#</a></h3>\n<p>In the 1990s, before CSS gained wide adoption, there weren’t a lot of options to layout content on the page. HTML was originally designed as a language to create plain documents, not dynamic websites with sidebars, columns, etc. In those early days, layout was often done using HTML tables — the entire webpage would be within a table, which could be used to organize the content in rows and columns. This approach worked, but the downside was the tight coupling of content and presentation — if you wanted to change the layout of a site, it would require rewriting significant amounts of HTML.</p>\n<p>Once CSS entered the scene, there was a strong push to keep content (written in the HTML) separate from presentation (written in the CSS). So people found ways to move all layout code out of HTML (no more tables) into CSS. It’s important to note that like HTML, CSS wasn’t really designed to layout content on a page either, so early attempts at this separation of concerns were difficult to achieve gracefully.</p>\n<p>Let’s take a look at how this works in practice with our above example. Before we define any CSS layout, we’ll first reset any margins and paddings (which affect layout calculations) as well as give section distinct colors (not to make it pretty, but to make each section visually stand out when testing different layouts).</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* RESET LAYOUT AND ADD COLORS */</span><br><br><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #fff<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #4a4a4a<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">header, footer</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> large<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0.3em 0<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #4a4a4a<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #f9f9f9<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">nav</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #eee<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">main</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #f9f9f9<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">aside</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> #eee<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span></code></pre>\n<p>Now the website temporarily looks like:</p>\n<p><img src=\"/img/1__Ii8mtqbLaS5GIB3VJTpqSw.png\" alt=\"Example website with css reset\"><br>\n<em>Click <a href=\"https://codepen.io/peterxjang/pen/jZWzEV?editors=1100\">here</a> to see a live example</em></p>\n<p>Now we’re ready to use CSS to layout the content on the page. We’ll look at three different approaches in chronological order, starting with the classic float-based layouts.</p>\n<h4 id=\"float-based-layout\">Float-based layout <a class=\"direct-link\" href=\"#float-based-layout\">#</a></h4>\n<p>The CSS float property was originally introduced to float an image inside a column of text on the left or right (something you often see in newspapers). Web developers in the early 2000s took advantage of the fact that you could float not just images, but any element, meaning you could create the illusion of rows and columns by floating entire divs of content. But again, floats weren’t designed for this purpose, so creating this illusion was difficult to pull off in a consistent fashion.</p>\n<p>In 2006, <a href=\"https://alistapart.com/\">A List Apart</a> published the popular article <a href=\"https://alistapart.com/article/holygrail\">In Search of the Holy Grail</a>, which outlined a detailed and thorough approach to creating what was known as the Holy Grail layout — a header, three columns and a footer. It’s pretty crazy to think that what sounds like a fairly straightforward layout would be referred to as the Holy Grail, but that was indeed how hard it was to create consistent layout at the time using pure CSS.</p>\n<p>Below is a float-based layout for our example based on the technique described in that article:</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* FLOAT-BASED LAYOUT */</span><br><br><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding-right</span><span class=\"token punctuation\">:</span> 190px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 240px<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">header, footer</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> -200px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> -190px<span class=\"token punctuation\">;</span>     <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">main, nav, aside</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> left<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">main</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 20px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">nav</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 180px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 10px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> 240px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> -100%<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">aside</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 130px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 10px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> -100%<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">footer</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">clear</span><span class=\"token punctuation\">:</span> both<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">* html nav</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 150px<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span></code></pre>\n<p>Looking at the CSS, you can see there are quite a few hacks necessary to get it to work (negative margins, the <code>clear: both</code> property, hard-coded width calculations, etc.) — the <a href=\"https://alistapart.com/article/holygrail\">article</a> does a good job explaining the reasoning for each in detail. Below is what the result looks like:</p>\n<p><img src=\"/img/1____2LrWDjxL8Q33fL6Ci4hIw.png\" alt=\"Example website with float based layout\"><br>\n<em>Click <a href=\"https://codepen.io/peterxjang/pen/VQeXYg?editors=1100\">here</a> to see a live example</em></p>\n<p>This is nice, but you can see from the colors that the three columns are not equal in height, and the page doesn’t fill the height of the screen. These issues are inherent with a float-based approach. All a float can do is place content to the left or right of a section — the CSS has no way to infer the heights of the content in the other sections. This problem had no straightforward solution until many years later, with a flexbox-based layout.</p>\n<h4 id=\"flexbox-based-layout\">Flexbox-based layout <a class=\"direct-link\" href=\"#flexbox-based-layout\">#</a></h4>\n<p>The flexbox CSS property was first proposed in 2009, but didn’t get widespread browser adoption until around 2015. Flexbox was designed to define how space is distributed across a single column or row, which makes it a better candidate for defining layout compared to using floats. This meant that after about a decade of using float-based layouts, web developers were finally able to use CSS for layout without the need for the hacks needed with floats.</p>\n<p>Below is a flexbox-based layout for our example based on the technique described on the site <a href=\"https://philipwalton.github.io/solved-by-flexbox/demos/holy-grail/\">Solved by Flexbox</a> (a popular resource showcasing different flexbox examples). Note that in order to make flexbox work, we need to an an extra wrapper div around the three columns in the HTML:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Modern CSS<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>index.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>header</span><span class=\"token punctuation\">></span></span>This is the header.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>header</span><span class=\"token punctuation\">></span></span>  </span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </ins><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>This is the main content.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span>This is the navigation section.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>aside</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h4</span><span class=\"token punctuation\">></span></span>This is an aside section.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h4</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>aside</span><span class=\"token punctuation\">></span></span>  </span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </ins><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>footer</span><span class=\"token punctuation\">></span></span>This is the footer.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>footer</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>And here’s the flexbox code in the CSS:</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* FLEXBOX-BASED LAYOUT */</span><br><br><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> 100vh<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">.container</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">main</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 20px<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">nav</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 0 0 180px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 10px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">order</span><span class=\"token punctuation\">:</span> -1<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">aside</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 0 0 130px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 10px<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span></code></pre>\n<p>That is way, way more compact compared to the float-based layout approach! The flexbox properties and values are a bit confusing at first glance, but it eliminates the need for a lot of the hacks like negative margins that were necessary with float-based layouts — a huge win. Here is what the result looks like:</p>\n<p><img src=\"/img/1__I6qa6O31X__jlilGCrcSTsQ.png\" alt=\"Example website with flexbox based layout\"><br>\n<em>Click <a href=\"https://codepen.io/peterxjang/pen/xYZWGz?editors=1100\">here</a> for a live example</em></p>\n<p>Much better! The columns are all equal height and take up the full height of the page. In some sense this seems perfect, but there are a couple of minor downsides to this approach. One is browser support — currently every modern browser supports flexbox, but some older browsers never will. Fortunately browser vendors are making a bigger push to end support for these older browsers, making a more consistent development experience for web designers. Another downside is the fact that we needed to add the <code>&lt;div class=&quot;container&quot;&gt;</code> to the markup — it would be nice to avoid it. In an ideal world, any CSS layout wouldn’t require changing the HTML markup at all.</p>\n<p>The biggest downside though is the code in the CSS itself — flexbox eliminates a lot of the float hacks, but the code isn’t as expressive as it could be for defining layout. It’s hard to read the flexbox CSS and get a visual understanding how all of the elements will be laid out on the page. This leads to a lot of guessing and checking when writing flexbox-based layouts.</p>\n<p>It’s important to note again that flexbox was designed to space elements within a single column or row — it was not designed for an entire page layout! Even though it does a serviceable job (much better than float-based layouts), a different specification was specifically developed to handle layouts with multiple rows and columns. This specification is known as CSS grid.</p>\n<h4 id=\"grid-based-layout\">Grid-based layout <a class=\"direct-link\" href=\"#grid-based-layout\">#</a></h4>\n<p>CSS grid was first proposed in 2011 (not too long after the flexbox proposal), but took a long time to gain widespread adoption with browsers. As of early 2018, CSS grid is supported by most modern browsers (a huge improvement over even a year or two ago).</p>\n<p>Below is a grid-based layout for our example based on the first method in this <a href=\"https://css-tricks.com/css-grid-one-layout-multiple-ways/\">CSS tricks article</a>. Note that for this example, we can get rid of the <code>&lt;div class=&quot;container&quot;&gt;</code> that we had to add for the flexbox-based layout — we can simply use the original HTML without modification. Here’s what the CSS looks like:</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* GRID-BASED LAYOUT */</span><br><br><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> grid<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> 100vh<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">grid-template-columns</span><span class=\"token punctuation\">:</span> 200px 1fr 150px<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">grid-template-rows</span><span class=\"token punctuation\">:</span> min-content 1fr min-content<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">header</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">grid-row</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">grid-column</span><span class=\"token punctuation\">:</span> 1 / 4<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">nav</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">grid-row</span><span class=\"token punctuation\">:</span> 2<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">grid-column</span><span class=\"token punctuation\">:</span> 1 / 2<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 10px<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">main</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">grid-row</span><span class=\"token punctuation\">:</span> 2<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">grid-column</span><span class=\"token punctuation\">:</span> 2 / 3<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 20px<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">aside</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">grid-row</span><span class=\"token punctuation\">:</span> 2<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">grid-column</span><span class=\"token punctuation\">:</span> 3 / 4<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 10px<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">footer</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">grid-row</span><span class=\"token punctuation\">:</span> 3<span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">grid-column</span><span class=\"token punctuation\">:</span> 1 / 4<span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span></code></pre>\n<p>The result is visually identical to the flexbox based layout. However, the CSS here is much improved in the sense that it clearly expresses the desired layout. The size and shape of the columns and rows are defined in the body selector, and each item in the grid is defined directly by its position.</p>\n<p>One thing that can be confusing is the <code>grid-column</code> property, which defines the start point / end point of the column. It can be confusing because in this example, there are 3 columns, but the numbers range from 1 to 4. It becomes more clear when you look at the picture below:</p>\n<p><img src=\"/img/1__GOJJrm9Mhp__Qr319Bc7V9Q.png\" alt=\"Example website with grid based layout\"><br>\n<em>Click <a href=\"https://codepen.io/peterxjang/pen/vdLROM?editors=1100\">here</a> to see a live example</em></p>\n<p>The first column starts at 1 and ends at 2, the second column starts at 2 and ends at 3, and the third column starts at 3 and ends at 4. The header has a <code>grid-column</code> of <code>1 / 4</code> to span the entire page, the nav has a <code>grid-column</code> of <code>1 / 2</code> to span the first column, etc.</p>\n<p>Once you get used to the grid syntax, it clearly becomes the ideal way to express layout in CSS. The only real downside to a grid-based layout is browser support, which again has improved tremendously over the past year. It’s hard to overstate the importance of CSS grid as the first real tool in CSS that was actually designed for layout. In some sense, web designers have always had to be very conservative with making creative layouts, since the tools up until now have been fragile, using various hacks and workarounds. Now that CSS grid exists, there is the potential for a new wave of creative layout designs that never would have been possible before — exciting times!</p>\n<p><img src=\"/img/1__JGkKSd3Hs7Pq17Qt5xTEzw.png\" alt=\"Dinosaur comic panel 2\"></p>\n<h3 id=\"using-a-css-preprocessor-for-new-syntax\">Using a CSS preprocessor for new syntax <a class=\"direct-link\" href=\"#using-a-css-preprocessor-for-new-syntax\">#</a></h3>\n<p>So far we’ve covered using CSS for basic styling as well as layout. Now we’ll get into tooling that was created to help improve the experience of working with CSS as a language itself, starting with CSS preprocessors.</p>\n<p>A CSS preprocessor allows you to write styles using a different language which gets converted into CSS that the browser can understand. This was critical back in the day when browsers were very slow to implement new features. The first major CSS preprocessor was <a href=\"http://sass-lang.com/\">Sass</a>, released in 2006. It featured a new concise syntax (indentation instead of brackets, no semicolons, etc.) and added advanced features missing from CSS, such as variables, helper functions, and calculations. Here’s what the color section of our earlier example would look like using Sass with variables:</p>\n<pre class=\"language-sass\"><code class=\"language-sass\"><span class=\"token variable-line\"><span class=\"token variable\">$dark-color</span><span class=\"token punctuation\">:</span> #4a4a4a  </span><br><span class=\"token variable-line\"><span class=\"token variable\">$light-color</span><span class=\"token punctuation\">:</span> #f9f9f9  </span><br><span class=\"token variable-line\"><span class=\"token variable\">$side-color</span><span class=\"token punctuation\">:</span> #eee</span><br><br><span class=\"token selector\">body  </span><br><span class=\"token property-line\">  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$dark-color</span>  </span><br>    <br><span class=\"token selector\">header, footer  </span><br><span class=\"token property-line\">  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$dark-color</span>  </span><br><span class=\"token property-line\">  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$light-color</span>  </span><br>    <br><span class=\"token selector\">main  </span><br><span class=\"token property-line\">  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$light-color</span></span><br><br><span class=\"token selector\">nav, aside  </span><br><span class=\"token property-line\">  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$side-color</span></span></code></pre>\n<p>Note how reusable variables are defined with the <code>$</code> symbol, and that brackets and semicolons are eliminated, making for a cleaner looking syntax. The cleaner syntax in Sass is nice, but features like variables were revolutionary at the time, as they opened up new possibilities for writing clean and maintainable CSS.</p>\n<p>To use Sass, you need to <a href=\"https://www.ruby-lang.org/en/documentation/installation/\">install Ruby</a>, the programming language used to compile Sass code to regular CSS. Then you would need to install the <a href=\"http://sass-lang.com/install\">Sass gem</a>, then run a <a href=\"http://sass-lang.com/guide#topic-1\">command in the command line</a> to convert your .sass files into .css files. Here’s an example of what a command would look like:</p>\n<pre><code>sass --watch index.sass index.css\n</code></pre>\n<p>This command will convert Sass code written in a file named <code>index.sass</code> to regular CSS in a file named <code>index.css</code> (the <code>--watch</code> argument tells it to run any time the input changes on save, which is convenient).</p>\n<p>This process is known as a build step, and it was a pretty significant barrier to entry back in 2006. If you’re used to programming languages like Ruby, the process is pretty straightforward. But many frontend developers at the time only worked with HTML and CSS, which did not require any such tools. So it was a big ask to have someone learn an entire ecosystem to be able to get the features offered by a CSS preprocessor.</p>\n<p>In 2009, the <a href=\"http://lesscss.org/\">Less</a> CSS preprocessor was released. It was also written in Ruby, and offered similar features to Sass. The key difference was the syntax, which was designed to be as close to CSS as possible. This means that any CSS code is valid Less code. Here’s the same example written using Less syntax:</p>\n<pre class=\"language-less\"><code class=\"language-less\"><span class=\"token variable\">@dark-color<span class=\"token punctuation\">:</span></span> #4a4a4a<span class=\"token punctuation\">;</span>  <br><span class=\"token variable\">@light-color<span class=\"token punctuation\">:</span></span> #f9f9f9<span class=\"token punctuation\">;</span>  <br><span class=\"token variable\">@side-color<span class=\"token punctuation\">:</span></span> #eee<span class=\"token punctuation\">;</span><br><br><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">@dark-color</span><span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span>  <br>    <br><span class=\"token selector\">header, footer</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">@dark-color</span><span class=\"token punctuation\">;</span>  <br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">@light-color</span><span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span>  <br>    <br><span class=\"token selector\">main</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">@light-color</span><span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span><br><br><span class=\"token selector\">nav, aside</span> <span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">@side-color</span><span class=\"token punctuation\">;</span>  <br><span class=\"token punctuation\">}</span></code></pre>\n<p>It’s nearly the same (<code>@</code> prefix instead of <code>$</code> for variables), but not as pretty as the Sass example, with the same curly brackets and semi-colons as CSS. Yet the fact that it’s closer to CSS made it easier for developers to adopt it. In 2012, Less was rewritten to use JavaScript (specifically <a href=\"https://nodejs.org/en/\">Node.js</a>) instead of Ruby for compiling. This made Less faster than its Ruby counterparts, and made it more appealing to developers who were already using Node.js in their workflows.</p>\n<p>To convert this code to regular CSS, you would first need to <a href=\"https://nodejs.org/en/download/\">install Node.js</a>, then <a href=\"http://lesscss.org/#using-less-installation\">install Less</a>, then run a command like:</p>\n<pre><code>lessc index.less index.css\n</code></pre>\n<p>This command will convert Less code written in a file named <code>index.less</code> to regular CSS in a file named <code>index.css</code>. Note that the <code>lessc</code> command does not come with a way to watch files for changes (unlike the <code>sass</code> command), meaning you would need to install a different tool to automatically watch and compile <code>.less</code> files, adding a bit more complexity to the process. Again, this is not difficult for programmers who are used to using command line tools, but it is a significant barrier to entry for others who simply want to use a CSS preprocessor.</p>\n<p>As Less gained mindshare, Sass developers adapted by adding a new syntax called <a href=\"http://sass-lang.com/documentation/file.SASS_CHANGELOG.html#SCSS__Sassy_CSS_\">SCSS</a> in 2010 (which was a superset of CSS similar to Less). They also released <a href=\"http://sass-lang.com/libsass\">LibSass</a>, a C/C++ port of the Ruby Sass engine, which made it faster and able to be used in various languages.</p>\n<p>Another alternative CSS preprocessor is <a href=\"http://stylus-lang.com/\">Stylus</a>, which came out in 2010, written in Node.js, and focuses on cleaner syntax compared to Sass or Less. Usually conversations about CSS preprocessors focus on those three as the most popular (Sass, Less, and Stylus). In the end, they are all pretty similar in terms of the features they offer, so you can’t really go wrong picking any of them.</p>\n<p>However, some people make the argument that CSS preprocessors are becoming less necessary, as browsers are finally beginning to implement some of their features (such as variables and calculations). Furthermore, there’s a different approach known as CSS postprocessing that has the potential to make CSS preprocessors obsolete (obviously not without controversy), which we’ll get into next.</p>\n<h3 id=\"using-a-css-postprocessor-for-transformative-features\">Using a CSS postprocessor for transformative features <a class=\"direct-link\" href=\"#using-a-css-postprocessor-for-transformative-features\">#</a></h3>\n<p>A CSS postprocessor uses JavaScript to analyze and transform your CSS into valid CSS. In this sense it’s pretty similar to a CSS preprocessor — you can think of it as a different approach to solving the same problem. The key difference is that while a CSS preprocessor uses special syntax to identify what needs to be transformed, a CSS postprocessor can parse regular CSS and transform it without any special syntax required. This is best illustrated with an example. Let’s look at a part of the CSS we originally defined above to style the header tags:</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"highlight-line\"><span class=\"token selector\">h1, h2, h3, h4, h5, h6</span> <span class=\"token punctuation\">{</span>  </span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token property\">-ms-hyphens</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token property\">-moz-hyphens</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token property\">-webkit-hyphens</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>    </ins><br><span class=\"highlight-line\">  <span class=\"token property\">hyphens</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>  </span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span></code></pre>\n<p>The items in bold are called vendor prefixes. Vendor prefixes are used by browsers when they are experimentally adding or testing new CSS features, giving a way for developers to use these new CSS properties while the implementation is being finalized. Here the <code>-ms</code> prefix is for Microsoft Internet Explorer, the <code>-moz</code> prefix is for Mozilla Firefox, and the <code>-webkit</code> prefix is for browsers using the webkit rendering engine (like Google Chrome, Safari, and newer versions of Opera).</p>\n<p>It’s pretty annoying to remember to put in all these different vendor prefixes to use these CSS properties. It would be nice to have a tool that can automatically put in vendor prefixes as needed. We can sort of pull this off with CSS preprocessors. For example, you could do something like this with SCSS:</p>\n<pre class=\"language-scss\"><code class=\"language-scss\"><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">@mixin</span> <span class=\"token function\">hyphens</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token property\">-ms-hyphens</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token property\">-moz-hyphens</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token property\">-webkit-hyphens</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token property\">hyphens</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token selector\">h1, h2, h3, h4, h5, h6 </span><span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token keyword\">@include</span> <span class=\"token function\">hyphens</span><span class=\"token punctuation\">(</span>auto<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span></code></pre>\n<p>Here we’re using <a href=\"http://sass-lang.com/guide#topic-6\">Sass’ mixin feature</a>, which allows you to define a chunk of CSS once and reuse it anywhere else. When this file is compiled into regular CSS, any <code>@include</code> statements will be replaced with the CSS from the matching <code>@mixin</code>. Overall this isn’t a bad solution, but you are responsible for defining each mixin the first time for any CSS property requiring vendor prefixes. These mixin definitions will require maintenance, as you may want to remove specific vendor prefixes that you no longer need as browsers update their CSS compatibility.</p>\n<p>Instead of using mixins, it would be nice to simply write normal CSS and have a tool automatically identify properties that require prefixes and add them accordingly. A CSS postprocessor is capable of doing exactly that. For example, if you use <a href=\"http://postcss.org/\">PostCSS</a> with the <a href=\"https://github.com/postcss/autoprefixer\">autoprefixer plugin</a>, you can write completely normal CSS without any vendor prefixes and let the postprocessor do the rest of the work:</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"highlight-line\"><span class=\"token selector\">h1, h2, h3, h4, h5, h6</span> <span class=\"token punctuation\">{</span> </span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token property\">hyphens</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span></code></pre>\n<p>When you run the CSS postprocessor on this code, the result is the <code>hyphens: auto;</code> line gets replaced with all the appropriate vendor prefixes (as defined in the autoprefixer plugin, which you don’t need to directly manage). Meaning you can just write regular CSS without having to worry about any compatibility or special syntax, which is nice!</p>\n<p>There are plugins other than autoprefixer for PostCSS that allow you to do really cool things. The <a href=\"http://cssnext.io/\">cssnext</a> plugin allows you to use experimental CSS features. The <a href=\"https://github.com/css-modules/css-modules\">CSS modules</a> plugin automatically changes classes to avoid name conflicts. The <a href=\"https://stylelint.io/\">stylelint</a> plugin identifies errors and inconsistent conventions in your CSS. These tools have really started to take off in the last year or two, showcasing developer workflows that has never been possible before!</p>\n<p>There is a price to pay for this progress, however. Installing and using a CSS postprocessor like PostCSS is more involved compared to using a CSS preprocessor. Not only do you have to install and run tools using the command line, but you need to install and configure individual plugins and define a more complex set of rules (like which browsers you are targeting, etc.) Instead of running PostCSS straight from the command line, many developers integrate it into configurable build systems like <a href=\"https://github.com/postcss/postcss#runners\">Grunt</a>, <a href=\"https://github.com/postcss/postcss#gulp\">Gulp</a>, or <a href=\"https://github.com/postcss/postcss#webpack\">webpack</a>, which help manage all the different build tools you might use in your frontend workflow.</p>\n<blockquote>\n<p><strong>Note</strong>: It can be quite overwhelming to learn all the necessary parts to making a modern frontend build system work if you’ve never used one before. If you want to get started from scratch, check out my article <a href=\"modern-javascript-explained-for-dinosaurs.html\">Modern JavaScript Explained For Dinosaurs</a>, which goes over all the JavaScript tooling necessary to take advantage of these modern features for a frontend developer.</p>\n</blockquote>\n<p>It’s worth noting that there is some debate around CSS postprocessors. Some argue that the terminology is confusing (<a href=\"https://css-tricks.com/the-trouble-with-preprocessing-based-on-future-specs/\">one argument</a> is that they should all be called CSS preprocessors, <a href=\"https://medium.com/@ddprrt/deconfusing-pre-and-post-processing-d68e3bd078a3\">another argument</a> is that they should just be simply called CSS processors, etc.). Some believe CSS postprocessors eliminate the need for CSS preprocessors altogether, some believe they should be used together. In any case, it’s clear that learning how to use a CSS postprocessor is worth it if you’re interested in pushing the edge of what’s possible with CSS.</p>\n<p><img src=\"/img/1__53X7__j093ePj9MOxrkA5sw.png\" alt=\"Dinosaur comic panels 3 and 4\"></p>\n<h3 id=\"using-css-methodologies-for-maintainability\">Using CSS methodologies for maintainability <a class=\"direct-link\" href=\"#using-css-methodologies-for-maintainability\">#</a></h3>\n<p>Tools like CSS preprocessors and CSS postprocessors go a long way towards improving the CSS development experience. But these tools alone aren’t enough to solve the problem of maintaining large CSS codebases. To address this, people began to document different guidelines on how to write CSS, generally referred to as CSS methodologies.</p>\n<p>Before we dive into any particular CSS methodology, it’s important to understand what makes CSS hard to maintain over time. The key issue is the global nature of CSS — every style you define is globally applied to every part of the page. It becomes your job to either come up with a detailed naming convention to maintain unique class names or wrangle with <a href=\"https://www.smashingmagazine.com/2007/07/css-specificity-things-you-should-know/\">specificity rules</a> to determine which style gets applied any given element. CSS methodologies provide an organized way to write CSS in order to avoid these pain points with large code bases. Let’s take a look at some of the popular methodologies in rough chronological order.</p>\n<h4 id=\"oocss\">OOCSS <a class=\"direct-link\" href=\"#oocss\">#</a></h4>\n<p><a href=\"https://github.com/stubbornella/oocss/wiki\">OOCSS</a> (Object Oriented CSS) was first presented in 2009 as a methodology organized around two main principles. The first principle is <strong>separate structure and skin</strong>. This means the CSS to define the structure (like layout) shouldn’t be mixed together with the CSS to define the skin (like colors, fonts, etc.). This makes it easier to “re-skin” an application. The second principle is <strong>separate container and content</strong>. This means think of elements as re-usable objects, with the key idea being that an object should look the same regardless of where it is on the page.</p>\n<p>OOCSS provides well thought out guidelines, but isn’t very prescriptive on the specifics of the approach. Later approaches like SMACSS took the core concepts and added more detail to make it easier to get started.</p>\n<h4 id=\"smacss\">SMACSS <a class=\"direct-link\" href=\"#smacss\">#</a></h4>\n<p><a href=\"https://smacss.com/\">SMACSS</a> (Scalable and Modular Architecture for CSS) was introduced in 2011 as a methodology based around writing your CSS in 5 distinct categories — <strong>base rules</strong>, <strong>layout rules</strong>, <strong>modules</strong>, <strong>state rules</strong>, and <strong>theme rules</strong>. The SMACSS methodology also recommends some naming conventions. For layout rules, you would prefix class names with <code>l-</code> or <code>layout-</code>. For state rules, you would prefix class names that describe the state, like <code>is-hidden</code> or <code>is-collapsed</code>.</p>\n<p>SMACSS has a lot more specifics in its approach compared to OOCSS, but it still requires some careful thought in deciding what CSS rules should go into which category. Later approaches like BEM took away some of this decision making to make it even easier to adopt.</p>\n<h4 id=\"bem\">BEM <a class=\"direct-link\" href=\"#bem\">#</a></h4>\n<p><a href=\"https://en.bem.info/\">BEM</a> (Block, Element, Modifier) was introduced in 2010 as a methodology organized around the idea of dividing the user interface into independent blocks. A <strong>block</strong> is a re-usable component (an example would be a search form, defined as <code>&lt;form class=&quot;search-form&quot;&gt;&lt;/form&gt;</code>). An <strong>element</strong> is a smaller part of a block that can’t be re-used on its own (an example would be a button within the search form, defined as <code>&lt;button class=&quot;search-form__button&quot;&gt;Search&lt;/button&gt;</code>). A <strong>modifier</strong> is an entity that defines the appearance, state, or behavior of a block or element (an example would be a disabled search form button, defined as <code>&lt;button class=&quot;search-form__button search-form__button--disabled&quot;&gt;Search&lt;/button&gt;</code>).</p>\n<p>The BEM methodology is simple to understand, with a specific naming convention that allows newcomers to apply it without having to make complex decisions. The downside for some is that the class names can be quite verbose, and don’t follow traditional rules for <a href=\"https://css-tricks.com/semantic-class-names/\">writing semantic class names</a>. Later approaches like Atomic CSS would take this untraditional approach to a whole other level!</p>\n<h4 id=\"atomic-css\">Atomic CSS <a class=\"direct-link\" href=\"#atomic-css\">#</a></h4>\n<p><a href=\"https://www.smashingmagazine.com/2013/10/challenging-css-best-practices-atomic-approach/\">Atomic CSS</a> (also known as Functional CSS) was introduced in 2014 as a methodology organized around the idea of creating small, single-purpose classes with names based on visual function. This approach is in complete opposition with OOCSS, SMACSS, and BEM — instead of treating elements on the page as re-usable objects, Atomic CSS ignores these objects altogether and uses re-usable single purpose utility classes to style each element. So instead of something like <code>&lt;button class=&quot;search-form__button&quot;&gt;Search&lt;/button&gt;</code>, you would have something like <code>&lt;button class=&quot;f6 br3 ph3 pv2 white bg-purple hover-bg-light-purple&quot;&gt;Search&lt;/button&gt;</code>.</p>\n<p>If your first reaction to this example is to recoil in horror, you’re not alone — many people saw this methodology as a complete violation of established CSS best practices. However, there has been a lot of excellent discussion around the idea of questioning the effectiveness of those best practices in different scenarios. <a href=\"https://adamwathan.me/css-utility-classes-and-separation-of-concerns/\">This article</a> does a great job highlighting how traditional separation of concerns ends up creating CSS that depends on the HTML (even when using methodologies like BEM), while an atomic or functional approach is about creating HTML that depends on the CSS. Neither is wrong, but upon close inspection you can see that a true separation of concerns between CSS and HTML is never fully achievable!</p>\n<p>Other CSS methodologies like CSS in JS actually embrace the notion that CSS and HTML will always depend on each other, leading to one of the most controversial methodologies yet…</p>\n<h4 id=\"css-in-js\">CSS in JS <a class=\"direct-link\" href=\"#css-in-js\">#</a></h4>\n<p><a href=\"http://blog.vjeux.com/2014/javascript/react-css-in-js-nationjs.html\">CSS in JS</a> was introduced in 2014 as a methodology organized around defining CSS styles not in a separate style sheet, but directly in each component itself. It was introduced as an approach for the <a href=\"https://reactjs.org/\">React JavaScript framework</a> (which already took the controversial approach of defining the HTML for a component directly in JavaScript instead of a separate HTML file). Originally the methodology used inline styles, but later implementations used JavaScript to generate CSS (with unique class names based on the component) and insert it into the document with a style tag.</p>\n<p>The CSS in JS methodology once again goes completely against established CSS best practices of separation of concerns. This is because the way we use the web has shifted dramatically over time. Originally the web largely consisted of static web sites — here the separation of HTML content from CSS presentation makes a lot of sense. Nowadays the web is used for creating dynamic web applications — here it makes sense to separate things out by re-usable components.</p>\n<p>The goal of the CSS in JS methodology is to be able to define components with hard boundaries that consist of their own encapsulated HTML/CSS/JS, such that the CSS in one component has no chance of affecting any other components. React was one of the first widely adopted frameworks that pushed for these components with hard boundaries, influencing other major frameworks like Angular, Ember, and Vue.js to follow suit. It’s important to note that the CSS in JS methodology is relatively new, and there’s a lot of experimentation going on in this space as developers try to establish new best practices for CSS in the age of components for web applications.</p>\n<p>It’s easy to get overwhelmed by the many different CSS methodologies that are out there, but it’s important to keep in mind that there is no one right approach — you should think of them as different possible tools you can use when you have a sufficiently complex CSS codebase. Having different well-thought-out options to choose from works in your favor, and all the recent experimentation happening in this space benefits every developer in the long run!</p>\n<h3 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h3>\n<p>So this is modern CSS in a nutshell. We covered <strong>using CSS for basic styling</strong> with typographic properties, <strong>using CSS for layout</strong> using float, flexbox, and grid based approaches, <strong>using a CSS preprocessor for new syntax</strong> such as variables and mixins, <strong>using a CSS postprocessor for transformative features</strong> such as adding vendor prefixes, and <strong>using CSS methodologies for maintainability</strong> to overcome the global nature of CSS styles. We didn’t get a chance to dig into a lot of other features CSS has to offer, like advanced selectors, transitions, animations, shapes, dynamic variables — the list goes on and on. There’s a lot of ground to cover with CSS — anyone who says it’s easy probably doesn’t know the half of it!</p>\n<p>Modern CSS can definitely be frustrating to work with as it continues to change and evolve at a rapid pace. But it’s important to remember the historical context of how the web has evolved over time, and it’s good to know that there are a lot of smart people out there willing to build concrete tools and methodologies to help CSS best practices evolve right along with the web. It’s an exciting time to be a developer, and I hope this information can serve as a roadmap to help you on your journey!</p>\n<p><img src=\"/img/1__7Z__JtjrzLil6LFrM7lrNJQ.png\" alt=\"Dinosaur comic panel 5\"></p>\n<p><em>Special thanks again to</em> <a href=\"https://twitter.com/ryanqnorth\"><em>@ryanqnorth</em></a><em>’s</em> <a href=\"http://www.qwantz.com/\"><em>Dinosaur Comics</em></a><em>, which has served up some of the finest absurdist humor since 2003 (when dinosaurs ruled the web).</em></p>\n",
      "date_published": "2018-02-03T18:00:00-06:00"
    },{
      "id": "https://peterxjang.com/blog/prototyping-with-vuejs-and-bootstrap.html",
      "url": "https://peterxjang.com/blog/prototyping-with-vuejs-and-bootstrap.html",
      "title": "Prototyping with Vue.js and Bootstrap",
      "content_html": "<p><img src=\"/img/1__UTO3Xix1EbdZXYP4Bam__eg.png\" alt=\"Example Bootstrap modal\"></p>\n<p>Let’s say you’re in a situation where you want to create a quick prototype frontend for a web application, something you would throw together in a couple of hours. In this scenario it might be overkill to use a <a href=\"modern-javascript-explained-for-dinosaurs.html\">modern build process</a> with a component-based frontend architecture. One good combo can be to use <a href=\"https://getbootstrap.com/\">Bootstrap</a> for visuals and <a href=\"https://vuejs.org/\">Vue.js</a> for interactivity. These frameworks work well for creating prototypes, because they don’t necessarily require any tooling or configuration — you can start with this <a href=\"https://getbootstrap.com/docs/4.0/getting-started/introduction/#starter-template\">Bootstrap HTML template</a>, add the <a href=\"https://vuejs.org/v2/guide/#Getting-Started\">script tag for Vue.js</a>, and you’re good to go!</p>\n<blockquote>\n<p><strong>Note</strong>: My guess is that there will be some visceral responses here about how everyone should <strong>always</strong> use npm or yarn to manage dependencies and that no one should <strong>ever</strong> include individual script tags in their HTML. If that’s your reaction, this article probably isn’t for you — if you feel like you can rapidly prototype while still using your build tools of choice, go for it! This article is for people who want to avoid the overhead of tooling and configuration and still be able to leverage framework features painlessly for prototyping.</p>\n</blockquote>\n<p>Here’s a quick example of rendering a list of five items using some basic Bootstrap classes for styling:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Items<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-group<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-group-item list-group-item-action<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Morbi<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-group-item list-group-item-action<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Fusce<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-group-item list-group-item-action<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Aenean<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-group-item list-group-item-action<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Rhoncus<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  <br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-group-item list-group-item-action<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Sed<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p><img src=\"/img/1__HFqBoMzEIKl__pZvAGsMHRw.png\" alt=\"Example Bootstrap button list group\"></p>\n<p>Not too exciting yet (we’ll get there). Now let’s add some Vue.js to render the same list of items dynamically with a loop:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><ins class=\"highlight-line highlight-line-add\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </ins><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Items<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-group<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>   <br><span class=\"highlight-line\">        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-group-item list-group-item-action<span class=\"token punctuation\">\"</span></span>  </span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item in items<span class=\"token punctuation\">\"</span></span> </ins><br>      <span class=\"token punctuation\">></span></span>  <br><ins class=\"highlight-line highlight-line-add\">        {{ item.title }}</ins><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>Here we’re using the Vue.js <code>v-for</code> directive to render a list of items, which are defined in the Vue instance in JavaScript:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>  <br>  el<span class=\"token operator\">:</span> <span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">,</span>  <br>  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  <br>    items<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>  <br>      <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Morbi\"</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"Morbi nec dictum...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  <br>      <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Fusce\"</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"Fusce molestie...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  <br>      <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Aenean\"</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"Aenean et lectus...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  <br>      <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Rhoncus\"</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"Rhoncus eleifend...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  <br>      <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Sed\"</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"Sed tellus...\"</span><span class=\"token punctuation\">}</span>  <br>    <span class=\"token punctuation\">]</span>  <br>  <span class=\"token punctuation\">}</span>  <br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<p>You can see a working example with the full HTML and JavaScript <a href=\"https://codepen.io/peterxjang/pen/jYBKmN?editors=1010\">here</a>.</p>\n<p>This may not seem that impressive style-wise, but now we have all of Bootstrap’s visual features at our fingertips! Let’s say we want to be able to click on each item to show a <a href=\"https://getbootstrap.com/docs/4.0/components/modal/#live-demo\">Bootstrap modal</a> with more details about the item. A Bootstrap modal is a <code>&lt;div&gt;</code> that is hidden until something triggers it, usually a button on the page. Here’s the example from Bootstrap’s documentation of a button that activates a modal:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- Button trigger modal --></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn btn-primary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-toggle</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#exampleModal<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  Launch demo modal<br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><br><br><span class=\"token comment\">&lt;!-- Modal --></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal fade<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>exampleModal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>-1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dialog<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-labelledby</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>exampleModalLabel<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-hidden</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-dialog<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>document<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h5</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-title<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>exampleModalLabel<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Modal title<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h5</span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>close<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-dismiss</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Close<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">aria-hidden</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token entity named-entity\" title=\"&times;\">&amp;times;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-body<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>        ...<br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-footer<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn btn-secondary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-dismiss</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Close<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn btn-primary<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Save changes<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>What is not immediately apparent is that Bootstrap is toggling the <code>&lt;div&gt;</code> using JavaScript (which was loaded elsewhere as a script in the HTML). The user doesn’t need to write any JavaScript for this example to work — the only thing necessary is the <code>data-toggle=&quot;modal&quot;</code> and <code>data-target=&quot;#exampleModal&quot;</code> attributes in the button that corresponds with the <code>id=&quot;exampleModal&quot;</code> in the modal div.</p>\n<p>In order to use this modal with Vue.js, we have to make sure Bootstrap’s JavaScript doesn’t conflict with Vue’s JavaScript. There are 3 different approaches that come to mind:</p>\n<ul>\n<li><strong>Make a Vue.js component for the modal</strong>. This would require passing in props for each individual item, as well as toggling the modal using Vue’s events (instead of Bootstrap’s <code>data-toggle</code> and <code>data-target</code> attributes). The rough architecture would look like <a href=\"https://vuejs.org/v2/examples/modal.html\">this example</a>. This is a clean approach, but it seems over-architected for the purposes of making a quick prototype.</li>\n<li><strong>Make multiple Bootstrap modals within the loop</strong>. This would require using Bootstrap’s<code>data-toggle</code> and <code>data-target</code> attributes in conjunction with using Vue.js to bind a unique id attribute for each modal (otherwise each item would toggle the same modal). This approach works, but it seems wasteful to make multiple modals when you only need one with dynamic content.</li>\n<li><strong>Make one Bootstrap modal and keep track of the current item</strong>. This would require using Bootstrap’s<code>data-toggle</code> and <code>data-target</code> attributes in conjunction with a Vue event to update the current item when an item is clicked. This seems like the best approach for a prototype, since it allows us to use a single dynamic modal and not have to rewrite Bootstrap’s JavaScript to toggle it.</li>\n</ul>\n<p>There is actually a fourth approach, which is to use a library like <a href=\"https://bootstrap-vue.js.org/\">Bootstrap-Vue</a>, which is essentially code written by someone using the first approach to wrap all of Bootstrap’s components using Vue.js components. Again, a potentially useful approach, but it seems like overkill for just one modal.</p>\n<p>Here’s what the code would look like for the third approach — make a single Bootstrap modal and keep track of the current item that was clicked. There’s surprisingly little code to add other than the HTML for the modal itself. The HTML changes as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Items<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-group<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span>  <br><span class=\"highlight-line\">        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span>  </span><br><span class=\"highlight-line\">        <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>list-group-item list-group-item-action<span class=\"token punctuation\">\"</span></span>  </span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\">data-toggle</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal<span class=\"token punctuation\">\"</span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\">data-target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#exampleModal<span class=\"token punctuation\">\"</span></span>  </ins><br><span class=\"highlight-line\">        <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item in items<span class=\"token punctuation\">\"</span></span>  </span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>setCurrentItem(item)<span class=\"token punctuation\">\"</span></span>  </ins><br>      <span class=\"token punctuation\">></span></span>  <br><span class=\"highlight-line\">      {{ item.title }}</span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token comment\">&lt;!-- Modal --></span>  </span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal fade<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>exampleModal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>-1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dialog<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-labelledby</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>exampleModalLabel<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-hidden</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-dialog<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>document<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h5</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-title<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>exampleModalLabel<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">              </ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h5</span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>close<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-dismiss</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Close<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">aria-hidden</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token entity named-entity\" title=\"&times;\">&amp;times;</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-body<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">            </ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-footer<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn btn-secondary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-dismiss</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Close<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>btn btn-primary<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Save changes<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  </ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>     </ins><br><span class=\"highlight-line\">      </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>Here we’re using Bootstrap’s<code>data-toggle</code> and <code>data-target</code> attributes, which means we can rely on Bootstrap’s JavaScript to show and hide the modal without any more effort. We’re also using Vue’s <code>v-on:click</code> to set the current item equal to whichever one was clicked. The modal itself displays information about the current item. The corresponding JavaScript looks like:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">var</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">  el<span class=\"token operator\">:</span> <span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">    items<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>  </span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Morbi\"</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"Morbi nec dictum...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Fusce\"</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"Fusce molestie...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Aenean\"</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"Aenean et lectus...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Rhoncus\"</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"Rhoncus eleifend...\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>title<span class=\"token operator\">:</span> <span class=\"token string\">\"Sed\"</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"Sed tellus...\"</span><span class=\"token punctuation\">}</span>  </span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>  </span><br><ins class=\"highlight-line highlight-line-add\">    currentItem<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>  </ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><ins class=\"highlight-line highlight-line-add\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">setCurrentItem</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>currentItem <span class=\"token operator\">=</span> item  </ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span>  </ins><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></span></code></pre>\n<p>Here we’re defining the initial state of the current item (an empty object), as well as defining the method to run when a user click’s on an item (which updates the current item). What’s nice is that the JavaScript here is only concerned about the data and how it transforms; there’s no code here that’s concerned with toggling the modal or manipulating the DOM.</p>\n<p>This small example shows how Vue.js works well as a “progressive” framework — it’s very easy to add a script tag and write minimal HTML and JavaScript to get interactive features, and it plays well with other libraries to boot! If you’re a purist who believes that all the JavaScript should be written in Vue.js (instead of utilizing the JavaScript that comes with Bootstrap), there’s nothing stopping you from refactoring this code following all the best practices of a component based architecture — Vue.js handles that gracefully as well.</p>\n<p>If you’re interested in learning more about using Vue.js with components, you can check out my <a href=\"comparing-frontend-approaches-part-1-introduction.html\">Comparing Frontend Approaches</a> series, where I build the same app using various approaches, including <a href=\"comparing-frontend-approaches-part-3-vuejs.html\">Vue.js</a> (using a simple script tag) versus <a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">Vue.js using components</a> (using build tools like webpack). But for a quick prototype, it’s hard to beat a simple Vue.js script in conjunction with a visual framework like Bootstrap. Hope you find these tips useful on your journey!</p>\n",
      "date_published": "2017-12-28T18:00:00-06:00"
    },{
      "id": "https://peterxjang.com/blog/a-minimalist-guide-to-tmux.html",
      "url": "https://peterxjang.com/blog/a-minimalist-guide-to-tmux.html",
      "title": "A minimalist guide to tmux",
      "content_html": "<p>Let’s say you’re using <a href=\"how-to-learn-vim-a-four-week-plan.html\">vim</a> to edit code on a remote computer <a href=\"web-development-on-an-ipad.html\">using ssh</a>, and you want to open a new terminal tab to start a development server. When you open a new tab, it won’t be connected to the remote machine, which means you would have to ssh and navigate to the appropriate directory each time. Furthermore, if your internet connection ever drops, you’ll lose all your ssh sessions and have to start everything up again.</p>\n<p>You can solve these issues by using <a href=\"https://github.com/tmux/tmux/wiki\">tmux</a>, a command line tool which provides the following key features:</p>\n<ul>\n<li>Enables multiple windows and panes within a single terminal window</li>\n<li>Keeps windows and panes in a session (which stays alive even when the internet disconnects)</li>\n<li>Enables session sharing (great for pair programming)</li>\n</ul>\n<h3 id=\"getting-started\">Getting started <a class=\"direct-link\" href=\"#getting-started\">#</a></h3>\n<p>To install tmux, you can run <code>sudo apt-get install tmux</code> on Linux with <a href=\"https://help.ubuntu.com/community/AptGet/Howto\">apt-get</a> or <code>brew install tmux</code> on a Mac with <a href=\"https://brew.sh/\">homebrew</a>. Once it’s installed, you can create a new tmux session simply by running:</p>\n<pre><code>$ tmux\n</code></pre>\n<p><img src=\"/img/1__Ml8e__M7seNIwHBOEN6wOrw.png\" alt=\"Terminal running tmux\"></p>\n<p>This looks pretty much identical to the regular terminal, except there’s the green status bar at the bottom. From here we can start running tmux commands to manage terminal windows and sessions.</p>\n<h3 id=\"essential-tmux-commands\">Essential tmux commands <a class=\"direct-link\" href=\"#essential-tmux-commands\">#</a></h3>\n<p>Once you’re in tmux, you can run a command by entering a <strong>prefix key</strong> followed by a <strong>command key</strong>. By default, tmux uses <code>Ctrl b</code> as the prefix key. Note that you must let go of the prefix before entering the command key.</p>\n<p>There are many tmux commands available, but here are the only ones you need to get started:</p>\n<pre><code>&lt;prefix&gt; c: Create a new window (appears in status bar)\n\n&lt;prefix&gt; 0: Switch to window 0\n\n&lt;prefix&gt; 1: Switch to window 1\n\n&lt;prefix&gt; 2: Switch to window 2 (etc.)\n\n&lt;prefix&gt; x: Kill current window\n\n&lt;prefix&gt; d: Detach tmux (exit back to normal terminal)\n</code></pre>\n<p>If you kill all the windows in a tmux session, it will kill the overall session and return you to the normal terminal. If you use <code>&lt;prefix&gt; d</code> to detach tmux, you’ll be back in the normal terminal with your tmux session still running in the background. To see all tmux sessions, you can enter:</p>\n<pre><code>$ tmux ls\n</code></pre>\n<p>To attach to the last used session, you can enter:</p>\n<pre><code>$ tmux a\n</code></pre>\n<p>To attach to a specific session, you can enter:</p>\n<pre><code>$ tmux a -t &lt;session-name&gt;\n</code></pre>\n<p>And that’s it! Now you’re able to work on remote computers with multiple terminal windows and persistent sessions. You can even do pair programming by having two people attach to the same tmux session!</p>\n<h3 id=\"next-steps\">Next steps <a class=\"direct-link\" href=\"#next-steps\">#</a></h3>\n<p>The above commands are truly all you need to take advantage of the most important features of tmux. I try to keep things minimal, with one window for my text editor (vim), another window for a development server, and a third window for running any other commands.</p>\n<p>Most people using tmux tend to use panes, which allows for multiple terminal views within a single window. You can do some crazy customizations with panes:</p>\n<p><img src=\"/img/1__ZVmiTfLBYpTUdh__Tadx__SQ.png\" alt=\"Example terminal with tmux panes from reddit.com/r/unixport\"><br>\n<em>From <a href=\"https://www.reddit.com/r/unixporn/comments/689wfd/tmux_the_bridge/\">reddit.com/r/unixporn</a></em></p>\n<p>Panes are definitely cool and can be worth learning, but I would recommend holding off on them to start off to reduce the learning curve of tmux. When you use panes, you’ll need to memorize commands to create panes vertically and horizontally, navigate between panes, resize panes, destroy panes, etc. It will more than double the number of commands you need to memorize to get started! I would use tmux without panes for at least a week or two before trying out a new set of commands.</p>\n<p>You can also customize tmux by making a <code>.tmux.conf</code> file in your home directory. Some common customizations include changing the prefix to <code>Ctrl a</code> (a little faster to type, doesn’t conflict with vim), start window numbering at 1 instead of 0 (again, a little faster to type), and customizing colors. If you are planning on rebinding the prefix key, then you should probably do that first so you build the right muscle memory. Here’s an absolutely minimal <code>.tmux.conf</code> file to change the prefix and window numbering:</p>\n<pre><code># remap prefix from 'C-b' to 'C-a'\nunbind C-b\nset-option -g prefix C-a\nbind-key C-a send-prefix\n\n# Start window numbering at 1\nset -g base-index 1\n</code></pre>\n<p>Again, tmux has a large number of options you can configure here, but to get started you want to keep it as minimal as possible. And once you’re ready to try out advanced features, don’t just blindly paste configurations you find online. It’s important that you understand each line you add to your <code>.tmux.conf</code> file!</p>\n<p>Once you feel like you’ve mastered the basics, there are a ton of great resources out there to take your tmux game to the next level. However, to paraphrase Dr. Ian Malcolm, don’t be so preoccupied with whether or not you could that you don’t stop and think if you should. I would argue you get more than 80% of tmux’s advantages using the above minimal set of commands and customizations. Hope you find these tips useful on your journey!</p>\n",
      "date_published": "2017-11-24T18:00:00-06:00"
    },{
      "id": "https://peterxjang.com/blog/modern-javascript-explained-for-dinosaurs.html",
      "url": "https://peterxjang.com/blog/modern-javascript-explained-for-dinosaurs.html",
      "title": "Modern JavaScript Explained For Dinosaurs",
      "content_html": "<p><img src=\"/img/1__H8PH__HaV43gZyBJz0mJHxA.png\" alt=\"Images from Dinosaur Comics by Ryan North\"><br>\n<em>Images from <a href=\"http://www.qwantz.com/\">Dinosaur Comics</a> by <a href=\"https://twitter.com/ryanqnorth\">Ryan North</a></em></p>\n<p>Learning modern JavaScript is tough if you haven’t been there since the beginning. The ecosystem is growing and changing so rapidly that it’s hard to understand the problems that different tools are trying to solve. I started programming in 1998 but only began to learn JavaScript seriously in 2014. At the time I remember coming across <a href=\"http://browserify.org/\">Browserify</a> and staring at its tagline:</p>\n<blockquote>\n<p>“Browserify lets you require(‘modules’) in the browser by bundling up all of your dependencies.”</p>\n</blockquote>\n<p>I pretty much didn’t understand any word in this sentence, and struggled to make sense of how this would be helpful for me as a developer.</p>\n<p>The goal of this article is to provide a historical context of how JavaScript tools have evolved to what they are today in 2017. We’ll start from the beginning and build an example website like the dinosaurs did — no tools, just plain HTML and JavaScript. Then we’ll introduce different tools incrementally to see the problems that they solve one at a time. With this historical context, you’ll be better able to learn and adapt to the ever-changing JavaScript landscape going forward. Let’s get started!</p>\n<blockquote>\n<p><strong>Update</strong>: I made a video course version of this article, which walks through each section step-by-step for greater clarity, check it out here:<br>\n<a href=\"https://firstclass.actualize.co/p/modern-javascript-explained-for-dinosaurs\">https://firstclass.actualize.co/p/modern-javascript-explained-for-dinosaurs</a></p>\n</blockquote>\n<h3 id=\"using-javascript-the-%E2%80%9Cold-school%E2%80%9D-way\">Using JavaScript the “old-school” way <a class=\"direct-link\" href=\"#using-javascript-the-%E2%80%9Cold-school%E2%80%9D-way\">#</a></h3>\n<p>Let’s start with an “old-school” website using HTML and JavaScript, which involves manually downloading and linking files. Here’s a simple <strong><code>index.html</code></strong> file that links to a JavaScript file:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- index.html --></span>  <br><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>JavaScript Example<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>  <br>  **<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>index.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>**  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  <br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello from HTML!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  <br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The line <code>&lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;</code> refers to a separate JavaScript file in the same directory named <strong><code>index.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// index.js  </span><br>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello from JavaScript!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>This is all you need to make a website! Now let’s say you wanted to add a library someone else wrote like <a href=\"http://momentjs.com/\">moment.js</a> (a library which can help format dates in a human readable way). For example, you can use the <code>moment</code> function in JavaScript as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">startOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromNow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// 20 hours ago</span></code></pre>\n<p>But this is only assuming you include moment.js on your website! On the <a href=\"http://momentjs.com/\">homepage for moment.js</a> you see the following instructions:</p>\n<p><img src=\"/img/1__ef7OX37jr____Jc38ZxO97Iw.png\" alt=\"Install instructions for moment.js\"></p>\n<p>Hmm, there’s a lot of stuff going in the <strong>Install</strong> section on the right. But let’s ignore that for now — we can add moment.js to our website by downloading the <strong><code>moment.min.js</code></strong> file in the same directory and including it in our <strong><code>index.html</code></strong> file.</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token comment\">&lt;!-- index.html --></span>  </span><br><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Example<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>index.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>moment.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></ins><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>index.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello from HTML!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>Note that <strong><code>moment.min.js</code></strong> gets loaded before <strong><code>index.js</code></strong>, which means you can use the <code>moment</code> function in <strong><code>index.js</code></strong> as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token comment\">// index.js  </span></span><br><span class=\"highlight-line\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello from JavaScript!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </span><br><ins class=\"highlight-line highlight-line-add\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">startOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromNow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins></code></pre>\n<p>And this is how we used to make websites with JavaScript libraries! The good thing was that it was easy enough to understand. The bad thing was that it was annoying to find and download new versions of libraries every time they would update.</p>\n<h3 id=\"using-a-javascript-package-manager-(npm)\">Using a JavaScript package manager (npm) <a class=\"direct-link\" href=\"#using-a-javascript-package-manager-(npm)\">#</a></h3>\n<p>Starting around 2010, several competing JavaScript package managers emerged to help automate the process of downloading and upgrading libraries from a central repository. <a href=\"https://bower.io/\">Bower</a> was arguably the most popular in 2013, but eventually was overtaken by <a href=\"https://www.npmjs.com/\">npm</a> around 2015. (It’s worth noting that starting around late 2016, <a href=\"https://yarnpkg.com/en/\">yarn</a> has picked up a lot of traction as an alternative to npm’s interface, but it still uses npm packages under the hood.)</p>\n<p>Note that npm was originally a package manager made specifically for <a href=\"https://nodejs.org\">node.js</a>, a JavaScript runtime designed to run on the server, not the frontend. So that makes it a pretty weird choice for a frontend JavaScript package manager for libraries meant to run in a browser.</p>\n<blockquote>\n<p><strong>Note</strong>: Using package managers generally involves using a command line, which in the past was never required as a frontend dev. If you’ve never used one, you can read <a href=\"https://www.learnenough.com/command-line-tutorial\">this tutorial</a> to get a good overview to get started. For better or for worse, knowing how to use the command line is an important part of modern JavaScript (and it opens up doors in other areas of development as well).</p>\n</blockquote>\n<p>Let’s look at how to use npm to install the moment.js package automatically instead of manually downloading it. If you have node.js installed, you already have npm installed, which means you can navigate your command line to the folder with your <strong><code>index.html</code></strong> file and enter:</p>\n<pre><code>$ npm init\n</code></pre>\n<p>This will prompt you with several questions (the defaults are fine, you can hit “Enter” for each question) and generate a new file named <strong><code>package.json</code></strong>. This is a configuration file that npm uses to save all project information. With the defaults the contents of <strong><code>package.json</code></strong> should look something like:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>  <br>  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"your-project-name\"</span><span class=\"token punctuation\">,</span>  <br>  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>  <br>  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>  <br>  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index.js\"</span><span class=\"token punctuation\">,</span>  <br>  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  <br>    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span>  <br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  <br>  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>  <br>  <span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ISC\"</span>  <br><span class=\"token punctuation\">}</span></code></pre>\n<p>To install the moment.js JavaScript package, we can now follow the npm instructions from their home page by entering the following command in the command line:</p>\n<pre><code>$ npm install moment --save\n</code></pre>\n<p>This command does two things — first, it downloads all the code from the <a href=\"https://unpkg.com/moment/\">moment.js package</a> into a folder called <strong><code>node_modules</code></strong>. Second, it automatically modifies the <strong><code>package.json</code></strong> file to keep track of moment.js as a project dependency.</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"highlight-line\"><span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"modern-javascript-example\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index.js\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span>  </span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ISC\"</span><span class=\"token punctuation\">,</span>  </span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token property\">\"moment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.22.2\"</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span> </ins><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span></code></pre>\n<p>This is useful later when sharing a project with others — instead of sharing the <strong><code>node_modules</code></strong> folder (which can get very large), you only need to share the <strong><code>package.json</code></strong> file and other developers can install the required packages automatically with the command <code>npm install</code>.</p>\n<p>So now we no longer have to manually download moment.js from the website, we can automatically download and update it using npm. Looking inside the <strong><code>node_modules</code></strong> folder, we can see the <strong><code>moment.min.js</code></strong> file in the <strong><code>node_modules/moment/min</code></strong> directory. This means we can link to the npm downloaded version of <strong><code>moment.min.js</code></strong> in the <strong><code>index.html</code></strong> file as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token comment\">&lt;!-- index.html --></span>  </span><br><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>JavaScript Example<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>  </span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>node_modules/moment/min/moment.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></ins><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>index.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello from HTML!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>So the good thing is that we can now use npm to download and update our packages through the command line. The bad thing is right now we’re digging through the <strong><code>node_modules</code></strong> folder to find the location of each package and manually including it in our HTML. That’s pretty inconvenient, so next we’ll take a look at how to automate that process as well.</p>\n<p><img src=\"/img/1__GeEETvRqyG4o7SZdbU2Guw.png\" alt=\"Dinosaur comic panel 2\"></p>\n<h3 id=\"using-a-javascript-module-bundler-(webpack)\">Using a JavaScript module bundler (webpack) <a class=\"direct-link\" href=\"#using-a-javascript-module-bundler-(webpack)\">#</a></h3>\n<p>Most programming languages provide a way to import code from one file into another. JavaScript wasn’t originally designed with this feature, because JavaScript was designed to only run in the browser, with no access to the file system of the client’s computer (for security reasons). So for the longest time, organizing JavaScript code in multiple files required you to load each file with variables shared globally.</p>\n<p>This is actually what we’re doing with the above moment.js example — the entire <strong><code>moment.min.js</code></strong> file is loaded in the HTML, which defines a global variable <code>moment</code>, which is then available to any file loaded after <strong><code>moment.min.js</code></strong> (regardless of whether or not it needs access to it).</p>\n<p>In 2009, a project named CommonJS was started with the goal of specifying an ecosystem for JavaScript outside the browser. A big part of CommonJS was its specification for modules, which would finally allow JavaScript to import and export code across files like most programming languages, without resorting to global variables. The most well-known of implementation of CommonJS modules is node.js.</p>\n<p><img src=\"/img/1__xeF1flp1zDLLJ4j7rDQ6__Q.png#medium\" alt=\"Node.js logo\"></p>\n<p>As mentioned earlier, node.js is a JavaScript runtime designed to run on the server. Here’s what the earlier example would look like using node.js modules. Instead of loading all of <strong><code>moment.min.js</code></strong> with an HTML script tag, you can load it directly in the JavaScript file as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token comment\">// index.js  </span></span><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">var</span> moment <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'moment'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello from JavaScript!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </span><br><span class=\"highlight-line\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">startOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromNow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre>\n<p>Again, this is how module loading works in node.js, which works great since node.js is a server side language with access to the computer’s file system. Node.js also knows the location of each npm module path, so instead of having to write <code>require('./node_modules/moment/min/moment.min.js)</code>, you can simply write <code>require('moment')</code> — pretty sweet.</p>\n<p>This is all great for node.js, but if you tried to use the above code in the browser, you’d get an error saying <code>require</code> is not defined. The browser doesn’t have access to the file system, which means loading modules in this way is very tricky — loading files has to be done dynamically, either synchronously (which slows down execution) or asynchronously (which can have timing issues).</p>\n<p>This is where a module bundler comes in. A JavaScript module bundler is a tool that gets around the problem with a build step (which has access to the file system) to create a final output that is browser compatible (which doesn’t need access to the file system). In this case, we need a module bundler to find all <code>require</code> statements (which is invalid browser JavaScript syntax) and replace them with the actual contents of each required file. The final result is a single bundled JavaScript file (with no require statements)!</p>\n<p>The most popular module bundler was <a href=\"http://browserify.org/\">Browserify</a>, which was released in 2011 and pioneered the usage of node.js style require statements on the frontend (which is essentially what enabled npm to become the frontend package manager of choice). Around 2015, <a href=\"https://webpack.github.io/\">webpack</a> eventually became the more widely used module bundler (fueled by the popularity of the <a href=\"https://reactjs.org/\">React</a> frontend framework, which took full advantage of webpack’s various features).</p>\n<p>Let’s take a look at how to use webpack to get the above <code>require('moment')</code> example working in the browser. First we need to install webpack into the project. Webpack itself is an npm package, so we can install it from the command line:</p>\n<pre><code>$ npm install webpack webpack-cli --save-dev\n</code></pre>\n<p>Note that we’re installing two packages — webpack and webpack-cli (which enables you to use webpack from the command line). Also note the <code>--save-dev</code> argument — this saves it as a development dependency, which means it’s a package that you need in your development environment but not on your production server. You can see this reflected in the <strong><code>package.json</code></strong> file, which was automatically updated:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"highlight-line\"><span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"modern-javascript-example\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index.js\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span>  </span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ISC\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"moment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.19.1\"</span>  </span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token property\">\"webpack\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.17.1\"</span><span class=\"token punctuation\">,</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token property\">\"webpack-cli\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^3.1.0\"</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span></code></pre>\n<p>Now we have webpack and webpack-cli installed as packages in the <strong><code>node_modules</code></strong> folder. You can use webpack-cli from the command line as follows:</p>\n<pre><code>$ ./node_modules/.bin/webpack index.js --mode=development\n</code></pre>\n<p>This command will run the webpack tool that was installed in the <strong><code>node_modules</code></strong> folder, start with the <strong><code>index.js</code></strong> file, find any <code>require</code> statements, and replace them with the appropriate code to create a single output file (which by default is <code>**dist/main.js**</code>). The <code>--mode=development</code> argument is to keep the JavaScript readable for developers, as opposed to a minified output with the argument <code>--mode=production</code>.</p>\n<p>Now that we have webpack’s <code>**dist/main.js**</code> output, we are going to use it instead of <strong><code>index.js</code></strong> in the browser, as it contains invalid require statements. This would be reflected in the <strong><code>index.html</code></strong> file as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token comment\">&lt;!-- index.html --></span>  </span><br><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>JavaScript Example<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>  </span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dist/main.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></ins><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Hello from HTML!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>  </span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>If you refresh the browser, you should see that everything is working as before!</p>\n<p>Note that we’ll need to run the webpack command each time we change <strong><code>index.js</code></strong>. This is tedious, and will get even more tedious as we use webpack’s more advanced features (like <a href=\"https://webpack.js.org/guides/development/#using-source-maps\">generating source maps</a> to help debug the original code from the transpiled code). Webpack can read options from a config file in the root directory of the project named <strong><code>webpack.config.js</code></strong>, which in our case would look like:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// webpack.config.js  </span><br>module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>  <br>  mode<span class=\"token operator\">:</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">,</span>  <br>  entry<span class=\"token operator\">:</span> <span class=\"token string\">'./index.js'</span><span class=\"token punctuation\">,</span>  <br>  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  <br>    filename<span class=\"token operator\">:</span> <span class=\"token string\">'main.js'</span><span class=\"token punctuation\">,</span>  <br>    publicPath<span class=\"token operator\">:</span> <span class=\"token string\">'dist'</span>  <br>  <span class=\"token punctuation\">}</span>  <br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Now each time we change <strong><code>index.js</code></strong>, we can run webpack with the command:</p>\n<pre><code>$ ./node_modules/.bin/webpack\n</code></pre>\n<p>We don’t need to specify the <code>index.js</code> and <code>--mode=development</code> options anymore, since webpack is loading those options from the <strong><code>webpack.config.js</code></strong> file. This is better, but it’s still tedious to enter this command for each code change — we’ll make this process smoother in a bit.</p>\n<p>Overall, this may not seem like much, but there are some huge advantages to this workflow. We are no longer loading external scripts via global variables. Any new JavaScript libraries will be added using <code>require</code> statements in the JavaScript, as opposed to adding new <code>&lt;script&gt;</code> tags in the HTML. Having a single JavaScript bundle file is often better for performance. And now that we added a build step, there are some other powerful features we can add to our development workflow!</p>\n<p><img src=\"/img/1__ee__ivxNTKgIJTjmEMC4__dg.png\" alt=\"Dinosaur comic panels 3 and 4\"></p>\n<h3 id=\"transpiling-code-for-new-language-features-(babel)\">Transpiling code for new language features (babel) <a class=\"direct-link\" href=\"#transpiling-code-for-new-language-features-(babel)\">#</a></h3>\n<p>Transpiling code means converting the code in one language to code in another similar language. This is an important part of frontend development — since browsers are slow to add new features, new languages were created with experimental features that transpile to browser compatible languages.</p>\n<p>For CSS, there’s <a href=\"http://sass-lang.com/\">Sass</a>, <a href=\"http://lesscss.org/\">Less</a>, and <a href=\"http://stylus-lang.com/\">Stylus</a>, to name a few. For JavaScript, the most popular transpiler for a while was <a href=\"http://coffeescript.org/\">CoffeeScript</a> (released around 2010), whereas nowadays most people use <a href=\"https://babeljs.io/\">babel</a> or <a href=\"http://www.typescriptlang.org/\">TypeScript</a>. CoffeeScript is a language focused on improving JavaScript by significantly changing the language — optional parentheses, significant whitespace, etc. Babel is not a new language but a transpiler that transpiles next generation JavaScript with features not yet available to all browsers (<a href=\"https://babeljs.io/learn-es2015/\">ES2015</a> and beyond) to older more compatible JavaScript (ES5). Typescript is a language that is essentially identical to next generation JavaScript, but also adds optional static typing. Many people choose to use babel because it’s closest to vanilla JavaScript.</p>\n<p>Let’s look at an example of how to use babel with our existing webpack build step. First we’ll install babel (which is an npm package) into the project from the command line:</p>\n<pre><code>$ npm install @babel/core @babel/preset-env babel-loader --save-dev\n</code></pre>\n<p>Note that we’re installing 3 separate packages as dev dependencies — <code>@babel/core</code> is the main part of babel, <code>@babel/preset-env</code> is a preset defining which new JavaScript features to transpile, and <code>babel-loader</code> is a package to enable babel to work with webpack. We can configure webpack to use <code>babel-loader</code> by editing the <strong><code>webpack.config.js</code></strong> file as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token comment\">// webpack.config.js  </span></span><br><span class=\"highlight-line\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">  mode<span class=\"token operator\">:</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  entry<span class=\"token operator\">:</span> <span class=\"token string\">'./index.js'</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">    filename<span class=\"token operator\">:</span> <span class=\"token string\">'main.js'</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">    publicPath<span class=\"token operator\">:</span> <span class=\"token string\">'dist'</span>  </span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><ins class=\"highlight-line highlight-line-add\">  module<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">    rules<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">{</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">        test<span class=\"token operator\">:</span> <span class=\"token regex\">/\\.js$/</span><span class=\"token punctuation\">,</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">        exclude<span class=\"token operator\">:</span> <span class=\"token regex\">/node_modules/</span><span class=\"token punctuation\">,</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">        use<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">          loader<span class=\"token operator\">:</span> <span class=\"token string\">'babel-loader'</span><span class=\"token punctuation\">,</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">          options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">            presets<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'@babel/preset-env'</span><span class=\"token punctuation\">]</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token punctuation\">}</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">}</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">]</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span> </ins><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span></code></pre>\n<p>This syntax can be confusing (fortunately it’s not something we’ll be editing often). Basically we’re telling webpack to look for any .js files (excluding ones in the <strong><code>node_modules</code></strong> folder) and apply babel transpilation using <code>babel-loader</code> with the <code>@babel/preset-env</code> preset. You can read more about webpack configuration syntax <a href=\"http://webpack.github.io/docs/configuration.html\">here</a>.</p>\n<p>Now that everything’s set up, we can start writing ES2015 features in our JavaScript! Here’s an example of an <a href=\"https://babeljs.io/learn-es2015/#ecmascript-2015-features-template-strings\">ES2015 template string</a> in the <strong><code>index.js</code></strong> file:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token comment\">// index.js  </span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">var</span> moment <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'moment'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello from JavaScript!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </span><br><span class=\"highlight-line\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">startOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromNow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"Bob\"</span><span class=\"token punctuation\">,</span> time <span class=\"token operator\">=</span> <span class=\"token string\">\"today\"</span><span class=\"token punctuation\">;</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hello </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, how are you </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>time<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">?</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins></code></pre>\n<p>We can also use the <a href=\"https://babeljs.io/learn-es2015/#ecmascript-2015-features-modules\">ES2015 import statement</a> instead of <code>require</code> for loading modules, which is what you’ll see in a lot of codebases today:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token comment\">// index.js  </span></span><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">import</span> moment <span class=\"token keyword\">from</span> <span class=\"token string\">'moment'</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello from JavaScript!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </span><br><span class=\"highlight-line\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">moment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">startOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromNow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">var</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"Bob\"</span><span class=\"token punctuation\">,</span> time <span class=\"token operator\">=</span> <span class=\"token string\">\"today\"</span><span class=\"token punctuation\">;</span>  </span><br><span class=\"highlight-line\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hello </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, how are you </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>time<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">?</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre>\n<p>In this example, the <code>import</code> syntax isn’t much different from the <code>require</code> syntax, but <code>import</code> has extra flexibility for more advanced cases. Since we changed <strong><code>index.js</code></strong>, we need to run webpack again in the command line:</p>\n<pre><code>$ ./node_modules/.bin/webpack\n</code></pre>\n<p>Now you can refresh <strong><code>index.html</code></strong> in the browser. At the time of this writing, most modern browsers support all ES2015 features, so it can be hard to tell if babel did its job. You can test it in an older browser like IE9, or you can search in <code>**main.js**</code> to find the line of transpiled code:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// main.js  </span><br><span class=\"token comment\">// ...  </span><br>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello '</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">', how are you '</span> <span class=\"token operator\">+</span> time <span class=\"token operator\">+</span> <span class=\"token string\">'?'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <br><span class=\"token comment\">// ...</span></code></pre>\n<p>Here you can see babel transpiled the ES2015 template string into regular JavaScript string concatenation to maintain browser compatibility. While this particular example may not be too exciting, the ability to transpile code is a very powerful one. There are some exciting language features coming to JavaScript like <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\">async/await</a> that you can start using today to write better code. And while transpilation may at times seem tedious and painful, it has led to a dramatic improvement of the language in the past few years, as people are testing out tomorrow’s features today.</p>\n<p>We’re almost done, but there’s still some unpolished edges in our workflow. If we’re concerned about performance, we should be <a href=\"https://en.wikipedia.org/wiki/Minification_%28programming%29\">minifying</a> the bundle file, which should be easy enough since we’re already incorporating a build step. We also need to re-run the webpack command each time we change the JavaScript, which gets old real fast. So the next thing we’ll look at are some convenience tools to solve these issues.</p>\n<h3 id=\"using-a-task-runner-(npm-scripts)\">Using a task runner (npm scripts) <a class=\"direct-link\" href=\"#using-a-task-runner-(npm-scripts)\">#</a></h3>\n<p>Now that we’re invested in using a build step to work with JavaScript modules, it makes sense to use a task runner, which is a tool that automates different parts of the build process. For frontend development, tasks include minifying code, optimizing images, running tests, etc.</p>\n<p>In 2013, Grunt was the most popular frontend task runner, with Gulp following shortly after. Both rely on plugins that wrap other command line tools. Nowadays the most popular choice seems to be using the scripting capabilities built into the npm package manager itself, which doesn’t use plugins but instead works with other command line tools directly.</p>\n<p>Let’s write some npm scripts to make using webpack easier. This involves simply changing the <strong><code>package.json</code></strong> file as follows:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"highlight-line\"><span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"modern-javascript-example\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index.js\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span><span class=\"token punctuation\">,</span>  </span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack --progress --mode=production\"</span><span class=\"token punctuation\">,</span>  </ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token property\">\"watch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack --progress --watch\"</span> </ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ISC\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"moment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.22.2\"</span>  </span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"@babel/core\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.0.0\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"@babel/preset-env\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.0.0\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"babel-loader\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^8.0.2\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"webpack\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.17.1\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"webpack-cli\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^3.1.0\"</span>  </span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span>  </span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span></code></pre>\n<p>Here we’ve added two new scripts, <code>build</code> and <code>watch</code>. To run the build script, you can enter in the command line:</p>\n<pre><code>$ npm run build\n</code></pre>\n<p>This will run webpack (using configuration from the <strong><code>webpack.config.js</code></strong> we made earlier) with the <code>--progress</code> option to show the percent progress and the <code>--mode=production</code> option to minimize the code for production. To run the <code>watch</code> script:</p>\n<pre><code>$ npm run watch\n</code></pre>\n<p>This uses the <code>--watch</code> option instead to automatically re-run webpack each time any JavaScript file changes, which is great for development.</p>\n<p>Note that the scripts in <strong><code>package.json</code></strong> can run webpack without having to specify the full path <strong><code>./node_modules/.bin/webpack</code></strong>, since node.js knows the location of each npm module path. This is pretty sweet! We can make things even sweeter by installing webpack-dev-server, a separate tool which provides a simple web server with live reloading. To install it as a development dependency, enter the command:</p>\n<pre><code>$ npm install webpack-dev-server --save-dev\n</code></pre>\n<p>Then add an npm script to <strong><code>package.json</code></strong>:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"highlight-line\"><span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"modern-javascript-example\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index.js\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack --progress -p\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"watch\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack --progress --watch\"</span><span class=\"token punctuation\">,</span>  </span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token property\">\"serve\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack-dev-server --open\"</span>  </ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ISC\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"moment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.19.1\"</span>  </span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">  <span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"@babel/core\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.0.0\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"@babel/preset-env\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.0.0\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"babel-loader\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^8.0.2\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"webpack\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^3.7.1\"</span><span class=\"token punctuation\">,</span>  </span><br><span class=\"highlight-line\">    <span class=\"token property\">\"webpack-dev-server\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^3.1.6\"</span>  </span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span>  </span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span></code></pre>\n<p>Now you can start your dev server by running the command:</p>\n<pre><code>$ npm run serve\n</code></pre>\n<p>This will automatically open the <strong><code>index.html</code></strong> website in your browser with an address of <code>localhost:8080</code> (by default). Any time you change your JavaScript in <strong><code>index.js</code></strong>, webpack-dev-server will rebuild its own bundled JavaScript and refresh the browser automatically. This is a surprisingly useful time saver, as it allows you to keep your focus on the code instead of having to continually switch contexts between the code and the browser to see new changes.</p>\n<p>This is only scratching the surface, there are plenty more options with both webpack and webpack-dev-server (which you can read about <a href=\"https://webpack.js.org/guides/development/\">here</a>). You can of course make npm scripts for running other tasks as well, such as converting Sass to CSS, compressing images, running tests — anything that has a command line tool is fair game. There are also some great advanced options and tricks with npm scripts themselves — this talk by <a href=\"https://twitter.com/k88hudson\">Kate Hudson</a> is a great place to start:</p>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/0RYETb9YVrk\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n<h3 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h3>\n<p>So this is modern JavaScript in a nutshell. We went from plain HTML and JS to using <strong>a package manager</strong> to automatically download 3rd party packages, <strong>a module bundler</strong> to create a single script file, a <strong>transpiler</strong> to use future JavaScript features, and <strong>a task runner</strong> to automate different parts of the build process. Definitely a lot of moving pieces here, especially for beginners. Web development used to be a great entry point for people new to programming precisely because it was so easy to get up and running; nowadays it can be quite daunting, especially because the various tools tend to change rapidly.</p>\n<p>Still, it’s not as bad as it seems. Things are settling down, particularly with the adoption of the node ecosystem as a viable way to work with the frontend. It’s nice and consistent to use npm as a package manager, node <code>require</code> or <code>import</code> statements for modules, and npm scripts for running tasks. This is a vastly simplified workflow compared to even a year or two ago!</p>\n<p>Even better for beginners and experienced developers alike is that frameworks these days often come with tools to make the process easier to get started. Ember has <a href=\"https://ember-cli.com/\"><code>ember-cli</code></a>, which was hugely influential on Angular’s <a href=\"https://cli.angular.io/\"><code>angular-cli</code></a>, React’s <a href=\"https://github.com/facebookincubator/create-react-app\"><code>create-react-app</code></a>, Vue’s <a href=\"https://github.com/vuejs/vue-cli\"><code>vue-cli</code></a>, etc. All these tools will set up a project with everything you need — all you need to do is start writing code. However, these tools aren’t magic, they simply set everything up in a consistent and working fashion — you may often get to a point where you need to do some extra configuration with webpack, babel, etc. So it’s still very critical to understand what each piece does as we’ve covered in this article.</p>\n<p>Modern JavaScript can definitely be frustrating to work with as it continues to change and evolve at a rapid pace. But even though it may seem at times like re-inventing the wheel, JavaScript’s rapid evolution has helped push innovations such as hot reloading, real-time linting, and time-travel debugging. It’s an exciting time to be a developer, and I hope this information can serve as a roadmap to help you on your journey!</p>\n<p><img src=\"/img/1__H6NN__RxZNeVyLYpCirsslg.png\" alt=\"Dinosaur comic panel 5\"></p>\n<p><em>Special thanks to</em> <a href=\"https://twitter.com/ryanqnorth\"><em>@ryanqnorth</em></a><em>’s</em> <a href=\"http://www.qwantz.com/\"><em>Dinosaur Comics</em></a><em>, which has served up some of the finest absurdist humor since 2003 (when dinosaurs ruled the web).</em></p>\n",
      "date_published": "2017-10-17T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/how-to-learn-vim-a-four-week-plan.html",
      "url": "https://peterxjang.com/blog/how-to-learn-vim-a-four-week-plan.html",
      "title": "How To Learn Vim: A Four Week Plan",
      "content_html": "<p><img src=\"/img/1__b8yLTUhLfIcdcqbPOGQSxA.png\" alt=\"Vim with custom color scheme, syntax highlighting, linting, and autocomplete\"><br>\n<em>Vim with custom color scheme, syntax highlighting, linting, and autocomplete</em></p>\n<p>Vim is a command line text editor that is notorious for being hard to learn (the running joke is to generate a truly random string, put a web developer in front of Vim and tell them to exit). So why bother learning it, especially if you’re already comfortable with your text editor or IDE? Some benefits to learning Vim include:</p>\n<ul>\n<li><strong>Vim is already installed on any Unix-like system</strong>, which means you can edit files directly on a server (a genuine superpower)</li>\n<li><strong>Vim is lightweight compared to most text editors and IDEs</strong>, so it runs fast and efficiently on even the most modest hardware</li>\n<li><strong>Vim is completely keyboard driven</strong> (with most actions centered on the home row), so it will make you more efficient?</li>\n</ul>\n<p>I put a question mark on that last one about making you more efficient — it’s an argument you’ll hear often, but I’m not sure it’s true for everyone. Basically, in order to be efficient with Vim, you have to invest a lot of time into not just learning it, but mastering it. Which means the time you save using it is offset by the time you invest mastering it, and you are always investing time mastering it. I would say <strong>the best reason to learn Vim is because you enjoy spending time learning and mastering a complex skill</strong>. In this way it’s not that different from why someone would want to learn a new musical instrument!</p>\n<p>If these ideas sound appealing to you, then you can follow the four week plan outlined below to help you learn Vim. This is how I learned Vim, which was based upon the advice that I’ve come across repeatedly in forums and tutorials. I’ve also added some of my own tips that helped me out along the way.</p>\n<h3 id=\"week-1%3A-complete-vimtutor-once-a-day%2C-every-day\">Week 1: Complete vimtutor once a day, every day <a class=\"direct-link\" href=\"#week-1%3A-complete-vimtutor-once-a-day%2C-every-day\">#</a></h3>\n<p>Many people agree that the best way to learn the basics of vim is to simply type this command in your terminal:</p>\n<pre><code>$ vimtutor\n</code></pre>\n<p>This will open up a text file in Vim with step-by-step instructions that cover essential Vim commands. It should take you 30 minutes or so to get through the whole thing. If you know the commands covered in <code>vimututor</code>, you’re pretty much ready to start being productive in Vim.</p>\n<p>The problem is that there are a <strong>lot</strong> of commands covered in <code>vimtutor</code> — there is no way you can learn them all from one sitting! My recommendation is to practice deliberately by doing <code>vimtutor</code> once a day for at least one week straight. Each time you do it, see if your time improves. Set a goal for yourself — see if you can get through the whole thing in 5 minutes. <strong>The point isn’t to memorize every single command</strong> — the point is to practice enough times until the basic navigation and editing commands are second nature.</p>\n<p>If your goal is to know enough Vim to be able to edit files remotely on a server, you can stop here — you already know enough to be dangerous! If you want to use Vim as your editor of choice, you can continue to the next step.</p>\n<h3 id=\"week-2%3A-use-vim-with-minimal-config%2C-no-plugins\">Week 2: Use Vim with minimal config, no plugins <a class=\"direct-link\" href=\"#week-2%3A-use-vim-with-minimal-config%2C-no-plugins\">#</a></h3>\n<p>Now that you’re comfortable navigating and editing in Vim, you’ll want to configure it to work with your personal workflow. Vim has a pretty bland and outdated default configuration, but it’s easy enough to customize it with modern features using a <code>vimrc</code> configuration file. The key is to not go crazy with plugins to try to make Vim into a full blown IDE — Vim is great at being Vim and bad at being an IDE.</p>\n<p>Instead, follow <a href=\"https://dougblack.io/words/a-good-vimrc.html\">this article</a> to build your own <code>vimrc</code> file. As a starting point, these are the only things I would configure:</p>\n<ul>\n<li>Add a color scheme (I use <a href=\"https://github.com/tomasiser/vim-code-dark\"><code>vim-code-dark</code></a>, based on Visual Studio Code)</li>\n<li>Turn on syntax highlighting</li>\n<li>Set up spaces and tabs</li>\n<li>Set up auto indentation</li>\n<li>Turn on line numbers</li>\n<li>Find files in subfolders with tab completion (watch this <a href=\"https://www.youtube.com/watch?v=XA2WjJbmmoM&amp;t=408s\">video</a> for 5 minutes)</li>\n<li>Configure a faster way to hit <strong>ESC</strong> to exit insert mode (I changed my caps lock key to <strong>CTRL</strong> and use <strong>CTRL C</strong> to exit insert mode)</li>\n</ul>\n<p>Honestly, that’s it! (The only exception to the no plugins rule is if you need to install language specific support for any languages that Vim doesn’t support out of the box). The goal is to avoid any additional configuration or fancy plugins for a week — this may feel painful, but it will prevent you from spending all your time configuring Vim and none of your time practicing Vim.</p>\n<blockquote>\n<p><strong>Pro tip:</strong> when you’re configuring vim, use a <code>.vim</code> folder in your home directory with the following directory structure below (read more details <a href=\"http://www.panozzaj.com/blog/2011/09/09/vim-directory-structure/\">here</a>). Newer versions of Vim will look for the <code>vimrc</code> file in the <code>.vim</code> folder, so you can keep everything in a single folder. This allows you to make your <code>.vim</code> folder a single git repo that you can easily clone onto any computer!</p>\n</blockquote>\n<pre><code>.vim/\n├── colors/   &lt;- directory for color schemes\n├── plugin/   &lt;- directory for standard plugins\n└── vimrc     &lt;- file with main config\n</code></pre>\n<h3 id=\"week-3%3A-use-vim-with-minimal-plugins\">Week 3: Use Vim with minimal plugins <a class=\"direct-link\" href=\"#week-3%3A-use-vim-with-minimal-plugins\">#</a></h3>\n<p>After you have used Vim for real projects, you’ll have a better sense of what Vim is capable of, and you’ll probably be itching to customize it even further. However, you should still avoid installing plugins that fundamentally change how Vim works. This is a list of popular types of plugins that I recommend you still avoid right now:</p>\n<ul>\n<li><strong>Avoid installing</strong> a plugin manager (newer versions of Vim handle plugins natively well enough)</li>\n<li><strong>Avoid installing</strong> a tree explorer or fuzzy file finder plugin (<code>:find</code> with with <a href=\"https://www.youtube.com/watch?v=XA2WjJbmmoM&amp;t=408s\">subfolder searching</a> works well instead)</li>\n<li><strong>Avoid installing</strong> a plugin for visual tabs (try to get used to native Vim buffers, <code>:b &lt;TAB&gt;</code> works well here)</li>\n<li><strong>Avoid installing</strong> a plugin for autocompletion (Vim already can do it natively with <code>&lt;CTRL n&gt;</code>)</li>\n<li><strong>Avoid installing</strong> a plugin for multi-line comments (try using visual mode instead)</li>\n<li><strong>Avoid installing</strong> a plugin for multiple cursors (try using a <code>/</code> search with <code>n</code> and <code>.</code> repeated as needed)</li>\n</ul>\n<p>The general theme here is that plugins are often a crutch that prevents you from learning Vim’s actual capabilities. All of the above types of plugins are great and may save you time, but you should only install them if you fully understand how to accomplish the same task using “vanilla” Vim.</p>\n<p>That being said, there are a few plugins that don’t change Vim’s core behaviors that can make life more convenient. Here are some plugins I use that fall into that category:</p>\n<ul>\n<li><strong>Consider installing</strong> <a href=\"https://github.com/jiangmiao/auto-pairs\">auto-pairs.vim</a> (inserts or deletes brackets, parens, quotes in pairs)</li>\n<li><strong>Consider installing</strong> <a href=\"https://github.com/tpope/vim-endwise\">endwise.vim</a> (in Ruby, adds <code>end</code> after <code>if</code>, <code>do</code>, <code>def</code>, etc.)</li>\n<li><strong>Consider installing</strong> <a href=\"https://github.com/tpope/vim-ragtag\">ragtag.vim</a> (helpers for tags in HTML, erb, etc.)</li>\n</ul>\n<h3 id=\"week-4%3A-compose-vim-commands-with-verbs-and-nouns\">Week 4: Compose Vim commands with verbs and nouns <a class=\"direct-link\" href=\"#week-4%3A-compose-vim-commands-with-verbs-and-nouns\">#</a></h3>\n<p>At this point you should know Vim well enough to focus on composing new commands instead of memorizing new ones. To compose new commands, it helps to think of Vim as a language. Chris Toomey’s <a href=\"https://www.youtube.com/watch?v=wlR5gYd6um0\">Mastering the Vim Language</a> talk is worth watching in its entirety to see how powerful this concept is:</p>\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/wlR5gYd6um0\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n<p>In a nutshell, you need to know some verbs and nouns:</p>\n<ul>\n<li>Verbs — <strong>d</strong> (delete), <strong>c</strong> (change), <strong>y</strong> (yank/copy), <strong>&gt;</strong> (indent)</li>\n<li>Nouns (motions) — <strong>w</strong> (word), <strong>b</strong> (back a word), <strong>2j</strong> (down 2 lines)</li>\n<li>Nouns (text objects) — <strong>iw</strong> (inner word), <strong>it</strong> (inner tag), <strong>i”</strong> (inner quotes)</li>\n</ul>\n<p>Then you can compose verbs and nouns to create any number of commands:</p>\n<ul>\n<li><strong>dw</strong> to delete to the end of a word</li>\n<li><strong>diw</strong> to delete the entire word at the cursor</li>\n<li><strong>y4j</strong> to copy 4 lines</li>\n<li><strong>cit</strong> to change the content inside an HTML tag</li>\n</ul>\n<p>The talk points out that memorizing about 30 commands gives you the ability to compose over 2,000 distinct commands. Note that I’m putting this in week 4 — this stuff is very empowering, but only once you have a good general grasp of Vim. After 3 weeks you should have a pretty handle on the 30 commands necessary to achieve this level of wizardry!</p>\n<p>The talk also mentions installing plugins to add more to the Vim language. As always, you should exercise caution when installing plugins. But in this case, we’re talking about plugins that add to Vim as a language (as opposed to plugins that contradict Vim’s core behaviors). Some plugins worth looking at:</p>\n<ul>\n<li><strong>Consider installing</strong> <a href=\"https://github.com/tpope/vim-surround\">surround.vim</a> (adds a new modifier to change surrounding quotes, parentheses, etc.)</li>\n<li><strong>Consider installing</strong> <a href=\"https://github.com/tpope/vim-commentary\">commentary.vim</a> (adds a new verb to comment lines)</li>\n<li><strong>Consider installing</strong> <a href=\"https://github.com/tpope/vim-repeat\">repeat.vim</a> (adds <strong>.</strong> repeat support for certain plugins)</li>\n</ul>\n<p>(All the above plugins are by <a href=\"https://github.com/tpope\">Tim Pope</a>, a name you’ll definitely run across on your journey to mastering Vim).</p>\n<blockquote>\n<p><strong>Pro tip</strong>: In the talk they go over using <a href=\"https://jeffkreeftmeijer.com/vim-number/\">relative line numbers</a>, which I actually don’t recommend. A lot of people were big fans when it was first introduced, but I’ve also heard of people having issues with it after a while (harder to read code, sometimes causes performance issues). I personally don’t see the use for it since you can accomplish the same thing (moving or deleting to a specific line) just as easily using regular Vim commands <strong>G</strong> or <strong>gg</strong> (see <a href=\"https://stackoverflow.com/questions/6384561/delete-from-the-current-cursor-position-to-a-given-line-number-in-vi-editor\">here</a>).</p>\n</blockquote>\n<h3 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h3>\n<p>Learning Vim is a lot of work but can also be a lot of fun. If you recoil at the idea of spending a month to learn a text editor, this may not be for you. However, I do think most developers would benefit from following the advice in week 1 to at least get the superpower of being able to edit files directly on a server. You’ll be able to do amazing things like <a href=\"/web-development-on-an-ipad.html\">truly write code on an iPad</a> or Chromebook using a VPS. At the minimum, you won’t look silly getting stuck in Vim when it randomly opens in your terminal!</p>\n<p>If you do spend the time to go through all 4 weeks, then you can take your programmer editing game to a whole other level. I honestly don’t know if it will make you more efficient (since you’ll probably spend the time that you saved writing code on learning more cool tricks and trying new configurations). Again, it’s more like learning a musical instrument — depending on your personality, you can get a real kick out of the process of continually mastering Vim. Hope you find these tips useful on your journey!</p>\n",
      "date_published": "2017-10-05T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/dont-just-read-the-elm-guide-do-the-elm-guide.html",
      "url": "https://peterxjang.com/blog/dont-just-read-the-elm-guide-do-the-elm-guide.html",
      "title": "Don’t just read the Elm Guide, do the Elm Guide",
      "content_html": "<p>Recently I’ve been teaching myself the <a href=\"http://elm-lang.org/\">Elm programming language</a>, something I’ve been wanting to do ever since I saw the <a href=\"http://debug.elm-lang.org/edit/Mario.elm\">Elm Debugger: Mario</a> example in 2014. About 100 lines of code with sprite animation, keyboard input, and a time-traveling debugger — this really blew me away, I had never seen anything like it!</p>\n<p><img src=\"/img/1__yPn19xbe1wjCo2c4os__vDA.gif\" alt=\"Elm game with time-traveling debugger\"></p>\n<p>I put off really digging into Elm for various reasons — there were a lot of new concepts, the <a href=\"http://elm-lang.org/docs/style-guide\">formatting style</a> (particularly commas on new lines) was pretty jarring to me, etc. Recently, I’ve heard several people describe the best way to learn Elm is <strong>not</strong> focus on theory or syntax — instead just start to build stuff using <a href=\"https://guide.elm-lang.org/architecture/\">The Elm Architecture</a>, a structured pattern to building Elm apps, and learn along the way.</p>\n<p>This is the basic teaching approach of the official <a href=\"https://guide.elm-lang.org\">Elm Guide</a>, which I highly, highly recommend — it’s not just that it’s very well explained (which it is), but it’s also very carefully thought out in terms of the order each concept is introduced. I’ve been following this approach and it’s helped me get to the point where I can <a href=\"comparing-frontend-approaches-part-6-elm.html\">build Elm apps</a> on my own! Here I’m going to provide some tips to go along with the first three sections of the Elm Guide that really helped me solidify my learning.</p>\n<h4 id=\"section-1%3A-install\">Section 1: <a href=\"https://guide.elm-lang.org/install.html\">Install</a> <a class=\"direct-link\" href=\"#section-1%3A-install\">#</a></h4>\n<p>The Elm Guide gives information on how to install Elm, recommends plugins for your text editor of choice, and optionally recommends <a href=\"https://github.com/avh4/elm-format\">elm-format</a>, which is a tool to automatically format your code (like <a href=\"https://golang.org/cmd/gofmt/\">gofmt</a> for Go and <a href=\"https://github.com/prettier/prettier\">prettier</a> for JavaScript).</p>\n<p><strong>To me, elm-format is not optional, it is an absolute must</strong>. Elm’s syntax can be hard for a newcomer to get used to — with elm-format, you simply don’t need to spend time to get used to it, your code will automatically format itself! It may seem tedious to do editor and tooling setup first, as people often want to play around with the code immediately. However, if you’re taking the language seriously, you’ll have to set up your tools at some point, and in this case the tooling reduces the barriers to learning in a big way!</p>\n<h4 id=\"section-2%3A-core-language\">Section 2: <a href=\"https://guide.elm-lang.org/core_language.html\">Core Language</a> <a class=\"direct-link\" href=\"#section-2%3A-core-language\">#</a></h4>\n<p>The Elm Guide then walks through some of the basic language features. In many ways Elm is similar enough to JavaScript, to the point where you can play around with it immediately using <code>elm-repl</code> in your terminal. As the guide says, <strong>you should type out each example — do not just read the text</strong>. The concepts aren’t likely to stick otherwise.</p>\n<p>One other point is to try not to jump ahead — if you’ve seen Elm code in the wild, you may be tempted to learn and try out more advanced syntax and concepts. The guide does cover these things in detail later, I would recommend you go in order so you don’t get overwhelmed at the start.</p>\n<h4 id=\"step-3%3A-the-elm-architecture\">Step 3: <a href=\"https://guide.elm-lang.org/architecture/\">The Elm Architecture</a> <a class=\"direct-link\" href=\"#step-3%3A-the-elm-architecture\">#</a></h4>\n<p>This is the big one — the Elm Guide describes the basic concept of The Elm Architecture, then walks you through several examples of small but fully working apps. The guide suggests that you clone the code for each example from an existing GitHub repo or follow along in the online editor in an existing project.</p>\n<p>I personally think you shouldn’t clone the code or use the online editor from an existing project— instead, <strong>I believe</strong> <strong>you should retype each example in your own text editor and run the code yourself</strong>. Each example is a single file with a reasonably small amount of code. Here’s the first example in its fully working entirety:</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token import_statement\"><span class=\"token keyword\">import</span> Html <span class=\"token keyword\">exposing</span> </span><span class=\"token punctuation\">(</span><span class=\"token constant\">Html</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">button</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">text</span><span class=\"token punctuation\">)</span><br><span class=\"token import_statement\"><span class=\"token keyword\">import</span> Html.Events <span class=\"token keyword\">exposing</span> </span><span class=\"token punctuation\">(</span><span class=\"token hvariable\">onClick</span><span class=\"token punctuation\">)</span><br><br><br><span class=\"token hvariable\">main</span> <span class=\"token operator\">=</span><br>  <span class=\"token hvariable\">Html.beginnerProgram</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">model</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">view</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">view</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">update</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">update</span> <span class=\"token punctuation\">}</span><br><br><br><span class=\"token comment\">-- MODEL</span><br><br><span class=\"token keyword\">type</span> <span class=\"token keyword\">alias</span> <span class=\"token constant\">Model</span> <span class=\"token operator\">=</span> <span class=\"token constant\">Int</span><br><br><span class=\"token hvariable\">model</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Model</span><br><span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span><br>  <span class=\"token number\">0</span><br><br><br><span class=\"token comment\">-- UPDATE</span><br><br><span class=\"token keyword\">type</span> <span class=\"token constant\">Msg</span> <span class=\"token operator\">=</span> <span class=\"token constant\">Increment</span> <span class=\"token operator\">|</span> <span class=\"token constant\">Decrement</span><br><br><span class=\"token hvariable\">update</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Msg</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Model</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Model</span><br><span class=\"token hvariable\">update</span> <span class=\"token hvariable\">msg</span> <span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span><br>  <span class=\"token keyword\">case</span> <span class=\"token hvariable\">msg</span> <span class=\"token keyword\">of</span><br>    <span class=\"token constant\">Increment</span> <span class=\"token operator\">-></span><br>      <span class=\"token hvariable\">model</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><br><br>    <span class=\"token constant\">Decrement</span> <span class=\"token operator\">-></span><br>      <span class=\"token hvariable\">model</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><br><br><br><span class=\"token comment\">-- VIEW</span><br><br><span class=\"token hvariable\">view</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Model</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Html</span> <span class=\"token constant\">Msg</span><br><span class=\"token hvariable\">view</span> <span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span><br>  <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><br>    <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">button</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">onClick</span> <span class=\"token constant\">Decrement</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"-\"</span> <span class=\"token punctuation\">]</span><br>    <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">toString</span> <span class=\"token hvariable\">model</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span><br>    <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">button</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">onClick</span> <span class=\"token constant\">Increment</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"+\"</span> <span class=\"token punctuation\">]</span><br>    <span class=\"token punctuation\">]</span></code></pre>\n<p>Instead of copying and pasting this code, you should retype it from scratch. It’s only about 50 lines of code, half of which is whitespace (which elm-format will handle for you). Retyping it all will help you get used to writing Elm in your text editor, it will help you get used to your command line tools (<code>elm-package</code>, <code>elm-reactor</code>, <code>elm-make</code>), and it will help you get used to Elm syntax and style (essentially through osmosis).</p>\n<p>There’s a lot going on here that’s brand new (import statements, type alias vs type annotations, union types, etc.). The goal isn’t to understand it all at once, the goal is to get the “feel” of Elm and let the compiler help fix mistakes. Cloning or copying and pasting prevents you from really feeling the structure and naming conventions here.</p>\n<h4 id=\"step-3.1%3A-the-elm-architecture-%E2%80%94-refactoring-examples\">Step 3.1: <a href=\"https://guide.elm-lang.org/architecture/\">The Elm Architecture</a> — refactoring examples <a class=\"direct-link\" href=\"#step-3.1%3A-the-elm-architecture-%E2%80%94-refactoring-examples\">#</a></h4>\n<p>One of the more tricky but subtle points in learning a new language is understanding which parts of the code are variables, which parts are keywords, which parts are function inputs, etc. Let’s look at one of the first lines in the above example:</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">main</span> <span class=\"token operator\">=</span><br>  <span class=\"token hvariable\">Html.beginnerProgram</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">model</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">view</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">view</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">update</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">update</span> <span class=\"token punctuation\">}</span></code></pre>\n<p>If you’ve been doing Elm for a while, this line of code is easy enough to understand. If you’re new to Elm, it can be pretty confusing! The name <code>model</code> appears all over the code — sometimes it’s a record field, sometimes it’s a local variable, sometimes it’s an input to a function. This can make it hard to tease things apart.</p>\n<p>Here’s something I recommend to improve your knowledge of any working code that you don’t fully understand: <strong>rename variables using overly explicit names as an exercise</strong>. Here are the rules I’m going to follow:</p>\n<ul>\n<li>Rename any functions you define with “run” in front <br>\n(<code>sum</code> becomes <code>runSum</code>)</li>\n<li>Rename any function arguments with “input” in front <br>\n(<code>number</code> becomes <code>inputNumber</code>)</li>\n<li>Rename any non-function variables you define with “my” in front <br>\n(<code>name</code> becomes <code>myName</code>)</li>\n<li>Rename any types with “Type” in front <br>\n(<code>SelectAll</code> becomes <code>TypeSelectAll</code>)</li>\n</ul>\n<p>Here’s what the earlier example looks like refactored with these overly explicit names:</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token import_statement\"><span class=\"token keyword\">import</span> Html <span class=\"token keyword\">exposing</span> </span><span class=\"token punctuation\">(</span><span class=\"token constant\">Html</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">button</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">text</span><span class=\"token punctuation\">)</span><br><span class=\"token import_statement\"><span class=\"token keyword\">import</span> Html.Events <span class=\"token keyword\">exposing</span> </span><span class=\"token punctuation\">(</span><span class=\"token hvariable\">onClick</span><span class=\"token punctuation\">)</span><br><br><span class=\"token hvariable\">main</span> <span class=\"token operator\">=</span><br>    <span class=\"token hvariable\">Html.beginnerProgram</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">myModel</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">view</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">runView</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">update</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">runUpdate</span> <span class=\"token punctuation\">}</span><br>    <br><br><span class=\"token comment\">-- MODEL</span><br><br><span class=\"token keyword\">type</span> <span class=\"token keyword\">alias</span> <span class=\"token constant\">TypeModel</span> <span class=\"token operator\">=</span> <span class=\"token constant\">Int</span><br><br><span class=\"token hvariable\">myModel</span> <span class=\"token operator\">:</span> <span class=\"token constant\">TypeModel</span><br><span class=\"token hvariable\">myModel</span> <span class=\"token operator\">=</span><br>    <span class=\"token number\">0</span><br>    <br><br><span class=\"token comment\">-- UPDATE</span><br><br><span class=\"token keyword\">type</span> <span class=\"token constant\">TypeMsg</span><br>    <span class=\"token operator\">=</span> <span class=\"token constant\">TypeIncrement</span><br>    <span class=\"token operator\">|</span> <span class=\"token constant\">TypeDecrement</span><br>    <br><span class=\"token hvariable\">runUpdate</span> <span class=\"token operator\">:</span> <span class=\"token constant\">TypeMsg</span> <span class=\"token operator\">-></span> <span class=\"token constant\">TypeModel</span> <span class=\"token operator\">-></span> <span class=\"token constant\">TypeModel</span><br><span class=\"token hvariable\">runUpdate</span> <span class=\"token hvariable\">inputMsg</span> <span class=\"token hvariable\">inputModel</span> <span class=\"token operator\">=</span><br>    <span class=\"token keyword\">case</span> <span class=\"token hvariable\">inputMsg</span> <span class=\"token keyword\">of</span><br>        <span class=\"token constant\">TypeIncrement</span> <span class=\"token operator\">-></span><br>            <span class=\"token hvariable\">inputModel</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span>  <br><br>        <span class=\"token constant\">TypeDecrement</span> <span class=\"token operator\">-></span><br>            <span class=\"token hvariable\">inputModel</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><br>            <br>            <br><span class=\"token comment\">-- VIEW</span><br><br><span class=\"token hvariable\">runView</span> <span class=\"token operator\">:</span> <span class=\"token constant\">TypeModel</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Html</span> <span class=\"token constant\">TypeMsg</span><br><span class=\"token hvariable\">runView</span> <span class=\"token hvariable\">inputModel</span> <span class=\"token operator\">=</span><br>    <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">button</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">onClick</span> <span class=\"token constant\">TypeDecrement</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"-\"</span> <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">toString</span> <span class=\"token hvariable\">inputModel</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">button</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">onClick</span> <span class=\"token constant\">TypeIncrement</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"+\"</span> <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">]</span></code></pre>\n<p>Here it’s a lot more explicit when <code>model</code> is a record field, <code>myModel</code> is a local variable, <code>TypeModel</code> is a type, and <code>inputModel</code> is an argument to a function. If you think this looks <strong>more</strong> confusing than the original version, you may be right — however, if you can’t mentally translate between one version and the other, it likely indicates that you don’t grasp the code flow as well as you should.</p>\n<p>The nice part of this exercise with Elm in particular is that Elm has a great compiler that makes this type of refactoring fun. <strong>Note that I’m not suggesting to write production code using this naming convention</strong> — this is only a learning exercise. It gives you more practice typing and creating Elm code in a safe environment, and I find that by making the names more explicit, the concepts in the code become more clear.</p>\n<p>I pretty much gave away the answer to the refactoring exercise for the first example, but luckily there are many more in the Elm Guide for you to try. If you’re curious for another example, you can also check out <a href=\"comparing-frontend-approaches-part-6-elm.html\">the Elm part</a> of my series on <a href=\"comparing-frontend-approaches-part-1-introduction.html\">building a notes app using different frontend approaches</a>. I hope you find some of these tips useful on your journey to learning Elm!</p>\n",
      "date_published": "2017-09-27T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/comparing-frontend-approaches-part-7-final-thoughts.html",
      "url": "https://peterxjang.com/blog/comparing-frontend-approaches-part-7-final-thoughts.html",
      "title": "Comparing Frontend Approaches Part 7: Final Thoughts",
      "content_html": "<ul>\n<li><a href=\"comparing-frontend-approaches-part-1-introduction.html\">Part 1: Introduction</a></li>\n<li><a href=\"comparing-frontend-approaches-part-2-jquery.html\">Part 2: jQuery</a></li>\n<li><a href=\"comparing-frontend-approaches-part-3-vuejs.html\">Part 3: Vue.js</a></li>\n<li><a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">Part 4: Vue.js with components</a></li>\n<li><a href=\"comparing-frontend-approaches-part-5-react.html\">Part 5: React</a></li>\n<li><a href=\"comparing-frontend-approaches-part-6-elm.html\">Part 6: Elm</a></li>\n<li><strong>Part 7: Final thoughts</strong></li>\n</ul>\n<p><img src=\"/img/1__i1kwW5Jx__F3nYv0AsPlsXg.jpeg\" alt=\"A row of doors to choose from\"></p>\n<p>If you’ve made it this far, congratulations! Here’s a brief summary of the pros and cons of each approach for building this particular notes app:</p>\n<h4 id=\"jquery\">jQuery <a class=\"direct-link\" href=\"#jquery\">#</a></h4>\n<p>A direct DOM manipulation based approach. <br>\n<strong>Pros</strong>: Easy to install, easy to learn. Smaller in size than most frameworks.<br>\n<strong>Cons</strong>: Requires diligence with organizing code. Making all appropriate DOM updates when something changes can get complex (“jQuery spaghetti”).</p>\n<h4 id=\"vue.js\">Vue.js <a class=\"direct-link\" href=\"#vue.js\">#</a></h4>\n<p>A template based approach (with a virtual DOM under the hood)<br>\n<strong>Pros</strong>: Easy to install, easy to learn. Smallest size in terms lines of code, one of the smallest in terms of payload.<br>\n<strong>Cons</strong>: Non-trivial amount of Vue specific syntax to learn. Can get harder to organize code in the single file and Vue instance as the app increases in complexity.</p>\n<h4 id=\"vue.js-with-components\">Vue.js with components <a class=\"direct-link\" href=\"#vue.js-with-components\">#</a></h4>\n<p>The same Vue.js approach, this time with components<br>\n<strong>Pros</strong>: Single file components reduces cognitive load. Increased reusability and simplicity with components.<br>\n<strong>Cons</strong>: Requires complex build step. Passing data down and bubbling events up can be tedious with multiple parent-child components.</p>\n<h4 id=\"react\">React <a class=\"direct-link\" href=\"#react\">#</a></h4>\n<p>A virtual DOM based component approach<br>\n<strong>Pros</strong>: Small API surface. Immutable state improves simplicity. Increased reusability and simplicity with components.<br>\n<strong>Cons</strong>: Requires complex build step. Harder to learn with heavy use of advanced and experimental JS features. Functional approach in JS requires particular care.</p>\n<h4 id=\"elm\">Elm <a class=\"direct-link\" href=\"#elm\">#</a></h4>\n<p>A statically typed, purely functional approach with virtual DOM<br>\n<strong>Pros</strong>: Static types and immutable data prevent runtime errors. Clear code structure with The Elm Architecture. Smallest payload (as of version 0.19).<br>\n<strong>Cons</strong>: Harder to learn (a totally separate language from JS). Side effects require extra work to wire up.</p>\n<p>Note that the purpose here has never been to help you choose which frontend approach is “best”. The answer is always it depends on the context. For an app this small in scale, Vue.js (without components) seems like a good fit, especially since it has the smallest payload and the code is well structured. <em>(Edit: Elm version 0.19 has made a lot of</em> <a href=\"http://elm-lang.org/blog/small-assets-without-the-headache\"><em>optimizations to reduce payload size</em></a> <em>and currently is significantly smaller than all other approaches here!)</em> But most apps tend to increase in scope, and even your most fundamental assumptions can change as you add, remove, or modify features.</p>\n<p>Context also includes a person’s current level of knowledge. What’s easy for you might be hard for someone else, and vice versa. What’s hard for you today may be easy for you a year from now. This means Elm might be a terrible choice for someone with a tight deadline and no experience with functional programming, and yet would be a perfect choice for someone already experienced with Elm. All frontend approaches covered here have great merit, and the honest best choice has more to do with your team and company culture than it does with some definitive “winner”.</p>\n<p>Going back to the original idea of learning a new programming language a year, my hope is that you gained a better understanding of how each frontend approach works. This will help you write better code, regardless of your choice of library or framework. I also hope this inspired you to dig deeper into a frontend approach, whether you’re new to functional programming or a React developer who never learned jQuery. Thanks for reading!</p>\n",
      "date_published": "2017-09-26T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/comparing-frontend-approaches-part-6-elm.html",
      "url": "https://peterxjang.com/blog/comparing-frontend-approaches-part-6-elm.html",
      "title": "Comparing Frontend Approaches Part 6: Elm",
      "content_html": "<ul>\n<li><a href=\"comparing-frontend-approaches-part-1-introduction.html\">Part 1: Introduction</a></li>\n<li><a href=\"comparing-frontend-approaches-part-2-jquery.html\">Part 2: jQuery</a></li>\n<li><a href=\"comparing-frontend-approaches-part-3-vuejs.html\">Part 3: Vue.js</a></li>\n<li><a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">Part 4: Vue.js with components</a></li>\n<li><a href=\"comparing-frontend-approaches-part-5-react.html\">Part 5: React</a></li>\n<li><strong>Part 6: Elm</strong></li>\n<li><a href=\"comparing-frontend-approaches-part-7-final-thoughts.html\">Part 7: Final thoughts</a></li>\n</ul>\n<p><img src=\"/img/1__NQppPMuv7xYB1IB4hF4AnQ.png#medium\" alt=\"Elm logo\"></p>\n<p>In this part we will be implementing the <a href=\"comparing-frontend-approaches-part-1-introduction.html\">web based clone</a> of the <a href=\"https://support.apple.com/kb/PH22608?locale=en_US\">Mac Notes app</a> using <a href=\"http://elm-lang.org/\">Elm</a>. Elm (which is not a JavaScript framework but a completely different language that compiles down to JavaScript) came out in 2012 and is currently gaining a lot of traction, with more and more companies <a href=\"https://github.com/lpil/elm-companies\">using it in production</a>.</p>\n<p>Elm is a statically typed purely functional language inspired by Haskell, but with a design that makes it easier for beginners to functional programming to get started. It uses a virtual DOM approach similar to React (even though the two were created independently). Elm doesn’t use a framework per se, but instead uses a pattern called <a href=\"https://guide.elm-lang.org/architecture/\">The Elm Architecture</a>. Let’s dive in and check it out!</p>\n<blockquote>\n<p>Note — this article is not meant to teach Elm from scratch, but rather give an overview of what building an Elm app looks like in comparison to other JavaScript frontend approaches. You don’t need experience with the language to get something out of the article, but if you want a sense of the language before continuing, I would recommend reading this <a href=\"http://elm-lang.org/docs/from-javascript\">Elm vs. JavaScript syntax comparison</a> and looking over the <a href=\"https://guide.elm-lang.org/\">official guide</a> (which is an excellent resource for learning the language).</p>\n</blockquote>\n<h3 id=\"installation\">Installation <a class=\"direct-link\" href=\"#installation\">#</a></h3>\n<p>Like <a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">Vue.js with components</a> and <a href=\"comparing-frontend-approaches-part-5-react.html\">React</a>, we’re going to need a build process to use Elm. First we need to install Elm itself if you don’t already have it on your computer:</p>\n<pre><code>$ npm install -g elm\n</code></pre>\n<p>Now we’re going to create a new directory and copy the HTML and CSS files from the original <a href=\"https://jsfiddle.net/peterxjang/vtsjc5w9/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=vtsjc5w9\">notes app template</a>. The only thing left is the JavaScript, which we will generate from Elm code. First run the command:</p>\n<pre><code>$ elm init\n</code></pre>\n<p>This will prompt you to create an <code>elm.json</code> file (which is similar to JavaScript’s <code>package.json</code> file). By default it included the necessary dependencies for Elm to work with a web browser.</p>\n<p>Next we’re going to create a new file called <strong><code>Notes.elm</code></strong>, which will contain our Elm code. Right now we aren’t going to add any new functionality, we just want to convert the HTML template into Elm code, like we did with <a href=\"comparing-frontend-approaches-part-5-react.html\">React</a> and JSX. However, Elm doesn’t use JSX — it uses plain old functions instead. Here’s what the <strong><code>Notes.elm</code></strong> file looks like:</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token keyword\">module</span> <span class=\"token constant\">Notes</span> <span class=\"token keyword\">exposing</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">..</span><span class=\"token punctuation\">)</span><br><span class=\"token import_statement\"><br><span class=\"token keyword\">import</span> Html <span class=\"token keyword\">exposing</span> </span><span class=\"token punctuation\">(</span><span class=\"token operator\">..</span><span class=\"token punctuation\">)</span><br><span class=\"token import_statement\"><span class=\"token keyword\">import</span> Html.Attributes <span class=\"token keyword\">exposing</span> </span><span class=\"token punctuation\">(</span><span class=\"token operator\">..</span><span class=\"token punctuation\">)</span><br><br><br><span class=\"token hvariable\">main</span> <span class=\"token operator\">=</span><br>    <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">id</span> <span class=\"token string\">\"app\"</span> <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar\"</span> <span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">button</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar-button\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"New\"</span> <span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">button</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar-button\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"Delete\"</span> <span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">input</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar-search\"</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">type_</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">placeholder</span> <span class=\"token string\">\"Search...\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-container\"</span> <span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selectors\"</span> <span class=\"token punctuation\">]</span><br>                <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector active\"</span> <span class=\"token punctuation\">]</span><br>                    <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector-title\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"First note...\"</span> <span class=\"token punctuation\">]</span><br>                    <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector-timestamp\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"Timestamp here...\"</span> <span class=\"token punctuation\">]</span><br>                    <span class=\"token punctuation\">]</span><br>                <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector\"</span> <span class=\"token punctuation\">]</span><br>                    <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector-title\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"Second note...\"</span> <span class=\"token punctuation\">]</span><br>                    <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector-timestamp\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"Timestamp here...\"</span> <span class=\"token punctuation\">]</span><br>                    <span class=\"token punctuation\">]</span><br>                <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector\"</span> <span class=\"token punctuation\">]</span><br>                    <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector-title\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"Third note...\"</span> <span class=\"token punctuation\">]</span><br>                    <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector-timestamp\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"Timestamp here...\"</span> <span class=\"token punctuation\">]</span><br>                    <span class=\"token punctuation\">]</span><br>                <span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-editor\"</span> <span class=\"token punctuation\">]</span><br>                <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-editor-info\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"Timestamp here...\"</span> <span class=\"token punctuation\">]</span><br>                <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">textarea</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-editor-input\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"First note...\"</span> <span class=\"token punctuation\">]</span><br>                <span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">]</span></code></pre>\n<p>This is our first look at Elm code! Some notes:</p>\n<ul>\n<li>The first line is defining the code in this file as a module named <code>Notes</code>, which we will refer to later in the HTML.</li>\n<li>The next two lines are importing functions from the <code>Html</code> library.</li>\n<li>The next line <code>main =</code> is defining the main function. Functions in Elm do not have parentheses or keyword declarations, so they’re a bit hard to notice when coming from JavaScript.</li>\n<li>The rest of the code is defining the HTML using functions like <code>div</code>, <code>button</code>, <code>p</code>, etc. Each of these functions take two arguments — a list of attributes and a list of child nodes. So for example, a simple <code>&lt;p&gt;</code> tag would look like <code>p [class &quot;info&quot;] [text &quot;Sample text&quot;]</code>. This app starts with the parent <code>div [ id &quot;app&quot; ] [ … ]</code>, and every other HTML element is a child node of this parent and are inside the second argument list (which is a bit hard to see here).</li>\n<li>The <a href=\"http://elm-lang.org/docs/style-guide\">convention in Elm</a> is to write multi-line lists with commas at the start of each line instead of at the end, which can be pretty jarring coming from languages like JavaScript. The good news is that you can install a tool called <a href=\"https://github.com/avh4/elm-format\"><code>elm-format</code></a>, which can automatically format your Elm code (similar to <a href=\"https://golang.org/cmd/gofmt/\"><code>gofmt</code></a> for Go and <a href=\"https://github.com/prettier/prettier\"><code>prettier</code></a> for JavaScript). You can configure it to format your code every time you hit save in your editor, so you don’t need to worry about comma placement, indentation, or other style concerns!</li>\n</ul>\n<p>To compile the code, we need to run this command in the terminal:</p>\n<pre><code>$ elm make Notes.elm --output js/notes.js\n</code></pre>\n<p>This will use the <code>elm make</code> command line tool to compile the Elm code in <strong><code>Notes.elm</code></strong> into a JavaScript file named <code>notes.js</code> in a folder named <code>js</code>. Note that it will also download the appropriate packages to a new folder called <code>elm-stuff</code> (similar to Node’s <code>node_modules</code> folder).</p>\n<p>The last step is to edit the <strong><code>index.html</code></strong> file by removing all the HTML elements that now live in the Elm code and adding code to load up the Elm library:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Notes<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>css/notes.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>link</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>js/notes.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></ins><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">var</span> app <span class=\"token operator\">=</span> Elm<span class=\"token punctuation\">.</span>Notes<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        node<span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#app'</span><span class=\"token punctuation\">)</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br>    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>Open the <strong><code>index.html</code></strong> file in your browser and you should see the familiar notes app starting point! You can see the code so far <a href=\"https://github.com/peterxjang/notes-app-elm/tree/7913b8708a09c4482b307cd9bb47ae8f3f6ed8c3\">here</a> for reference.</p>\n<h3 id=\"display-note-titles-from-an-array-of-notes\">Display note titles from an array of notes <a class=\"direct-link\" href=\"#display-note-titles-from-an-array-of-notes\">#</a></h3>\n<p>Now we can start to make the HTML more dynamic by storing notes as a list (think JS array) of records (think JS objects) and looping through them to generate note selectors. We will do this by structuring the code using <a href=\"https://guide.elm-lang.org/architecture\">The Elm Architecture</a>, which essentially boils down to defining 4 functions that Elm wires together to create the app.</p>\n<p>First let’s look at the main function itself. Here we’re using the <code>Browser.element</code> function that does all the work of wiring up our app. All we need to do is define each of the 4 functions — init, view, update, and subscriptions.</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">main</span> <span class=\"token operator\">=</span><br>    <span class=\"token hvariable\">Browser.element</span><br>        <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">init</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">init</span><br>        <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">view</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">view</span><br>        <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">update</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">update</span><br>        <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">subscriptions</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">subscriptions</span><br>        <span class=\"token punctuation\">}</span></code></pre>\n<p>Before we look at the 4 functions, let’s first look at how we’re defining the model, which is the data we’re using in our app (think <code>state</code> in React or <code>data</code> in Vue.js). Elm is a statically typed language, so we are defining the types on all the data up front. An individual Note type is defined with the line <code>type alias Note = { id : Int, body : String, timestamp : Int }</code>, which means a note must be a record with an integer id, string body, and integer timestamp. Now we define the <code>Model</code> itself with the line <code>type alias Model = { notes : List Note }</code>. This is saying that the <code>Model</code> must be a record with a key of <code>notes</code> and a value of a list of <code>Note</code> records. Defining these static types up front can seem like extra work, but they help prevent runtime errors later (if you forget to add a timestamp to a new note, etc.).</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token comment\">-- MODEL</span><br><br><span class=\"token keyword\">type</span> <span class=\"token keyword\">alias</span> <span class=\"token constant\">Note</span> <span class=\"token operator\">=</span><br>    <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">id</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Int</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">body</span> <span class=\"token operator\">:</span> <span class=\"token constant\">String</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">timestamp</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Int</span> <span class=\"token punctuation\">}</span><br><br><br><span class=\"token keyword\">type</span> <span class=\"token keyword\">alias</span> <span class=\"token constant\">Model</span> <span class=\"token operator\">=</span><br>    <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">notes</span> <span class=\"token operator\">:</span> <span class=\"token constant\">List</span> <span class=\"token constant\">Note</span> <span class=\"token punctuation\">}</span></code></pre>\n<p>Now let’s take a look at the <code>init</code> function, which initializes the model. The <code>init</code> function itself has a type annotation of <code>init : () -&gt; ( Model, Cmd Msg )</code>, which means it must return a <code>Model</code> and a <code>Cmd</code> (command). Commands are how Elm handles side effects, which is a significant departure from the world of JavaScript. Elm is a pure functional language, which means functions aren’t allowed to have side effects, so you need different mechanisms to handle them. As of this moment, the init function doesn’t have any need for side effects so we’re outputting no command with <code>Cmd.none</code>. Also note that I’m leaving the timestamps as 0 for now — we need some sort of Elm equivalent to JavaScript’s <code>Date.now()</code>. But if you consider it closely, getting the current time is an impure function with side effects! Which means we actually will need a command in the <code>init</code> function, which we’ll wire up in a bit...</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token hvariable\">init</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span> <span class=\"token constant\">Model</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">Cmd</span> <span class=\"token constant\">Msg</span> <span class=\"token punctuation\">)</span><br><span class=\"token hvariable\">init</span> _ <span class=\"token operator\">=</span><br>    <span class=\"token punctuation\">(</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">notes</span> <span class=\"token operator\">=</span><br>            <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">id</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">body</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"First note...\"</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">timestamp</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><br>            <span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">id</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">body</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Second note...\"</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">timestamp</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><br>            <span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">id</span> <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">body</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Third note...\"</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">timestamp</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><br>            <span class=\"token punctuation\">]</span><br>      <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">Cmd.none</span><br>    <span class=\"token punctuation\">)</span></code></pre>\n<p>The next function is the <code>update</code> function, which defines how the model gets updated. Right now the <code>update</code> function isn’t doing anything, so this is mostly placeholder code for now. The type annotation for the <code>update</code> function is <code>update : Msg -&gt; Model -&gt; ( Model, Cmd Msg )</code>, which says the function takes in two arguments (a <code>Msg</code> and a <code>Model</code>) and returns a tuple of type <code>( Model, Cmd Msg )</code>, which contains the updated model and a command for side effects. Right now our app doesn’t have any messages, so we have the line <code>type Msg = NoOp</code> as a placeholder for now — eventually we’ll have messages for selecting notes, clicking on the new button, etc.</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token comment\">-- UPDATE</span><br><br><span class=\"token keyword\">type</span> <span class=\"token constant\">Msg</span><br>    <span class=\"token operator\">=</span> <span class=\"token constant\">NoOp</span><br><br><span class=\"token hvariable\">update</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Msg</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Model</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span> <span class=\"token constant\">Model</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">Cmd</span> <span class=\"token constant\">Msg</span> <span class=\"token punctuation\">)</span><br><span class=\"token hvariable\">update</span> <span class=\"token hvariable\">msg</span> <span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span><br>    <span class=\"token punctuation\">(</span> <span class=\"token hvariable\">model</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">Cmd.none</span> <span class=\"token punctuation\">)</span></code></pre>\n<p>The next function is the <code>subscriptions</code> function, which are used to listen to events. Again, we’re not using subscriptions right now, so this code is essentially doing nothing. Subscriptions are for listening to events like mouse movements, web sockets, etc., which we won’t need for this app.</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token comment\">-- SUBSCRIPTIONS</span><br><br><span class=\"token hvariable\">subscriptions</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Model</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Sub</span> <span class=\"token constant\">Msg</span><br><span class=\"token hvariable\">subscriptions</span> <span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span><br>    <span class=\"token hvariable\">Sub.none</span></code></pre>\n<p>The final function is the <code>view</code> function, which defines the HTML output. This is the same code we started with to generate the HTML, broken down into sub-functions. The <code>view</code> function type annotation is <code>view : Model -&gt; Html Msg</code>, which means it takes in the model (our list of notes) as the argument and outputs HTML.</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token comment\">-- VIEW</span><br><br><span class=\"token hvariable\">view</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Model</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Html</span> <span class=\"token constant\">Msg</span><br><span class=\"token hvariable\">view</span> <span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span><br>    <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">id</span> <span class=\"token string\">\"app\"</span> <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar\"</span> <span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">button</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar-button\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"New\"</span> <span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">button</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar-button\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"Delete\"</span> <span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">input</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar-search\"</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">type_</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">placeholder</span> <span class=\"token string\">\"Search...\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-container\"</span> <span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">viewNoteSelectors</span> <span class=\"token hvariable\">model</span><br>            <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-editor\"</span> <span class=\"token punctuation\">]</span><br>                <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-editor-info\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"Timestamp here...\"</span> <span class=\"token punctuation\">]</span><br>                <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">textarea</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-editor-input\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"First note...\"</span> <span class=\"token punctuation\">]</span><br>                <span class=\"token punctuation\">]</span><br>            <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">]</span><br><br><span class=\"token hvariable\">viewNoteSelectors</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Model</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Html</span> <span class=\"token constant\">Msg</span><br><span class=\"token hvariable\">viewNoteSelectors</span> <span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span><br>    <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selectors\"</span> <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">(</span><span class=\"token hvariable\">List.map</span> <span class=\"token punctuation\">(</span>\\<span class=\"token hvariable\">note</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">viewNoteSelector</span> <span class=\"token hvariable\">note</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">model</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">notes</span><span class=\"token punctuation\">)</span><br><br><span class=\"token hvariable\">viewNoteSelector</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Note</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Html</span> <span class=\"token constant\">Msg</span><br><span class=\"token hvariable\">viewNoteSelector</span> <span class=\"token hvariable\">note</span> <span class=\"token operator\">=</span><br>    <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector\"</span> <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector-title\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token hvariable\">note</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">body</span> <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector-timestamp\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">String.fromInt</span> <span class=\"token hvariable\">note</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">]</span></code></pre>\n<p>You can see the complete <strong><code>Notes.elm</code></strong> file <a href=\"https://github.com/peterxjang/notes-app-elm/blob/def4666dd0c9bc897ce9acd2c44ae23ef69020ee/Notes.elm\">here</a>.</p>\n<p>Unlike our <a href=\"comparing-frontend-approaches-part-5-react.html\">React approach</a>, we aren’t going to break this app into components up front, or ever for that matter. We will be breaking things up into functions, but only when there’s a need to do so. In this case I made a sub-function <code>viewNoteSelectors</code> which is responsible for generating the <code>&lt;div class=&quot;note-selectors&quot;&gt;</code> HTML. It does this by mapping over the list of notes and calling up the <code>viewNoteSelector</code> function, which takes in a note and outputs the <code>&lt;div class=&quot;note-selector&quot;&gt;</code> HTML.</p>\n<p>Although this seems like a lot of code to get started, keep in mind that every Elm app will consist of the same 4 functions (init, view, update, and subscriptions). This takes away a lot of the decision fatigue that comes with building frontend apps.</p>\n<h3 id=\"compute-current-timestamps\">Compute current timestamps <a class=\"direct-link\" href=\"#compute-current-timestamps\">#</a></h3>\n<p>Now let’s circle back and properly compute the current timestamps. This was trivial in JavaScript, but since it involves side effects it takes more effort to wire up in Elm. First we need to install a new package to handle time:</p>\n<pre><code>$ elm install elm/time\n</code></pre>\n<p>Once it’s installed, you would change the code in <strong><code>Notes.elm</code></strong> as follows (I’m not showing the <code>subscriptions</code> and <code>view</code> functions since they didn’t change):</p>\n<pre class=\"language-text\"><code class=\"language-text\"><span class=\"highlight-line\">module Notes exposing (..)</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">import Browser</span><br><span class=\"highlight-line\">import Html exposing (..)</span><br><span class=\"highlight-line\">import Html.Attributes exposing (..)</span><br><ins class=\"highlight-line highlight-line-add\">import Task</ins><br><ins class=\"highlight-line highlight-line-add\">import Time</ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">main =</span><br><span class=\"highlight-line\">    Browser.element</span><br><span class=\"highlight-line\">        { init = init</span><br><span class=\"highlight-line\">        , view = view</span><br><span class=\"highlight-line\">        , update = update</span><br><span class=\"highlight-line\">        , subscriptions = subscriptions</span><br><span class=\"highlight-line\">        }</span><br><span class=\"highlight-line\">        </span><br><span class=\"highlight-line\">-- MODEL</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">type alias Note =</span><br><span class=\"highlight-line\">    { id : Int, body : String, timestamp : Int }</span><br><span class=\"highlight-line\">    </span><br><span class=\"highlight-line\">type alias Model =</span><br><span class=\"highlight-line\">    { notes : List Note }</span><br><span class=\"highlight-line\">    </span><br><span class=\"highlight-line\">init : () -> ( Model, Cmd Msg )</span><br><span class=\"highlight-line\">init _ =</span><br><span class=\"highlight-line\">    ( { notes =</span><br><span class=\"highlight-line\">            [ { id = 1, body = \"First note...\", timestamp = 0 }</span><br><span class=\"highlight-line\">            , { id = 2, body = \"Second note...\", timestamp = 0 }</span><br><span class=\"highlight-line\">            , { id = 3, body = \"Third note...\", timestamp = 0 }</span><br><span class=\"highlight-line\">            ]</span><br><span class=\"highlight-line\">      }</span><br><ins class=\"highlight-line highlight-line-add\">    , Task.perform InitializeNotesTimestamps Time.now</ins><br><span class=\"highlight-line\">    )</span><br><span class=\"highlight-line\">    </span><br><span class=\"highlight-line\">-- UPDATE</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">type Msg</span><br><ins class=\"highlight-line highlight-line-add\">    = InitializeNotesTimestamps Time.Posix</ins><br><span class=\"highlight-line\">    </span><br><span class=\"highlight-line\">update : Msg -> Model -> ( Model, Cmd Msg )</span><br><span class=\"highlight-line\">update msg model =</span><br><ins class=\"highlight-line highlight-line-add\">    case msg of</ins><br><ins class=\"highlight-line highlight-line-add\">        InitializeNotesTimestamps time -></ins><br><ins class=\"highlight-line highlight-line-add\">            ( { model</ins><br><ins class=\"highlight-line highlight-line-add\">                | notes = List.map (\\note -> { note | timestamp = Time.posixToMillis time }) model.notes</ins><br><ins class=\"highlight-line highlight-line-add\">              }</ins><br><ins class=\"highlight-line highlight-line-add\">            , Cmd.none</ins><br><ins class=\"highlight-line highlight-line-add\">            )</ins><br><span class=\"highlight-line\">            </span><br><span class=\"highlight-line\">-- SUBSCRIPTIONS</span><br><span class=\"highlight-line\">-- ...</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">-- VIEW</span><br><span class=\"highlight-line\">-- ...</span></code></pre>\n<p>Let’s break this down piece by piece:</p>\n<ul>\n<li>First we import the <code>Task</code> and <code>Time</code> libraries, which are needed to create timestamps.</li>\n<li>The <code>init</code> function now runs a command with the <a href=\"http://package.elm-lang.org/packages/elm-lang/core/latest/Task#perform\"><code>Task.perform</code></a> function, which takes in two arguments — in this case the <code>InitializeTimestamps</code> message and <a href=\"http://package.elm-lang.org/packages/elm-lang/core/5.1.1/Time#now\"><code>Time.now</code></a>, which gets the POSIX representation of time when the task is run (similar to JavaScript’s <code>Date.now()</code>, although it isn’t stored in Elm as an integer).</li>\n<li>The <code>update</code> section now has something to do! First we change the Msg definition to be a message called <code>InitializeNotesTimestamps</code> (which our init function will send out), which comes with the <code>time</code> result from <code>Time.now</code>.</li>\n<li>Now we can change the <code>update</code> function itself to respond to the case where the message is <code>InitializeNotesTimestamps</code> (right now this is the only possibility, but we will be adding more cases soon). In that case the function will update every note with the given <code>time</code> (which in this case must first be converted into milliseconds using <code>Time.posixToMillis</code>).</li>\n</ul>\n<p>There’s no doubt that this is quite a bit of work in Elm for something that was trivial in JavaScript. Consider this an up front cost — this architecture provides some absolute guarantees about the safety and structure of the code. The purity in a functional language like Elm makes certain features with side effects harder to implement, but makes it literally impossible to be lazy and write something like jQuery spaghetti.</p>\n<h3 id=\"use-functions-to-sort-and-format-notes\">Use functions to sort and format notes <a class=\"direct-link\" href=\"#use-functions-to-sort-and-format-notes\">#</a></h3>\n<p>Now let’s write more functions, this time to sort and format the notes. Here’s the code in <strong><code>Notes.elm</code></strong> (focusing on the changes in the <code>view</code> function):</p>\n<pre class=\"language-elm\"><code class=\"language-elm\"><span class=\"token comment\">-- VIEW</span><br><br><span class=\"token hvariable\">view</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Model</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Html</span> <span class=\"token constant\">Msg</span>  <br><span class=\"token hvariable\">view</span> <span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span>  <br>    <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">id</span> <span class=\"token string\">\"app\"</span> <span class=\"token punctuation\">]</span>  <br>        <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar\"</span> <span class=\"token punctuation\">]</span>  <br>            <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">button</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar-button\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"New\"</span> <span class=\"token punctuation\">]</span>  <br>            <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">button</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar-button\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"Delete\"</span> <span class=\"token punctuation\">]</span>  <br>            <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">input</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"toolbar-search\"</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">type_</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">placeholder</span> <span class=\"token string\">\"Search...\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>  <br>            <span class=\"token punctuation\">]</span>  <br>        <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-container\"</span> <span class=\"token punctuation\">]</span>  <br>            <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">viewNoteSelectors</span> <span class=\"token hvariable\">model</span>  <br>            <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-editor\"</span> <span class=\"token punctuation\">]</span>  <br>                <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-editor-info\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"Timestamp here...\"</span> <span class=\"token punctuation\">]</span>  <br>                <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">textarea</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-editor-input\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token string\">\"First note...\"</span> <span class=\"token punctuation\">]</span>  <br>                <span class=\"token punctuation\">]</span>  <br>            <span class=\"token punctuation\">]</span>  <br>        <span class=\"token punctuation\">]</span><br><br><span class=\"token hvariable\">viewNoteSelectors</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Model</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Html</span> <span class=\"token constant\">Msg</span>  <br><span class=\"token hvariable\">viewNoteSelectors</span> <span class=\"token hvariable\">model</span> <span class=\"token operator\">=</span>  <br>    <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selectors\"</span> <span class=\"token punctuation\">]</span>  <br>    <span class=\"token punctuation\">(</span><span class=\"token hvariable\">model</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">notes</span>  <br>            <span class=\"token operator\">|></span> <span class=\"token hvariable\">List.sortBy</span> <span class=\"token punctuation\">.</span><span class=\"token hvariable\">timestamp</span>  <br>            <span class=\"token operator\">|></span> <span class=\"token hvariable\">List.reverse</span>  <br>            <span class=\"token operator\">|></span> <span class=\"token hvariable\">List.map</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">note</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">viewNoteSelector</span> <span class=\"token hvariable\">note</span><span class=\"token punctuation\">)</span>  <br>        <span class=\"token punctuation\">)</span><br><br><span class=\"token hvariable\">viewNoteSelector</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Note</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Html</span> <span class=\"token constant\">Msg</span>  <br><span class=\"token hvariable\">viewNoteSelector</span> <span class=\"token hvariable\">note</span> <span class=\"token operator\">=</span>  <br>    <span class=\"token hvariable\">div</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector\"</span> <span class=\"token punctuation\">]</span>  <br>        <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector-title\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">formatTitle</span> <span class=\"token hvariable\">note</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span>  <br>        <span class=\"token punctuation\">,</span> <span class=\"token hvariable\">p</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">class</span> <span class=\"token string\">\"note-selector-timestamp\"</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span> <span class=\"token hvariable\">text</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">formatTimestamp</span> <span class=\"token hvariable\">note</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span>  <br>        <span class=\"token punctuation\">]</span><br><br><span class=\"token comment\">-- HELPERS</span><br><br><span class=\"token hvariable\">formatTitle</span> <span class=\"token operator\">:</span> <span class=\"token constant\">String</span> <span class=\"token operator\">-></span> <span class=\"token constant\">String</span>  <br><span class=\"token hvariable\">formatTitle</span> <span class=\"token hvariable\">body</span> <span class=\"token operator\">=</span>  <br>    <span class=\"token keyword\">let</span>  <br>        <span class=\"token hvariable\">maxLength</span> <span class=\"token operator\">=</span>  <br>            <span class=\"token number\">20</span>  <br>        <span class=\"token hvariable\">length</span> <span class=\"token operator\">=</span>  <br>            <span class=\"token hvariable\">String.length</span> <span class=\"token hvariable\">body</span>  <br>    <span class=\"token keyword\">in</span>  <br>    <span class=\"token keyword\">if</span> <span class=\"token hvariable\">length</span> <span class=\"token operator\">></span> <span class=\"token hvariable\">maxLength</span> <span class=\"token keyword\">then</span>  <br>        <span class=\"token hvariable\">String.left</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">maxLength</span> <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">body</span> <span class=\"token operator\">++</span> <span class=\"token string\">\"...\"</span>  <br>    <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token hvariable\">length</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token keyword\">then</span>  <br>        <span class=\"token string\">\"New note\"</span>  <br>    <span class=\"token keyword\">else</span>  <br>        <span class=\"token hvariable\">body</span><br><br><span class=\"token hvariable\">formatTimestamp</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Int</span> <span class=\"token operator\">-></span> <span class=\"token constant\">String</span>  <br><span class=\"token hvariable\">formatTimestamp</span> <span class=\"token hvariable\">timestamp</span> <span class=\"token operator\">=</span>  <br>    <span class=\"token keyword\">let</span>  <br>        <span class=\"token hvariable\">time</span> <span class=\"token operator\">=</span>  <br>            <span class=\"token hvariable\">Time.millisToPosix</span> <span class=\"token hvariable\">timestamp</span>  <br>        <span class=\"token hvariable\">hour</span> <span class=\"token operator\">=</span>  <br>            <span class=\"token hvariable\">String.fromInt</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">Time.toHour</span> <span class=\"token hvariable\">Time.utc</span> <span class=\"token hvariable\">time</span><span class=\"token punctuation\">)</span>  <br>        <span class=\"token hvariable\">minute</span> <span class=\"token operator\">=</span>  <br>            <span class=\"token hvariable\">String.fromInt</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">Time.toMinute</span> <span class=\"token hvariable\">Time.utc</span> <span class=\"token hvariable\">time</span><span class=\"token punctuation\">)</span>  <br>        <span class=\"token hvariable\">second</span> <span class=\"token operator\">=</span>  <br>            <span class=\"token hvariable\">String.fromInt</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">Time.toSecond</span> <span class=\"token hvariable\">Time.utc</span> <span class=\"token hvariable\">time</span><span class=\"token punctuation\">)</span>  <br>    <span class=\"token keyword\">in</span>  <br>    <span class=\"token hvariable\">hour</span> <span class=\"token operator\">++</span> <span class=\"token string\">\":\"</span> <span class=\"token operator\">++</span> <span class=\"token hvariable\">minute</span> <span class=\"token operator\">++</span> <span class=\"token string\">\":\"</span> <span class=\"token operator\">++</span> <span class=\"token hvariable\">second</span> <span class=\"token operator\">++</span> <span class=\"token string\">\" UTC\"</span></code></pre>\n<p>Let’s go over the changes one at a time:</p>\n<ul>\n<li>In the <code>viewNoteSelectors</code> function, we are adding extra function calls to sort the notes by timestamp in reverse order. Note the use of the <code>|&gt;</code> operator, which is an alternative syntax for passing arguments to functions (<code>(arg |&gt; func)</code> is the same as <code>(func arg)</code>), which helps reduce parentheses.</li>\n<li>In the <code>viewNoteSelector</code> function, we are using the <code>formatTitle</code> and <code>formatTimestamp</code> functions, defined below.</li>\n<li>The <code>formatTitle</code> function is using the same logic we’ve used in the past. Note the use of the <code>let...in...</code> syntax, which is required when creating temporary variables in a function.</li>\n<li>The <code>formatTimestamp</code> function uses the Date library to format the given timestamp (like JavaScript’s <code>.toUTCString()</code>). I’m also using <code>String.slice</code> to remove parts of the formatted string that aren’t needed.</li>\n</ul>\n<p>Note that the formatted timestamp isn’t as detailed as JavaScript’s <code>.toUTCString()</code>. Elm doesn’t come with an equivalent function, so I’m using a simplified formatting helper function that only returns the hours/minutes/seconds. To make it more detailed can get quite involved (getting the <a href=\"https://package.elm-lang.org/packages/elm/time/latest/Time#here\">user’s time zone</a>, formatting <a href=\"https://package.elm-lang.org/packages/elm/time/latest/Time#Weekday\">weekday</a>, <a href=\"https://package.elm-lang.org/packages/elm/time/latest/Time#Month\">month names</a>, etc.), which is outside the scope of this article, so the simplified function will do for now.</p>\n<h3 id=\"select-a-note-on-title-click\">Select a note on title click <a class=\"direct-link\" href=\"#select-a-note-on-title-click\">#</a></h3>\n<p>Now let’s implement the ability to actually select notes. Clicking on a note title should both highlight the selected note on the left as well as display the contents in the editor on the right. The code in <strong><code>Notes.elm</code></strong> will change accordingly:</p>\n<pre class=\"language-text\"><code class=\"language-text\"><span class=\"highlight-line\">module Notes exposing (..)</span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">import Browser  </span><br><span class=\"highlight-line\">import Html exposing (..)  </span><br><span class=\"highlight-line\">import Html.Attributes exposing (..)  </span><br><ins class=\"highlight-line highlight-line-add\">import Html.Events exposing (..)  </ins><br><span class=\"highlight-line\">import Task  </span><br><span class=\"highlight-line\">import Time  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">main =  </span><br><span class=\"highlight-line\">    Browser.element  </span><br><span class=\"highlight-line\">        { init = init  </span><br><span class=\"highlight-line\">        , view = view  </span><br><span class=\"highlight-line\">        , update = update  </span><br><span class=\"highlight-line\">        , subscriptions = subscriptions  </span><br><span class=\"highlight-line\">        }  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- MODEL  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">type alias Note =  </span><br><span class=\"highlight-line\">    { id : Int, body : String, timestamp : Int }  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">type alias Model =  </span><br><ins class=\"highlight-line highlight-line-add\">    { notes : List Note, selectedNoteId : Int }  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">init : () -> ( Model, Cmd Msg )  </span><br><span class=\"highlight-line\">init _ =  </span><br><span class=\"highlight-line\">    ( { notes =  </span><br><span class=\"highlight-line\">            [ { id = 1, body = \"First note...\", timestamp = 0 }  </span><br><span class=\"highlight-line\">            , { id = 2, body = \"Second note...\", timestamp = 0 }  </span><br><span class=\"highlight-line\">            , { id = 3, body = \"Third note...\", timestamp = 0 }  </span><br><span class=\"highlight-line\">            ]  </span><br><ins class=\"highlight-line highlight-line-add\">      , selectedNoteId = 1  </ins><br><span class=\"highlight-line\">      }  </span><br><span class=\"highlight-line\">    , Task.perform InitializeNotesTimestamps Time.now  </span><br><span class=\"highlight-line\">    )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- UPDATE  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">type Msg  </span><br><span class=\"highlight-line\">    = InitializeNotesTimestamps Time.Posix  </span><br><ins class=\"highlight-line highlight-line-add\">    | SelectNote Int  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">update : Msg -> Model -> ( Model, Cmd Msg )  </span><br><span class=\"highlight-line\">update msg model =  </span><br><span class=\"highlight-line\">    case msg of  </span><br><span class=\"highlight-line\">        InitializeNotesTimestamps time ->  </span><br><span class=\"highlight-line\">            ( { model  </span><br><span class=\"highlight-line\">                | notes = List.map (\\note -> { note | timestamp = Time.posixToMillis time }) model.notes  </span><br><span class=\"highlight-line\">              }  </span><br><span class=\"highlight-line\">            , Cmd.none  </span><br><span class=\"highlight-line\">            )</span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\">        SelectNote id ->  </ins><br><ins class=\"highlight-line highlight-line-add\">            ( { model | selectedNoteId = id }, Cmd.none )  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- SUBSCRIPTIONS  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">subscriptions : Model -> Sub Msg  </span><br><span class=\"highlight-line\">subscriptions model =  </span><br><span class=\"highlight-line\">    Sub.none  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- VIEW  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">view : Model -> Html Msg  </span><br><span class=\"highlight-line\">view model =  </span><br><span class=\"highlight-line\">    div [ id \"app\" ]  </span><br><span class=\"highlight-line\">        [ div [ class \"toolbar\" ]  </span><br><span class=\"highlight-line\">            [ button [ class \"toolbar-button\" ] [ text \"New\" ]  </span><br><span class=\"highlight-line\">            , button [ class \"toolbar-button\" ] [ text \"Delete\" ]  </span><br><span class=\"highlight-line\">            , input [ class \"toolbar-search\", type_ \"text\", placeholder \"Search...\" ] []  </span><br><span class=\"highlight-line\">            ]  </span><br><span class=\"highlight-line\">        , div [ class \"note-container\" ]  </span><br><span class=\"highlight-line\">            [ viewNoteSelectors model  </span><br><ins class=\"highlight-line highlight-line-add\">            , viewNoteEditor model  </ins><br><span class=\"highlight-line\">            ]  </span><br><span class=\"highlight-line\">        ]  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">viewNoteSelectors : Model -> Html Msg  </span><br><span class=\"highlight-line\">viewNoteSelectors model =  </span><br><span class=\"highlight-line\">    div [ class \"note-selectors\" ]  </span><br><span class=\"highlight-line\">        (model.notes  </span><br><span class=\"highlight-line\">            |> List.sortBy .timestamp  </span><br><span class=\"highlight-line\">            |> List.reverse  </span><br><ins class=\"highlight-line highlight-line-add\">            |> List.map (\\note -> viewNoteSelector note model.selectedNoteId)  </ins><br><span class=\"highlight-line\">        )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><ins class=\"highlight-line highlight-line-add\">viewNoteSelector : Note -> Int -> Html Msg  </ins><br><ins class=\"highlight-line highlight-line-add\">viewNoteSelector note selectedNoteId =  </ins><br><ins class=\"highlight-line highlight-line-add\"> div [ classList [ ( \"note-selector\", True ), ( \"active\", note.id == selectedNoteId ) ], onClick (SelectNote note.id) ]  </ins><br><span class=\"highlight-line\">        [ p [ class \"note-selector-title\" ] [ text (formatTitle note.body) ]  </span><br><span class=\"highlight-line\">        , p [ class \"note-selector-timestamp\" ] [ text (formatTimestamp note.timestamp) ]  </span><br><span class=\"highlight-line\">        ]  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><ins class=\"highlight-line highlight-line-add\">viewNoteEditor : Model -> Html Msg  </ins><br><ins class=\"highlight-line highlight-line-add\">viewNoteEditor model =  </ins><br><ins class=\"highlight-line highlight-line-add\">    case model.notes |> List.filter (\\note -> note.id == model.selectedNoteId) |> List.head of  </ins><br><ins class=\"highlight-line highlight-line-add\">        Nothing ->  </ins><br><ins class=\"highlight-line highlight-line-add\">            div [ class \"note-editor\" ] []  </ins><br><ins class=\"highlight-line highlight-line-add\">  </ins><br><ins class=\"highlight-line highlight-line-add\">        Just selectedNote ->  </ins><br><ins class=\"highlight-line highlight-line-add\">            div [ class \"note-editor\" ]  </ins><br><ins class=\"highlight-line highlight-line-add\">                [ p [ class \"note-editor-info\" ] [ text (formatTimestamp selectedNote.timestamp) ]  </ins><br><ins class=\"highlight-line highlight-line-add\">                , textarea [ class \"note-editor-input\" ] [ text selectedNote.body ]  </ins><br><ins class=\"highlight-line highlight-line-add\">                ]</ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">-- HELPERS</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">formatTitle : String -> String  </span><br><span class=\"highlight-line\">formatTitle body =  </span><br><span class=\"highlight-line\">    let  </span><br><span class=\"highlight-line\">        maxLength =  </span><br><span class=\"highlight-line\">            20</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">    length =  </span><br><span class=\"highlight-line\">            String.length body  </span><br><span class=\"highlight-line\">    in  </span><br><span class=\"highlight-line\">    if length > maxLength then  </span><br><span class=\"highlight-line\">        String.left (maxLength - 3) body ++ \"...\"</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">    else if length == 0 then  </span><br><span class=\"highlight-line\">        \"New note\"</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">    else  </span><br><span class=\"highlight-line\">        body</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">formatTimestamp : Int -> String  </span><br><span class=\"highlight-line\">formatTimestamp timestamp =  </span><br><span class=\"highlight-line\">    let  </span><br><span class=\"highlight-line\">        time =  </span><br><span class=\"highlight-line\">            Time.millisToPosix timestamp</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">        hour =  </span><br><span class=\"highlight-line\">            String.fromInt (Time.toHour Time.utc time)</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">        minute =  </span><br><span class=\"highlight-line\">            String.fromInt (Time.toMinute Time.utc time)</span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">        second =  </span><br><span class=\"highlight-line\">            String.fromInt (Time.toSecond Time.utc time)  </span><br><span class=\"highlight-line\">    in  </span><br><span class=\"highlight-line\">    hour ++ \":\" ++ minute ++ \":\" ++ second ++ \" UTC\"</span></code></pre>\n<p>Let’s go over the changes one at a time:</p>\n<ul>\n<li>First we import the Html.Events functions, which we will use later.</li>\n<li>In the MODEL section, we are adding a new piece of data to keep track of in the model — the <code>selectedNoteId</code>, which we initialize to 1 to start off.</li>\n<li>In the UPDATE section, we add a <a href=\"https://guide.elm-lang.org/types/union_types.html\">union type</a> to Msg — now it can be a <code>InitializeTimestamps</code> or a <code>SelectNote</code> message. So we also add another case to the <code>update</code> function — if the message is <code>SelectNote</code>, we will update the <code>selectedNoteId</code> in the model accordingly.</li>\n<li>In the VIEW section, the <code>viewNoteSelector</code> function has the code <code>onClick (SelectNote note.id)</code>, which is binding the DOM click event to trigger the <code>SelectNote</code> message with the note’s id.</li>\n<li>In the VIEW section, the <code>viewNoteSelector</code> function also changed to take in one more argument, the <code>selectedNoteId</code>. This enables us to apply the right CSS <code>active</code> class to the div if the note is the selected note with the code <code>classList [ ( &quot;note-selector&quot;, True ), ( &quot;active&quot;, note.id == selectedNoteId ) ]</code>.</li>\n<li>In the VIEW section, we also extracted the code which generates the <code>&lt;div class=&quot;note-editor&quot;&gt;</code> into a separate function called <code>viewNoteEditor</code>. This function uses the model <code>notes</code> and <code>selectedNoteId</code> data to identify which note matches the <code>selectedNoteId</code>. If nothing matches, the note editor will be an empty div. If there is a match, then the note editor will show the editor with the appropriate formatted timestamp and body.</li>\n</ul>\n<p>Here we see another benefit of Elm — it forces you to deal with the case where the <code>selectedNoteId</code> doesn’t match any of the notes. There’s literally no other way to write the code and have it compile. The zero notes scenario wasn’t going to be a problem until we implemented the delete functionality, but it’s reassuring to know that these safety guarantees are built in from the start!</p>\n<h3 id=\"edit-the-selected-note-on-editor-input\">Edit the selected note on editor input <a class=\"direct-link\" href=\"#edit-the-selected-note-on-editor-input\">#</a></h3>\n<p>At this point we can select a note and it highlights accordingly, but the content of the selected note aren’t showing up in the note editor. We also need to be able to update the selected note as the user enters text in the editor. Here’s how the UPDATE and VIEW sections of the code would change in <strong><code>Notes.elm</code></strong>:</p>\n<pre class=\"language-text\"><code class=\"language-text\"><span class=\"highlight-line\">-- UPDATE  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">type Msg  </span><br><span class=\"highlight-line\">    = InitializeNotesTimestamps Time.Posix  </span><br><span class=\"highlight-line\">    | SelectNote Int  </span><br><ins class=\"highlight-line highlight-line-add\">    | UpdateSelectedNoteBody String  </ins><br><ins class=\"highlight-line highlight-line-add\">    | UpdateSelectedNoteTimestamp Time.Posix  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">update : Msg -> Model -> ( Model, Cmd Msg )  </span><br><span class=\"highlight-line\">update msg model =  </span><br><span class=\"highlight-line\">    case msg of  </span><br><span class=\"highlight-line\">        InitializeNotesTimestamps time ->  </span><br><span class=\"highlight-line\">            ( { model  </span><br><span class=\"highlight-line\">                | notes = List.map (\\note -> { note | timestamp = Time.posixToMillis time }) model.notes  </span><br><span class=\"highlight-line\">              }  </span><br><span class=\"highlight-line\">            , Cmd.none  </span><br><span class=\"highlight-line\">            )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        SelectNote id ->  </span><br><span class=\"highlight-line\">            ( { model | selectedNoteId = id }, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><ins class=\"highlight-line highlight-line-add\">        UpdateSelectedNoteBody newText ->  </ins><br><ins class=\"highlight-line highlight-line-add\">            case getSelectedNote model of  </ins><br><ins class=\"highlight-line highlight-line-add\">                Nothing ->  </ins><br><ins class=\"highlight-line highlight-line-add\">                    ( model, Cmd.none )  </ins><br><ins class=\"highlight-line highlight-line-add\">  </ins><br><ins class=\"highlight-line highlight-line-add\">                Just selectedNote ->  </ins><br><ins class=\"highlight-line highlight-line-add\">                    let  </ins><br><ins class=\"highlight-line highlight-line-add\">                        updateSelectedNote note =  </ins><br><ins class=\"highlight-line highlight-line-add\">                            if note.id == model.selectedNoteId then  </ins><br><ins class=\"highlight-line highlight-line-add\">                                { note | body = newText }  </ins><br><ins class=\"highlight-line highlight-line-add\">  </ins><br><ins class=\"highlight-line highlight-line-add\">                            else  </ins><br><ins class=\"highlight-line highlight-line-add\">                                note  </ins><br><ins class=\"highlight-line highlight-line-add\">  </ins><br><ins class=\"highlight-line highlight-line-add\">                        newNotes =  </ins><br><ins class=\"highlight-line highlight-line-add\">                            List.map updateSelectedNote model.notes  </ins><br><ins class=\"highlight-line highlight-line-add\">                    in  </ins><br><ins class=\"highlight-line highlight-line-add\">                    ( { model | notes = newNotes }  </ins><br><ins class=\"highlight-line highlight-line-add\">                    , Task.perform UpdateSelectedNoteTimestamp Time.now  </ins><br><ins class=\"highlight-line highlight-line-add\">                    )  </ins><br><span class=\"highlight-line\">  </span><br><ins class=\"highlight-line highlight-line-add\">        UpdateSelectedNoteTimestamp newTime ->  </ins><br><ins class=\"highlight-line highlight-line-add\">            case getSelectedNote model of  </ins><br><ins class=\"highlight-line highlight-line-add\">                Nothing ->  </ins><br><ins class=\"highlight-line highlight-line-add\">                    ( model, Cmd.none )  </ins><br><ins class=\"highlight-line highlight-line-add\">  </ins><br><ins class=\"highlight-line highlight-line-add\">                Just selectedNote ->  </ins><br><ins class=\"highlight-line highlight-line-add\">                    let  </ins><br><ins class=\"highlight-line highlight-line-add\">                        updateSelectedNote note =  </ins><br><ins class=\"highlight-line highlight-line-add\">                            if note.id == model.selectedNoteId then  </ins><br><ins class=\"highlight-line highlight-line-add\">                                { note | timestamp = Time.posixToMillis newTime }  </ins><br><ins class=\"highlight-line highlight-line-add\">  </ins><br><ins class=\"highlight-line highlight-line-add\">                            else  </ins><br><ins class=\"highlight-line highlight-line-add\">                                note  </ins><br><ins class=\"highlight-line highlight-line-add\">  </ins><br><ins class=\"highlight-line highlight-line-add\">                        newNotes =  </ins><br><ins class=\"highlight-line highlight-line-add\">                            List.map updateSelectedNote model.notes  </ins><br><ins class=\"highlight-line highlight-line-add\">                    in  </ins><br><ins class=\"highlight-line highlight-line-add\">                    ( { model | notes = newNotes }, Cmd.none )  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- SUBSCRIPTIONS  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">subscriptions : Model -> Sub Msg  </span><br><span class=\"highlight-line\">subscriptions model =  </span><br><span class=\"highlight-line\">    Sub.none  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- VIEW  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">view : Model -> Html Msg  </span><br><span class=\"highlight-line\">view model =  </span><br><span class=\"highlight-line\">    div [ id \"app\" ]  </span><br><span class=\"highlight-line\">        [ div [ class \"toolbar\" ]  </span><br><span class=\"highlight-line\">            [ button [ class \"toolbar-button\" ] [ text \"New\" ]  </span><br><span class=\"highlight-line\">            , button [ class \"toolbar-button\" ] [ text \"Delete\" ]  </span><br><span class=\"highlight-line\">            , input [ class \"toolbar-search\", type_ \"text\", placeholder \"Search...\" ] []  </span><br><span class=\"highlight-line\">            ]  </span><br><span class=\"highlight-line\">        , div [ class \"note-container\" ]  </span><br><span class=\"highlight-line\">            [ viewNoteSelectors model  </span><br><span class=\"highlight-line\">            , viewNoteEditor model  </span><br><span class=\"highlight-line\">            ]  </span><br><span class=\"highlight-line\">        ]  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">viewNoteSelectors : Model -> Html Msg  </span><br><span class=\"highlight-line\">viewNoteSelectors model =  </span><br><span class=\"highlight-line\">    div [ class \"note-selectors\" ]  </span><br><span class=\"highlight-line\">        (model.notes  </span><br><span class=\"highlight-line\">            |> List.sortBy .timestamp  </span><br><span class=\"highlight-line\">            |> List.reverse  </span><br><span class=\"highlight-line\">            |> List.map (\\note -> viewNoteSelector note model.selectedNoteId)  </span><br><span class=\"highlight-line\">        )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">viewNoteSelector : Note -> Int -> Html Msg  </span><br><span class=\"highlight-line\">viewNoteSelector note selectedNoteId =  </span><br><span class=\"highlight-line\">    div [ classList [ ( \"note-selector\", True ), ( \"active\", note.id == selectedNoteId ) ], onClick (SelectNote note.id) ]  </span><br><span class=\"highlight-line\">        [ p [ class \"note-selector-title\" ] [ text (formatTitle note.body) ]  </span><br><span class=\"highlight-line\">        , p [ class \"note-selector-timestamp\" ] [ text (formatTimestamp note.timestamp) ]  </span><br><span class=\"highlight-line\">        ]  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">viewNoteEditor : Model -> Html Msg  </span><br><span class=\"highlight-line\">viewNoteEditor model =  </span><br><ins class=\"highlight-line highlight-line-add\">    case getSelectedNote model of  </ins><br><span class=\"highlight-line\">        Nothing ->  </span><br><span class=\"highlight-line\">            div [ class \"note-editor\" ] []  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        Just selectedNote ->  </span><br><span class=\"highlight-line\">            div [ class \"note-editor\" ]  </span><br><span class=\"highlight-line\">                [ p [ class \"note-editor-info\" ] [ text (formatTimestamp selectedNote.timestamp) ]  </span><br><ins class=\"highlight-line highlight-line-add\">                , textarea [ class \"note-editor-input\", onInput UpdateSelectedNoteBody, value selectedNote.body ] []  </ins><br><span class=\"highlight-line\">                ]  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- HELPERS  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><ins class=\"highlight-line highlight-line-add\">getSelectedNote : Model -> Maybe Note  </ins><br><ins class=\"highlight-line highlight-line-add\">getSelectedNote model =  </ins><br><ins class=\"highlight-line highlight-line-add\">    model.notes |> List.filter (\\note -> note.id == model.selectedNoteId) |> List.head</ins></code></pre>\n<p>Let’s examine the changes:</p>\n<ul>\n<li>In the UPDATE section, the <code>Msg</code> now gets two more types — <code>UpdateSelectedNoteBody</code> and <code>UpdateSelectedNoteTimestamp</code>. The two are related — if the user enters text in the note editor, it will trigger the <code>UpdateSelectedNoteBody</code> case in the <code>update</code> function, which will update the body of the selected note. When it’s done, it will trigger the <code>Time.now</code> task, which will trigger the <code>UpdateSelectedNoteTimestamp</code> message when it’s ready. When the <code>update</code> function is called with the <code>UpdateSelectedNoteTimestamp</code> case, it will update the selected note with the given time. Note that it has to determine which note matches the <code>selectedNoteId</code>, which is logic we’ve already defined, so I’ve extracted the logic into a function called <code>getSelectedNote</code> which is defined later.</li>\n<li>In the VIEW section, we’ve refactored the <code>viewNoteEditor</code> to use the <code>getSelectedNote</code> function. We are also adding new attributes to the <code>textarea</code> element with the line <code>textarea [ class &quot;note-editor-input&quot;, onInput InputNoteBody, value selectedNote.body ] []</code>. This is binding the DOM input event to trigger the <code>UpdateSelectedNoteBody</code> message, as well as binding the selected note’s body to the <code>textarea</code> value.</li>\n<li>In the HELPERS section, we define the <code>getSelectedNote</code> method, which is just the extracted logic of finding the selected note as before.</li>\n</ul>\n<h3 id=\"create-a-new-note-with-a-button\">Create a new note with a button <a class=\"direct-link\" href=\"#create-a-new-note-with-a-button\">#</a></h3>\n<p>Now let’s implement the ability to create a new note. Clicking on the “New” button should create a new note (new id, no body, current timestamp). The new note should become the currently selected note and appear at the top of the list of note selectors. Here’s how the UPDATE and VIEW sections of the code would change in <strong><code>Notes.elm</code></strong>:</p>\n<pre class=\"language-text\"><code class=\"language-text\"><span class=\"highlight-line\">-- UPDATE  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">type Msg  </span><br><span class=\"highlight-line\">    = InitializeNotesTimestamps Time.Posix  </span><br><span class=\"highlight-line\">    | SelectNote Int  </span><br><span class=\"highlight-line\">    | UpdateSelectedNoteBody String  </span><br><span class=\"highlight-line\">    | UpdateSelectedNoteTimestamp Time.Posix  </span><br><ins class=\"highlight-line highlight-line-add\">    | ClickNew  </ins><br><ins class=\"highlight-line highlight-line-add\">    | CreateNote Time.Posix  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">update : Msg -> Model -> ( Model, Cmd Msg )  </span><br><span class=\"highlight-line\">update msg model =  </span><br><span class=\"highlight-line\">    case msg of  </span><br><span class=\"highlight-line\">        InitializeTimestamps time ->  </span><br><span class=\"highlight-line\">            ( { model  </span><br><span class=\"highlight-line\">                | notes = List.map (\\note -> { note | timestamp = time }) model.notes  </span><br><span class=\"highlight-line\">              }  </span><br><span class=\"highlight-line\">            , Cmd.none  </span><br><span class=\"highlight-line\">            )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        SelectNote id ->  </span><br><span class=\"highlight-line\">            ( { model | selectedNoteId = id }, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        InputNoteBody newText ->  </span><br><span class=\"highlight-line\">            ( model, Time.now |> Task.perform (UpdateNote newText) )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        UpdateNote newText newTimestamp ->  </span><br><span class=\"highlight-line\">            case getSelectedNote model of  </span><br><span class=\"highlight-line\">                Nothing ->  </span><br><span class=\"highlight-line\">                    ( model, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                Just selectedNote ->  </span><br><span class=\"highlight-line\">                    let  </span><br><span class=\"highlight-line\">                        updateSelectedNote note =  </span><br><span class=\"highlight-line\">                            if note.id == model.selectedNoteId then  </span><br><span class=\"highlight-line\">                                { note | body = newText, timestamp = newTimestamp }  </span><br><span class=\"highlight-line\">                            else  </span><br><span class=\"highlight-line\">                                note  </span><br><span class=\"highlight-line\">                    in  </span><br><span class=\"highlight-line\">                    ( { model | notes = List.map updateSelectedNote model.notes }  </span><br><span class=\"highlight-line\">                    , Cmd.none  </span><br><span class=\"highlight-line\">                    )  </span><br><span class=\"highlight-line\">  </span><br><ins class=\"highlight-line highlight-line-add\">        ClickNew ->  </ins><br><ins class=\"highlight-line highlight-line-add\">            ( model, Time.now |> Task.perform CreateNote )  </ins><br><span class=\"highlight-line\">  </span><br><ins class=\"highlight-line highlight-line-add\">        CreateNote newTimestamp ->  </ins><br><ins class=\"highlight-line highlight-line-add\">            let  </ins><br><ins class=\"highlight-line highlight-line-add\">                newId =  </ins><br><ins class=\"highlight-line highlight-line-add\">                    round (Time.inMilliseconds newTimestamp)  </ins><br><ins class=\"highlight-line highlight-line-add\">            in  </ins><br><ins class=\"highlight-line highlight-line-add\">            ( { model  </ins><br><ins class=\"highlight-line highlight-line-add\">                | notes = [ { id = newId, body = \"\", timestamp = newTimestamp } ] ++ model.notes  </ins><br><ins class=\"highlight-line highlight-line-add\">                , selectedNoteId = newId  </ins><br><ins class=\"highlight-line highlight-line-add\">              }  </ins><br><ins class=\"highlight-line highlight-line-add\">            , Cmd.none  </ins><br><ins class=\"highlight-line highlight-line-add\">            )  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- VIEW  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">view : Model -> Html Msg  </span><br><span class=\"highlight-line\">view model =  </span><br><span class=\"highlight-line\">    div [ id \"app\" ]  </span><br><span class=\"highlight-line\">        [ div [ class \"toolbar\" ]  </span><br><ins class=\"highlight-line highlight-line-add\">            [ button [ class \"toolbar-button\", onClick ClickNew ] [ text \"New\" ]  </ins><br><span class=\"highlight-line\">            , button [ class \"toolbar-button\" ] [ text \"Delete\" ]  </span><br><span class=\"highlight-line\">            , input [ class \"toolbar-search\", type_ \"text\", placeholder \"Search...\" ] []  </span><br><span class=\"highlight-line\">            ]  </span><br><span class=\"highlight-line\">        , div [ class \"note-container\" ]  </span><br><span class=\"highlight-line\">            [ viewNoteSelectors model  </span><br><span class=\"highlight-line\">            , viewNoteEditor model  </span><br><span class=\"highlight-line\">            ]  </span><br><span class=\"highlight-line\">        ]</span></code></pre>\n<p>Let’s examine the changes:</p>\n<ul>\n<li>In the UPDATE section, the <code>Msg</code> now gets two more types — <code>ClickNew</code> and <code>CreateNote</code>. The two are related — if the user clicks the “New” button, it will trigger the <code>ClickNew</code> message, which will in turn trigger the <code>Time.now</code> task which will run the <code>CreateNote</code> message when it’s ready. At that point the <code>CreateNote</code> case in the <code>update</code> function will have the timestamp and can update the model with a new note and <code>selectedNoteId</code>.</li>\n<li>In the VIEW section, the only thing that changes is the “New” button — we add an <code>onClick ClickNew</code> attribute to the button, which binds the DOM on click event to trigger the <code>ClickNew</code> message.</li>\n</ul>\n<p>Here we’re really starting to see the beauty of The Elm Architecture. Features like this are very simple to wire up, without any of the overhead that we saw with different JavaScript component approaches where we had to pass around a lot of info between parents and children.</p>\n<h3 id=\"delete-the-selected-note-with-a-button\">Delete the selected note with a button <a class=\"direct-link\" href=\"#delete-the-selected-note-with-a-button\">#</a></h3>\n<p>Wiring up this feature is pretty similar to the new note feature, with a couple of extra considerations. Here’s how the UPDATE and VIEW sections of the code would change in <strong><code>Notes.elm</code></strong>:</p>\n<pre class=\"language-text\"><code class=\"language-text\"><span class=\"highlight-line\">-- UPDATE  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">type Msg  </span><br><span class=\"highlight-line\">    = InitializeNotesTimestamps Time.Posix  </span><br><span class=\"highlight-line\">    | SelectNote Int  </span><br><span class=\"highlight-line\">    | UpdateSelectedNoteBody String  </span><br><span class=\"highlight-line\">    | UpdateSelectedNoteTimestamp Time.Posix  </span><br><span class=\"highlight-line\">    | ClickNew  </span><br><span class=\"highlight-line\">    | CreateNote Time.Posix </span><br><ins class=\"highlight-line highlight-line-add\">    | ClickDelete  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">update : Msg -> Model -> ( Model, Cmd Msg )  </span><br><span class=\"highlight-line\">update msg model =  </span><br><span class=\"highlight-line\">    case msg of  </span><br><span class=\"highlight-line\">        InitializeNotesTimestamps time ->  </span><br><span class=\"highlight-line\">            ( { model  </span><br><span class=\"highlight-line\">                | notes = List.map (\\note -> { note | timestamp = Time.posixToMillis time }) model.notes  </span><br><span class=\"highlight-line\">              }  </span><br><span class=\"highlight-line\">            , Cmd.none  </span><br><span class=\"highlight-line\">            )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        SelectNote id ->  </span><br><span class=\"highlight-line\">            ( { model | selectedNoteId = id }, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        UpdateSelectedNoteBody newText ->  </span><br><span class=\"highlight-line\">            case getSelectedNote model of  </span><br><span class=\"highlight-line\">                Nothing ->  </span><br><span class=\"highlight-line\">                    ( model, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                Just selectedNote ->  </span><br><span class=\"highlight-line\">                    let  </span><br><span class=\"highlight-line\">                        updateSelectedNote note =  </span><br><span class=\"highlight-line\">                            if note.id == model.selectedNoteId then  </span><br><span class=\"highlight-line\">                                { note | body = newText }  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                            else  </span><br><span class=\"highlight-line\">                                note  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                        newNotes =  </span><br><span class=\"highlight-line\">                            List.map updateSelectedNote model.notes  </span><br><span class=\"highlight-line\">                    in  </span><br><span class=\"highlight-line\">                    ( { model | notes = newNotes }  </span><br><span class=\"highlight-line\">                    , Task.perform UpdateSelectedNoteTimestamp Time.now  </span><br><span class=\"highlight-line\">                    )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        UpdateSelectedNoteTimestamp newTime ->  </span><br><span class=\"highlight-line\">            case getSelectedNote model of  </span><br><span class=\"highlight-line\">                Nothing ->  </span><br><span class=\"highlight-line\">                    ( model, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                Just selectedNote ->  </span><br><span class=\"highlight-line\">                    let  </span><br><span class=\"highlight-line\">                        updateSelectedNote note =  </span><br><span class=\"highlight-line\">                            if note.id == model.selectedNoteId then  </span><br><span class=\"highlight-line\">                                { note | timestamp = Time.posixToMillis newTime }  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                            else  </span><br><span class=\"highlight-line\">                                note  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                        newNotes =  </span><br><span class=\"highlight-line\">                            List.map updateSelectedNote model.notes  </span><br><span class=\"highlight-line\">                    in  </span><br><span class=\"highlight-line\">                    ( { model | notes = newNotes }, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        ClickNew ->  </span><br><span class=\"highlight-line\">            ( model, Task.perform CreateNote Time.now )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        CreateNote newTime ->  </span><br><span class=\"highlight-line\">            let  </span><br><span class=\"highlight-line\">                newTimestamp =  </span><br><span class=\"highlight-line\">                    Time.posixToMillis newTime  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                newId =  </span><br><span class=\"highlight-line\">                    newTimestamp  </span><br><span class=\"highlight-line\">            in  </span><br><span class=\"highlight-line\">            ( { model  </span><br><span class=\"highlight-line\">                | notes = [ { id = newId, body = \"\", timestamp = newTimestamp } ] ++ model.notes  </span><br><span class=\"highlight-line\">                , selectedNoteId = newId  </span><br><span class=\"highlight-line\">              }  </span><br><span class=\"highlight-line\">            , Cmd.none  </span><br><span class=\"highlight-line\">            )</span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\">        ClickDelete ->  </ins><br><ins class=\"highlight-line highlight-line-add\">            let  </ins><br><ins class=\"highlight-line highlight-line-add\">                newNotes =  </ins><br><ins class=\"highlight-line highlight-line-add\">                    List.filter (\\note -> note.id /= model.selectedNoteId) model.notes  </ins><br><ins class=\"highlight-line highlight-line-add\">  </ins><br><ins class=\"highlight-line highlight-line-add\">                firstVisibleNote =  </ins><br><ins class=\"highlight-line highlight-line-add\">                    newNotes |> sortNotes |> List.head  </ins><br><ins class=\"highlight-line highlight-line-add\">            in  </ins><br><ins class=\"highlight-line highlight-line-add\">            case firstVisibleNote of  </ins><br><ins class=\"highlight-line highlight-line-add\">                Nothing ->  </ins><br><ins class=\"highlight-line highlight-line-add\">                    ( { model | notes = newNotes }, Cmd.none )  </ins><br><ins class=\"highlight-line highlight-line-add\">  </ins><br><ins class=\"highlight-line highlight-line-add\">                Just availableNote ->  </ins><br><ins class=\"highlight-line highlight-line-add\">                    ( { model | notes = newNotes, selectedNoteId = availableNote.id }, Cmd.none )  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- VIEW  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">view : Model -> Html Msg  </span><br><span class=\"highlight-line\">view model =  </span><br><span class=\"highlight-line\">    div [ id \"app\" ]  </span><br><span class=\"highlight-line\">        [ div [ class \"toolbar\" ]  </span><br><span class=\"highlight-line\">            [ button [ class \"toolbar-button\", onClick ClickNew ] [ text \"New\" ]  </span><br><ins class=\"highlight-line highlight-line-add\">            , button [ class \"toolbar-button\", onClick ClickDelete ] [ text \"Delete\" ]  </ins><br><span class=\"highlight-line\">            , input [ class \"toolbar-search\", type_ \"text\", placeholder \"Search...\" ] []  </span><br><span class=\"highlight-line\">            ]  </span><br><span class=\"highlight-line\">        , div [ class \"note-container\" ]  </span><br><span class=\"highlight-line\">            [ viewNoteSelectors model  </span><br><span class=\"highlight-line\">            , viewNoteEditor model  </span><br><span class=\"highlight-line\">            ]  </span><br><span class=\"highlight-line\">        ]  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">viewNoteSelectors : Model -> Html Msg  </span><br><span class=\"highlight-line\">viewNoteSelectors model =  </span><br><span class=\"highlight-line\">    div [ class \"note-selectors\" ]  </span><br><span class=\"highlight-line\">        (model.notes  </span><br><ins class=\"highlight-line highlight-line-add\">            |> sortNotes  </ins><br><span class=\"highlight-line\">            |> List.map (\\note -> viewNoteSelector note model.selectedNoteId)  </span><br><span class=\"highlight-line\">        )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">viewNoteSelector : Note -> Int -> Html Msg  </span><br><span class=\"highlight-line\">viewNoteSelector note selectedNoteId =  </span><br><span class=\"highlight-line\">    div [ classList [ ( \"note-selector\", True ), ( \"active\", note.id == selectedNoteId ) ], onClick (SelectNote note.id) ]  </span><br><span class=\"highlight-line\">        [ p [ class \"note-selector-title\" ] [ text (formatTitle note.body) ]  </span><br><span class=\"highlight-line\">        , p [ class \"note-selector-timestamp\" ] [ text (formatTimestamp note.timestamp) ]  </span><br><span class=\"highlight-line\">        ]  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">viewNoteEditor : Model -> Html Msg  </span><br><span class=\"highlight-line\">viewNoteEditor model =  </span><br><span class=\"highlight-line\">    case getSelectedNote model of  </span><br><span class=\"highlight-line\">        Nothing ->  </span><br><span class=\"highlight-line\">            div [ class \"note-editor\" ] []  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        Just selectedNote ->  </span><br><span class=\"highlight-line\">            div [ class \"note-editor\" ]  </span><br><span class=\"highlight-line\">                [ p [ class \"note-editor-info\" ] [ text (formatTimestamp selectedNote.timestamp) ]  </span><br><span class=\"highlight-line\">                , textarea [ class \"note-editor-input\", onInput UpdateSelectedNoteBody, value selectedNote.body ] []  </span><br><span class=\"highlight-line\">                ]  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- HELPERS  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><ins class=\"highlight-line highlight-line-add\">sortNotes : List Note -> List Note  </ins><br><ins class=\"highlight-line highlight-line-add\">sortNotes notes =  </ins><br><ins class=\"highlight-line highlight-line-add\">    notes |> List.sortBy .timestamp |> List.reverse</ins></code></pre>\n<p>Let’s examine the changes:</p>\n<ul>\n<li>In the UPDATE section, the <code>Msg</code> now one more type— <code>ClickDelete</code>, which will be wired up to run whenever the user clicks the “Delete” button. The <code>update</code> function with the <code>ClickDelete</code> case has to both delete the selected note (using <code>List.filter</code>) and select a new note, which should be the top of the sorted notes. Here I extracted the logic to sort the notes into a separate <code>sortNotes</code> function (defined later) to keep the code DRY.</li>\n<li>In the VIEW section, the only significant change is the “Delete” button — we add an <code>onClick ClickDelete</code> attribute to the button, which binds the DOM on click event to trigger the <code>ClickDelete</code> message. The only other change is refactoring the <code>viewNoteSelectors</code> function to use the <code>sortNotes</code> function to keep the code DRY.</li>\n</ul>\n<p>Again, this change was a lot simpler to make compared to our other approaches, particularly in this case because Elm forced us to handle the case of no notes earlier!</p>\n<h3 id=\"filter-notes-on-search-input\">Filter notes on search input <a class=\"direct-link\" href=\"#filter-notes-on-search-input\">#</a></h3>\n<p>The final feature is to be able to search notes immediately as you type in the search input. Since this is the last feature, let’s look at the code in <strong><code>Notes.elm</code></strong> in its entirety:</p>\n<pre class=\"language-text\"><code class=\"language-text\"><span class=\"highlight-line\">module Notes exposing (..)  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">import Browser  </span><br><span class=\"highlight-line\">import Html exposing (..)  </span><br><span class=\"highlight-line\">import Html.Attributes exposing (..)  </span><br><span class=\"highlight-line\">import Html.Events exposing (..)  </span><br><span class=\"highlight-line\">import Task  </span><br><span class=\"highlight-line\">import Time  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">main =  </span><br><span class=\"highlight-line\">    Browser.element  </span><br><span class=\"highlight-line\">        { init = init  </span><br><span class=\"highlight-line\">        , view = view  </span><br><span class=\"highlight-line\">        , update = update  </span><br><span class=\"highlight-line\">        , subscriptions = subscriptions  </span><br><span class=\"highlight-line\">        }  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- MODEL  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">type alias Note =  </span><br><span class=\"highlight-line\">    { id : Int, body : String, timestamp : Int }  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">type alias Model =  </span><br><ins class=\"highlight-line highlight-line-add\">    { notes : List Note, selectedNoteId : Int, searchNoteText : String }  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">init : () -> ( Model, Cmd Msg )  </span><br><span class=\"highlight-line\">init _ =  </span><br><span class=\"highlight-line\">    ( { notes =  </span><br><span class=\"highlight-line\">            [ { id = 1, body = \"First note...\", timestamp = 0 }  </span><br><span class=\"highlight-line\">            , { id = 2, body = \"Second note...\", timestamp = 0 }  </span><br><span class=\"highlight-line\">            , { id = 3, body = \"Third note...\", timestamp = 0 }  </span><br><span class=\"highlight-line\">            ]  </span><br><span class=\"highlight-line\">      , selectedNoteId = 1  </span><br><ins class=\"highlight-line highlight-line-add\">      , searchNoteText = \"\"  </ins><br><span class=\"highlight-line\">      }  </span><br><span class=\"highlight-line\">    , Task.perform InitializeNotesTimestamps Time.now  </span><br><span class=\"highlight-line\">    )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- UPDATE  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">type Msg  </span><br><span class=\"highlight-line\">    = InitializeNotesTimestamps Time.Posix  </span><br><span class=\"highlight-line\">    | SelectNote Int  </span><br><span class=\"highlight-line\">    | UpdateSelectedNoteBody String  </span><br><span class=\"highlight-line\">    | UpdateSelectedNoteTimestamp Time.Posix  </span><br><span class=\"highlight-line\">    | ClickNew  </span><br><span class=\"highlight-line\">    | CreateNote Time.Posix  </span><br><span class=\"highlight-line\">    | ClickDelete  </span><br><ins class=\"highlight-line highlight-line-add\">    | InputSearch String  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">update : Msg -> Model -> ( Model, Cmd Msg )  </span><br><span class=\"highlight-line\">update msg model =  </span><br><span class=\"highlight-line\">    case msg of  </span><br><span class=\"highlight-line\">        InitializeNotesTimestamps time ->  </span><br><span class=\"highlight-line\">            ( { model  </span><br><span class=\"highlight-line\">                | notes = List.map (\\note -> { note | timestamp = Time.posixToMillis time }) model.notes  </span><br><span class=\"highlight-line\">              }  </span><br><span class=\"highlight-line\">            , Cmd.none  </span><br><span class=\"highlight-line\">            )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        SelectNote id ->  </span><br><span class=\"highlight-line\">            ( { model | selectedNoteId = id }, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        UpdateSelectedNoteBody newText ->  </span><br><span class=\"highlight-line\">            case getSelectedNote model of  </span><br><span class=\"highlight-line\">                Nothing ->  </span><br><span class=\"highlight-line\">                    ( model, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                Just selectedNote ->  </span><br><span class=\"highlight-line\">                    let  </span><br><span class=\"highlight-line\">                        updateSelectedNote note =  </span><br><span class=\"highlight-line\">                            if note.id == model.selectedNoteId then  </span><br><span class=\"highlight-line\">                                { note | body = newText }  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                            else  </span><br><span class=\"highlight-line\">                                note  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                        newNotes =  </span><br><span class=\"highlight-line\">                            List.map updateSelectedNote model.notes  </span><br><span class=\"highlight-line\">                    in  </span><br><span class=\"highlight-line\">                    ( { model | notes = newNotes }  </span><br><span class=\"highlight-line\">                    , Task.perform UpdateSelectedNoteTimestamp Time.now  </span><br><span class=\"highlight-line\">                    )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        UpdateSelectedNoteTimestamp newTime ->  </span><br><span class=\"highlight-line\">            case getSelectedNote model of  </span><br><span class=\"highlight-line\">                Nothing ->  </span><br><span class=\"highlight-line\">                    ( model, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                Just selectedNote ->  </span><br><span class=\"highlight-line\">                    let  </span><br><span class=\"highlight-line\">                        updateSelectedNote note =  </span><br><span class=\"highlight-line\">                            if note.id == model.selectedNoteId then  </span><br><span class=\"highlight-line\">                                { note | timestamp = Time.posixToMillis newTime }  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                            else  </span><br><span class=\"highlight-line\">                                note  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                        newNotes =  </span><br><span class=\"highlight-line\">                            List.map updateSelectedNote model.notes  </span><br><span class=\"highlight-line\">                    in  </span><br><span class=\"highlight-line\">                    ( { model | notes = newNotes }, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        ClickNew ->  </span><br><span class=\"highlight-line\">            ( model, Task.perform CreateNote Time.now )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        CreateNote newTime ->  </span><br><span class=\"highlight-line\">            let  </span><br><span class=\"highlight-line\">                newTimestamp =  </span><br><span class=\"highlight-line\">                    Time.posixToMillis newTime  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                newId =  </span><br><span class=\"highlight-line\">                    newTimestamp  </span><br><span class=\"highlight-line\">            in  </span><br><span class=\"highlight-line\">            ( { model  </span><br><span class=\"highlight-line\">                | notes = [ { id = newId, body = \"\", timestamp = newTimestamp } ] ++ model.notes  </span><br><span class=\"highlight-line\">                , selectedNoteId = newId  </span><br><span class=\"highlight-line\">              }  </span><br><span class=\"highlight-line\">            , Cmd.none  </span><br><span class=\"highlight-line\">            )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        ClickDelete ->  </span><br><span class=\"highlight-line\">            let  </span><br><span class=\"highlight-line\">                newNotes =  </span><br><span class=\"highlight-line\">                    List.filter (\\note -> note.id /= model.selectedNoteId) model.notes  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                firstVisibleNote =  </span><br><ins class=\"highlight-line highlight-line-add\">                    getFirstVisibleNote newNotes model.searchNoteText  </ins><br><span class=\"highlight-line\">            in  </span><br><span class=\"highlight-line\">            case firstVisibleNote of  </span><br><span class=\"highlight-line\">                Nothing ->  </span><br><span class=\"highlight-line\">                    ( { model | notes = newNotes }, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">                Just availableNote ->  </span><br><span class=\"highlight-line\">                    ( { model | notes = newNotes, selectedNoteId = availableNote.id }, Cmd.none )  </span><br><span class=\"highlight-line\">  </span><br><ins class=\"highlight-line highlight-line-add\">        InputSearch searchNoteText ->  </ins><br><ins class=\"highlight-line highlight-line-add\">            let  </ins><br><ins class=\"highlight-line highlight-line-add\">                firstVisibleNote =  </ins><br><ins class=\"highlight-line highlight-line-add\">                    getFirstVisibleNote model.notes searchNoteText  </ins><br><ins class=\"highlight-line highlight-line-add\">            in  </ins><br><ins class=\"highlight-line highlight-line-add\">            case firstVisibleNote of  </ins><br><ins class=\"highlight-line highlight-line-add\">                Nothing ->  </ins><br><ins class=\"highlight-line highlight-line-add\">                    ( { model | searchNoteText = searchNoteText, selectedNoteId = -1 }, Cmd.none )  </ins><br><ins class=\"highlight-line highlight-line-add\">  </ins><br><ins class=\"highlight-line highlight-line-add\">                Just availableNote ->  </ins><br><ins class=\"highlight-line highlight-line-add\">                    ( { model | searchNoteText = searchNoteText, selectedNoteId = availableNote.id }, Cmd.none )  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- SUBSCRIPTIONS  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">subscriptions : Model -> Sub Msg  </span><br><span class=\"highlight-line\">subscriptions model =  </span><br><span class=\"highlight-line\">    Sub.none  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- VIEW  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">view : Model -> Html Msg  </span><br><span class=\"highlight-line\">view model =  </span><br><span class=\"highlight-line\">    div [ id \"app\" ]  </span><br><span class=\"highlight-line\">        [ div [ class \"toolbar\" ]  </span><br><span class=\"highlight-line\">            [ button [ class \"toolbar-button\", onClick ClickNew ] [ text \"New\" ]  </span><br><span class=\"highlight-line\">            , button [ class \"toolbar-button\", onClick ClickDelete ] [ text \"Delete\" ]  </span><br><ins class=\"highlight-line highlight-line-add\">            , input [ class \"toolbar-search\", type_ \"text\", placeholder \"Search...\", onInput InputSearch ] []  </ins><br><span class=\"highlight-line\">            ]  </span><br><span class=\"highlight-line\">        , div [ class \"note-container\" ]  </span><br><span class=\"highlight-line\">            [ viewNoteSelectors model  </span><br><span class=\"highlight-line\">            , viewNoteEditor model  </span><br><span class=\"highlight-line\">            ]  </span><br><span class=\"highlight-line\">        ]  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">viewNoteSelectors : Model -> Html Msg  </span><br><span class=\"highlight-line\">viewNoteSelectors model =  </span><br><span class=\"highlight-line\">    div [ class \"note-selectors\" ]  </span><br><span class=\"highlight-line\">        (model.notes  </span><br><ins class=\"highlight-line highlight-line-add\">            |> transformNotes model.searchNoteText  </ins><br><span class=\"highlight-line\">            |> List.map (\\note -> viewNoteSelector note model.selectedNoteId)  </span><br><span class=\"highlight-line\">        )  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">viewNoteSelector : Note -> Int -> Html Msg  </span><br><span class=\"highlight-line\">viewNoteSelector note selectedNoteId =  </span><br><span class=\"highlight-line\">    div [ classList [ ( \"note-selector\", True ), ( \"active\", note.id == selectedNoteId ) ], onClick (SelectNote note.id) ]  </span><br><span class=\"highlight-line\">        [ p [ class \"note-selector-title\" ] [ text (formatTitle note.body) ]  </span><br><span class=\"highlight-line\">        , p [ class \"note-selector-timestamp\" ] [ text (formatTimestamp note.timestamp) ]  </span><br><span class=\"highlight-line\">        ]  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">viewNoteEditor : Model -> Html Msg  </span><br><span class=\"highlight-line\">viewNoteEditor model =  </span><br><span class=\"highlight-line\">    case getSelectedNote model of  </span><br><span class=\"highlight-line\">        Nothing ->  </span><br><span class=\"highlight-line\">            div [ class \"note-editor\" ] []  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        Just selectedNote ->  </span><br><span class=\"highlight-line\">            div [ class \"note-editor\" ]  </span><br><span class=\"highlight-line\">                [ p [ class \"note-editor-info\" ] [ text (formatTimestamp selectedNote.timestamp) ]  </span><br><span class=\"highlight-line\">                , textarea [ class \"note-editor-input\", onInput UpdateSelectedNoteBody, value selectedNote.body ] []  </span><br><span class=\"highlight-line\">                ]  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">-- HELPERS  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><ins class=\"highlight-line highlight-line-add\">getFirstVisibleNote : List Note -> String -> Maybe Note  </ins><br><ins class=\"highlight-line highlight-line-add\">getFirstVisibleNote notes searchText =  </ins><br><ins class=\"highlight-line highlight-line-add\">    notes  </ins><br><ins class=\"highlight-line highlight-line-add\">        |> transformNotes searchText  </ins><br><ins class=\"highlight-line highlight-line-add\">        |> List.head  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><ins class=\"highlight-line highlight-line-add\">transformNotes : String -> List Note -> List Note  </ins><br><ins class=\"highlight-line highlight-line-add\">transformNotes searchNoteText notes =  </ins><br><ins class=\"highlight-line highlight-line-add\">    notes  </ins><br><ins class=\"highlight-line highlight-line-add\">        |> List.filter (\\note -> String.contains (String.toLower searchNoteText) (String.toLower note.body))  </ins><br><ins class=\"highlight-line highlight-line-add\">        |> List.sortBy .timestamp  </ins><br><ins class=\"highlight-line highlight-line-add\">        |> List.reverse  </ins><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">getSelectedNote : Model -> Maybe Note  </span><br><span class=\"highlight-line\">getSelectedNote model =  </span><br><span class=\"highlight-line\">    model.notes  </span><br><ins class=\"highlight-line highlight-line-add\">        |> transformNotes model.searchNoteText  </ins><br><span class=\"highlight-line\">        |> List.filter (\\note -> note.id == model.selectedNoteId)  </span><br><span class=\"highlight-line\">        |> List.head  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">formatTitle : String -> String  </span><br><span class=\"highlight-line\">formatTitle body =  </span><br><span class=\"highlight-line\">    let  </span><br><span class=\"highlight-line\">        maxLength =  </span><br><span class=\"highlight-line\">            20  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        length =  </span><br><span class=\"highlight-line\">            String.length body  </span><br><span class=\"highlight-line\">    in  </span><br><span class=\"highlight-line\">    if length > maxLength then  </span><br><span class=\"highlight-line\">        String.left (maxLength - 3) body ++ \"...\"  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">    else if length == 0 then  </span><br><span class=\"highlight-line\">        \"New note\"  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">    else  </span><br><span class=\"highlight-line\">        body  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">formatTimestamp : Int -> String  </span><br><span class=\"highlight-line\">formatTimestamp timestamp =  </span><br><span class=\"highlight-line\">    let  </span><br><span class=\"highlight-line\">        time =  </span><br><span class=\"highlight-line\">            Time.millisToPosix timestamp  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        hour =  </span><br><span class=\"highlight-line\">            String.fromInt (Time.toHour Time.utc time)  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        minute =  </span><br><span class=\"highlight-line\">            String.fromInt (Time.toMinute Time.utc time)  </span><br><span class=\"highlight-line\">  </span><br><span class=\"highlight-line\">        second =  </span><br><span class=\"highlight-line\">            String.fromInt (Time.toSecond Time.utc time)  </span><br><span class=\"highlight-line\">    in  </span><br><span class=\"highlight-line\">    hour ++ \":\" ++ minute ++ \":\" ++ second ++ \" UTC\"</span></code></pre>\n<p>Let’s examine the changes:</p>\n<ul>\n<li>In the MODEL section, we are adding a new piece of data to keep track of in the model — the <code>searchNoteText</code>, which we initialize to an empty string.</li>\n<li>In the UPDATE section, the <code>Msg</code> now one more type— <code>InputSearch</code>, which will be wired up to run whenever the user enters text in the search input. The <code>update</code> function with the <code>InputSearch</code> case has to filter notes that match the <code>searchNoteText</code> as well as select the first visible note. Since I already had logic in the <code>ClickDelete</code> case for getting the first visible note, I extracted it into a method called <code>getFirstVisibleNote</code> to be DRY and use it in both the <code>ClickDelete</code> and <code>InputSearch</code> cases.</li>\n<li>In the VIEW section, we add an <code>onInput InputSearch</code> attribute to the button, which binds the DOM input event to trigger the <code>InputSearch</code> message. We also change the <code>viewNoteSelectors</code> function to not use <code>sortNotes</code> function and use <code>transformNotes</code> instead, which both filters the list of notes as well as sorts them.</li>\n<li>After the VIEW section, we define the new helper functions <code>getFirstVisibleNote</code> as well as <code>transformNotes</code> (which used to be <code>sortNotes</code>).</li>\n</ul>\n<p>There may be some further refactoring that can be done to make the use of <code>transformNotes</code> more clear. The beauty of Elm is that the compiler works well enough to give you confidence when making such refactors — if it compiles, it works.</p>\n<p>The only file we’ve been changing this whole time is <strong><code>Notes.elm</code></strong>, which you see above. If you’re curious, you can check out the entire project at this <a href=\"https://github.com/peterxjang/notes-app-elm/tree/80457fb818d5af671fe23740d5f4bc2c418d1e42\">repository</a>. (Side note — if you’re not a fan of having all the code in one file, there are definite patterns you can use to organize your code, but they won’t necessarily be the same patterns you may be used to in JavaScript. Check out <a href=\"https://twitter.com/rtfeldman\">Richard Feldman</a>’s talk on <a href=\"https://www.youtube.com/watch?v=DoA4Txr4GUs\">scaling Elm apps</a> to get a sense of what I mean!)</p>\n<h3 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h3>\n<p>Working with Elm is a pretty large departure from every other framework we looked at. It’s a purely functional language, which means it provides certain guarantees that a JavaScript framework simply can’t. React uses functional patterns like immutability, but since JavaScript is not an immutable language you’re required to work harder to avoid breaking the code. Programming in React often comes with using libraries like Immutable.js for immutable types and Flow for static type checking, essentially bolting on language features onto JavaScript that it doesn’t naturally support. Using Elm makes the whole process much smoother to work with.</p>\n<p>The downsides to Elm are the learning curve and dealing with the outside world. For the learning curve, Elm works hard to utilize difficult functional concepts in a way that’s easy to get started. The best way to learn Elm isn’t to try and master the language — it’s to start building apps and learn as you go. The other downside is dealing with the outside world — as we saw, something as simple as getting a timestamp was fairly involved to wire up in Elm. Working with HTTP requests, JSON responses, WYSIWYG editors — these all require a lot more work compared to quick and dirty (but dangerous) JavaScript approaches.</p>\n<p>In the <a href=\"comparing-frontend-approaches-part-7-final-thoughts.html\">last part</a> of this series, I’ll wrap up with some final thoughts about each frontend approach and how you might choose the right tool for the job. Stay tuned!</p>\n",
      "date_published": "2017-09-25T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/comparing-frontend-approaches-part-5-react.html",
      "url": "https://peterxjang.com/blog/comparing-frontend-approaches-part-5-react.html",
      "title": "Comparing Frontend Approaches Part 5: React",
      "content_html": "<ul>\n<li><a href=\"comparing-frontend-approaches-part-1-introduction.html\">Part 1: Introduction</a></li>\n<li><a href=\"comparing-frontend-approaches-part-2-jquery.html\">Part 2: jQuery</a></li>\n<li><a href=\"comparing-frontend-approaches-part-3-vuejs.html\">Part 3: Vue.js</a></li>\n<li><a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">Part 4: Vue.js with components</a></li>\n<li><strong>Part 5: React</strong></li>\n<li><a href=\"comparing-frontend-approaches-part-6-elm.html\">Part 6: Elm</a></li>\n<li><a href=\"comparing-frontend-approaches-part-7-final-thoughts.html\">Part 7: Final thoughts</a></li>\n</ul>\n<p>In this part we will be implementing the <a href=\"comparing-frontend-approaches-part-1-introduction.html\">web based clone</a> of the <a href=\"https://support.apple.com/kb/PH22608?locale=en_US\">Mac Notes app</a> using <a href=\"https://facebook.github.io/react/\">React</a>. React is a JavaScript framework that was created around 2011 and open-sourced in 2013. It currently has won over developer mindshare in a big way and is the most popular framework in 2017 by various metrics (over 75,000 stars on GitHub).</p>\n<p>React pioneered the virtual DOM approach (at least in JavaScript frameworks), where the HTML is completely generated through JavaScript instead of a template. It also was one of the first frontend frameworks to push for a completely component centered approach. Unlike <a href=\"https://vuejs.org/\">Vue.js</a>, which bills itself as a progressive framework (i.e., you don’t need to start with components, you can work your way up there), React is a bit more insistent (the <a href=\"https://facebook.github.io/react/docs/thinking-in-react.html#step-1-break-the-ui-into-a-component-hierarchy\">very first step</a> they recommend is to break the UI into components). Let’s see what it looks like in practice!</p>\n<blockquote>\n<p>Note — this isn’t meant to be a tutorial for people completely new to React. In particular, React uses a lot of new JavaScript ES2015+ features, which I won’t be covering in full detail. You can check out <a href=\"https://babeljs.io/learn-es2015/\">this resource</a> first if you’d like an overview of these new features before reading this post.</p>\n</blockquote>\n<h3 id=\"installation\">Installation <a class=\"direct-link\" href=\"#installation\">#</a></h3>\n<p>Like <a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">Vue.js with components</a>, getting started with React can be a bit tricky, since writing code with components involves bundling code in separate files, requiring a build step. Fortunately, like Vue.js, React offers an official command line tool to scaffold your projects, called <a href=\"https://github.com/facebookincubator/create-react-app\">Create React App</a>. If you don’t already have it installed, you can install it with the command:</p>\n<pre><code>$ npm install -g create-react-app\n</code></pre>\n<p>Once you have it installed, you can navigate to the directory you want to create your project in and run:</p>\n<pre><code>$ create-react-app my-app\n</code></pre>\n<p>You should replace <code>my-app</code> with whatever name you want your particular project to have. This will take a little while to create files and folders and download the necessary packages from npm. In the end you will end up a new folder called <code>my-app</code> with the following project structure:</p>\n<pre><code>my-app\n├── README.md\n├── node_modules\n├── package.json\n├── .gitignore\n├── public\n│   └── favicon.ico\n│   └── index.html\n│   └── manifest.json\n└── src\n    └── App.css\n    └── App.js\n    └── App.test.js\n    └── index.css\n    └── index.js\n    └── logo.svg\n    └── registerServiceWorker.js\n</code></pre>\n<p>Again, even though there’s a lot of files, you don’t need to worry about most of them for right now — pretty much all of our work will be in the <code>src</code> directory. At this point you already have a hello world app built for you, which you can see by entering the following commands:</p>\n<pre><code>$ cd my-app$ npm start\n</code></pre>\n<p>The last command will run a dev server and automatically open up your browser to <code>localhost:3000</code>, where you should see something like this:</p>\n<p><img src=\"/img/1__T____IgXdlzLHGwJ2ftWBpVg.png\" alt=\"Default create-react-ap home page\"></p>\n<p>This is pretty cool, and what’s cooler is that you have a hot-reloading environment already set up for you. What that means is that if you make changes to your code, the browser at <code>localhost:3000</code> will automatically refresh. As it says, the place to start making changes is <strong><code>src/App.js</code></strong>, which right now looks like this:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">import</span> logo <span class=\"token keyword\">from</span> <span class=\"token string\">\"./logo.svg\"</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"./App.css\"</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><br>      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"App\"</span><span class=\"token operator\">></span><br>        <span class=\"token operator\">&lt;</span>header className<span class=\"token operator\">=</span><span class=\"token string\">\"App-header\"</span><span class=\"token operator\">></span><br>          <span class=\"token operator\">&lt;</span>img src<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>logo<span class=\"token punctuation\">}</span> className<span class=\"token operator\">=</span><span class=\"token string\">\"App-logo\"</span> alt<span class=\"token operator\">=</span><span class=\"token string\">\"logo\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><br>          <span class=\"token operator\">&lt;</span>h1 className<span class=\"token operator\">=</span><span class=\"token string\">\"App-title\"</span><span class=\"token operator\">></span>Welcome to React<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span><br>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>header<span class=\"token operator\">></span><br>        <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"App-intro\"</span><span class=\"token operator\">></span><br>          To <span class=\"token keyword\">get</span> started<span class=\"token punctuation\">,</span> edit <span class=\"token operator\">&lt;</span>code<span class=\"token operator\">></span>src<span class=\"token operator\">/</span>App<span class=\"token punctuation\">.</span>js<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>code<span class=\"token operator\">></span> and save to reload<span class=\"token punctuation\">.</span><br>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span><br>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><br>    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre>\n<p>This is a React component — it makes heavy use of both <a href=\"https://babeljs.io/learn-es2015/\">ES2015 JavaScript features</a> (imports, destructuring, classes) as well as <a href=\"https://facebook.github.io/react/docs/jsx-in-depth.html\">JSX</a>. JSX is syntax which allows you to write what looks like HTML in the middle of your JavaScript (it’s not actually HTML, it gets converted into JavaScript statements during a build step). So your HTML template is defined in your JavaScript, there are no separate files for your HTML. In this example, the CSS is defined in the separate <strong><code>App.css</code></strong> file and is imported into the JavaScript as well. This means we can install our notes template by changing <strong><code>src/App.js</code></strong> as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"./App.css\"</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><br>      <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"app\"</span><span class=\"token operator\">></span><br>        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar\"</span><span class=\"token operator\">></span><br>          <span class=\"token operator\">&lt;</span>button className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-button\"</span><span class=\"token operator\">></span>New<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span><br>          <span class=\"token operator\">&lt;</span>button className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-button\"</span><span class=\"token operator\">></span>Delete<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span><br>          <span class=\"token operator\">&lt;</span>input className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-search\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">\"Search...\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><br>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><br>        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-container\"</span><span class=\"token operator\">></span><br>          <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selectors\"</span><span class=\"token operator\">></span><br>            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector active\"</span><span class=\"token operator\">></span><br>              <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-title\"</span><span class=\"token operator\">></span>First note<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span><br>              <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-timestamp\"</span><span class=\"token operator\">></span>Timestamp here<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span><br>            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><br>            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector\"</span><span class=\"token operator\">></span><br>              <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-title\"</span><span class=\"token operator\">></span>Second note<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span><br>              <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-timestamp\"</span><span class=\"token operator\">></span>Timestamp here<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span><br>            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><br>            <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector\"</span><span class=\"token operator\">></span><br>              <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-title\"</span><span class=\"token operator\">></span>Third note<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span><br>              <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-timestamp\"</span><span class=\"token operator\">></span>Timestamp here<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span><br>            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><br>          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><br>          <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-editor\"</span><span class=\"token operator\">></span><br>            <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-editor-info\"</span><span class=\"token operator\">></span>Timestamp here<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span><br>            <span class=\"token operator\">&lt;</span>textarea className<span class=\"token operator\">=</span><span class=\"token string\">\"note-editor-input\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>textarea<span class=\"token operator\">></span><br>          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><br>        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><br>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><br>    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre>\n<p>Note that I had to convert the HTML to JSX, which is mostly the same but with minor differences to keep the syntax compatible with JavaScript. In this case, the HTML <code>class</code> attribute had to be renamed to <code>className</code> (since <code>class</code> is a reserved word in JavaScript). Once the JavaScript is set up, we can add the note template’s CSS in the <strong><code>App.css</code></strong> file as follows:</p>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token comment\">/* RESET */</span><br><span class=\"token selector\">*</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span> border-box<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">/* LAYOUT */</span><br><span class=\"token selector\">#app</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> 100vh<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0.5em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-button,<br>.toolbar-search</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 0.3em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-search</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> right<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-container</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selectors</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 0 0 13em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector p</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-editor</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-editor-info</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0.5em<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-editor-input</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 2em 0 2em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">/* COLORS */</span><br><span class=\"token selector\">*</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #454545<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #fafaf8<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #dcdadc<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-button</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #ffffff<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-button:active</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #aaaaaa<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selectors</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">border-right</span><span class=\"token punctuation\">:</span> 1px solid #dcdadc<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">border-bottom</span><span class=\"token punctuation\">:</span> 1px solid #dcdadc<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector.active</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #fce18d<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector-title</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector-timestamp</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #626262<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-editor-info</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #dcdadc<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">/* TYPOGRAPHY */</span><br><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> sans-serif<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector-title</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector-timestamp</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 0.7em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-editor,<br>.note-editor-input</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 0.9em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>If you look at your browser, you should see our familiar notes app starting point!</p>\n<h3 id=\"refactor-into-components\">Refactor into components <a class=\"direct-link\" href=\"#refactor-into-components\">#</a></h3>\n<p>The next step is to break this <strong><code>src/App.js</code></strong> file into components. Here is a diagram of the different components we can break this app into:</p>\n<pre><code>&lt;App&gt;\n├── &lt;Toolbar&gt;\n└── &lt;NoteContainer&gt;\n    ├── &lt;NoteSelectors&gt;\n    │   └── &lt;NoteSelector&gt;\n    │   └── &lt;NoteSelector&gt;\n    │   └── &lt;NoteSelector&gt;\n    └── &lt;NoteEditor&gt;\n</code></pre>\n<p>You could of course break it down even further (with individual button components for the toolbar for example), but this is a good starting point. Using this structure, the <strong><code>src/App.js</code></strong> file would now look like:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/Toolbar\"</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/NoteContainer\"</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"./App.css\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"app\"</span><span class=\"token operator\">></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token operator\">&lt;</span>Toolbar <span class=\"token operator\">/</span><span class=\"token operator\">></span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token operator\">&lt;</span>NoteContainer <span class=\"token operator\">/</span><span class=\"token operator\">></span></ins><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></span></code></pre>\n<p>The template essentially only contains the <code>&lt;Toolbar /&gt;</code> and <code>&lt;NoteContainer /&gt;</code>custom component tags, which are imported above (note the self closing tags, which is the recommended style for components without any content). Let’s take a look at one of the sub-components, <strong><code>src/components/Toolbar.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">class</span> <span class=\"token class-name\">Toolbar</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><br>      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar\"</span><span class=\"token operator\">></span><br>        <span class=\"token operator\">&lt;</span>button className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-button\"</span><span class=\"token operator\">></span>New<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span><br>        <span class=\"token operator\">&lt;</span>button className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-button\"</span><span class=\"token operator\">></span>Delete<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span><br>        <span class=\"token operator\">&lt;</span>input className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-search\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">\"Search...\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><br>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><br>    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Toolbar<span class=\"token punctuation\">;</span></code></pre>\n<p>As you can see, it’s the same as before — you create a new class which extends the React <code>Component</code> class, and you write a <code>render</code> function which defines the JSX template.</p>\n<p>So breaking things into components is a pretty straightforward task. The harder part comes when dealing with data and events. If you want to see what the rest of the components look like right now (they pretty much follow the same pattern), you can check them out in full detail <a href=\"https://github.com/peterxjang/notes-app-react/tree/8b1b7c37e05b69d4e80d6ba67118ae77ec3de82b/src/components\">here</a>.</p>\n<ul>\n<li><a href=\"https://github.com/peterxjang/notes-app-react/blob/8b1b7c37e05b69d4e80d6ba67118ae77ec3de82b/src/components/Toolbar.js\">Toolbar.js</a></li>\n<li><a href=\"https://github.com/peterxjang/notes-app-react/blob/8b1b7c37e05b69d4e80d6ba67118ae77ec3de82b/src/components/NoteContainer.js\">NoteContainer.js</a></li>\n<li><a href=\"https://github.com/peterxjang/notes-app-react/blob/8b1b7c37e05b69d4e80d6ba67118ae77ec3de82b/src/components/NoteSelectors.js\">NoteSelectors.js</a></li>\n<li><a href=\"https://github.com/peterxjang/notes-app-react/blob/8b1b7c37e05b69d4e80d6ba67118ae77ec3de82b/src/components/NoteSelector.js\">NoteSelector.js</a></li>\n<li><a href=\"https://github.com/peterxjang/notes-app-react/blob/8b1b7c37e05b69d4e80d6ba67118ae77ec3de82b/src/components/NoteEditor.js\">NoteEditor.js</a></li>\n</ul>\n<h3 id=\"display-note-titles-from-an-array-of-notes\">Display note titles from an array of notes <a class=\"direct-link\" href=\"#display-note-titles-from-an-array-of-notes\">#</a></h3>\n<p>Now that things are broken into components, we have to make some choices when it comes to storing and passing data. For the array of notes, it makes sense for the main <code>&lt;App&gt;</code> component to keep track of the notes and pass it down to its children. This would make the code in <strong><code>src/App.js</code></strong> look like:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/Toolbar\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/NoteContainer\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"./App.css\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"app\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>Toolbar <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token operator\">&lt;</span>NoteContainer notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></ins><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Here we have to make a custom <code>constructor</code> function for the class, which first runs the <code>Component</code> constructor with <code>super(props);</code>, then defines the custom <code>state</code> for the instance (which is equivalent to Vue.js’ <code>data</code> option). Once the <code>state</code> is stored upon initialization, we can pass it to the <code>&lt;NoteContainer&gt;</code> component with the line:</p>\n<pre class=\"language-js\"><code class=\"language-js\">        <span class=\"token operator\">&lt;</span>NoteContainer notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre>\n<p>In JSX, you can write any JavaScript you want in single curly brackets (as opposed to double curly brackets in Vue.js). Here we’re taking the <code>notes</code> initialized in the component’s <code>state</code> and binding it to the child <code>&lt;NoteContainer&gt;</code> component. The <code>&lt;NoteContainer&gt;</code> component doesn’t directly use the notes data — instead it passes it down to the next child component. The code in <strong><code>src/components/NoteContainer.js</code></strong> looks like:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelectors <span class=\"token keyword\">from</span> <span class=\"token string\">\"./NoteSelectors\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteEditor <span class=\"token keyword\">from</span> <span class=\"token string\">\"./NoteEditor\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteContainer</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-container\"</span><span class=\"token operator\">></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token operator\">&lt;</span>NoteSelectors notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteEditor <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteContainer<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Note the change in terminology — this time <code>notes</code> is referred to using <code>props</code>, not <code>state</code>. It’s worth going over in more detail here:</p>\n<ul>\n<li>The parent <code>&lt;App&gt;</code> component contains the note data, stored in its <code>state</code>. It has the ability to make changes to its own state, as well as pass any part of it down to its child components.</li>\n<li>Any data a child component receives from its parent component is stored in <code>props</code>. In this case the child <code>&lt;NoteContainer&gt;</code> component receives the <code>notes</code> data in its <code>props</code>. A child component is not allowed to make changes to the <code>props</code>, since the data belongs to the parent component.</li>\n</ul>\n<p>This means in the child <code>&lt;NoteContainer&gt;</code> component, the line</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">        <span class=\"token operator\">&lt;</span>NoteSelectors notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre>\n<p>is taking the <code>this.props.notes</code> data it received from its parent and passing it to the child <code>&lt;NoteSelectors&gt;</code> component as new <code>props</code> with a key of <code>notes</code>.</p>\n<p>Finally, we get to <code>&lt;NoteSelectors&gt;</code> component, which does actually use the notes. This is what the code in <strong><code>src/components/NoteSelectors.js</code></strong> looks like:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelector <span class=\"token keyword\">from</span> <span class=\"token string\">\"./NoteSelector\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteSelectors</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> noteSelectors <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token operator\">&lt;</span>NoteSelector </ins><br><ins class=\"highlight-line highlight-line-add\">        key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">        body<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">        timestamp<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token operator\">/</span><span class=\"token operator\">></span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selectors\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span>noteSelectors<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteSelectors<span class=\"token punctuation\">;</span></span></code></pre>\n<p>React doesn’t provide a special mechanism to loop through data — instead we’re using the built-in array <code>map</code> function to create an array of <code>&lt;NoteSelector&gt;</code> components, stored in the variable <code>noteSelectors</code> and rendered in the JSX. Finally, the <code>&lt;NoteSelector&gt;</code> component renders the data bound to its props, as you can see in <strong><code>src/components/NoteSelector.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteSelector</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-title\"</span><span class=\"token operator\">></span></span><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-timestamp\"</span><span class=\"token operator\">></span></span><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteSelector<span class=\"token punctuation\">;</span></span></code></pre>\n<p>For now, I’m using the note’s body and raw timestamp as placeholders, we’ll look at formatting them next.</p>\n<h3 id=\"use-functions-to-sort-and-format-notes\">Use functions to sort and format notes <a class=\"direct-link\" href=\"#use-functions-to-sort-and-format-notes\">#</a></h3>\n<p>Unlike Vue.js, React doesn’t provide special mechanisms for things like computed properties and filters. Instead, you simply write functions as needed. This is what the <strong><code>src/components/NoteSelector.js</code></strong> code looks like with text formatting:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">function</span> <span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token keyword\">var</span> maxLength <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> maxLength<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maxLength <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">return</span> <span class=\"token string\">\"New note\"</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\"></ins><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">function</span> <span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteSelector</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-title\"</span><span class=\"token operator\">></span></span><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token punctuation\">{</span><span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-timestamp\"</span><span class=\"token operator\">></span></span><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token punctuation\">{</span><span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteSelector<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Similarly, this is what the <strong><code>src/components/NoteSelectors.js</code></strong> code looks like to sort the child <code>&lt;NoteSelector&gt;</code> components by timestamps:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelector <span class=\"token keyword\">from</span> <span class=\"token string\">\"./NoteSelector\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteSelectors</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> sortedNotes <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> </ins><br><ins class=\"highlight-line highlight-line-add\">      b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp</ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> noteSelectors <span class=\"token operator\">=</span> sortedNotes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span></ins><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>NoteSelector</span><br><span class=\"highlight-line\">        key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        body<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        timestamp<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selectors\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span>noteSelectors<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteSelectors<span class=\"token punctuation\">;</span></span></code></pre>\n<p>This is one of the promises of React as a framework — it tries to keep its API to a minimum, relying on vanilla JavaScript whenever possible to implement features.</p>\n<h3 id=\"select-a-note-on-title-click\">Select a note on title click <a class=\"direct-link\" href=\"#select-a-note-on-title-click\">#</a></h3>\n<p>Now let’s implement the ability to actually select notes. Clicking on a note title should both highlight the selected note on the left as well as display the contents in the editor on the right. First we’ll change the template in <strong><code>src/App.js</code></strong> as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/Toolbar\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/NoteContainer\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"./App.css\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">      selectedNoteId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token function-variable function\">handleClickNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> selectedNoteId<span class=\"token operator\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"app\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>Toolbar <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteContainer</span><br><span class=\"highlight-line\">          notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span></span><br><ins class=\"highlight-line highlight-line-add\">          selectedNoteId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">          onClickNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleClickNote<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Let’s go over these changes one at a time:</p>\n<ul>\n<li>We are adding <code>selectedNoteId</code> to the state to keep track of which note was selected. This is different than Vue.js, where we kept track of the note itself instead of just the id. This works better with the way React handles changes to the state, which we’ll see next.</li>\n<li>We are defining a new <code>handleClickNote</code> function which takes an id and updates the state using React’s <code>setState</code> method. This is an important part of React — you must use this <code>setState</code> method to change any state, without it React won’t be able to properly update the DOM when state changes. (Note the weird way I’m defining the <code>handleClickNote</code> method in the class — <a href=\"https://babeljs.io/docs/plugins/transform-class-properties/\">this syntax</a> helps properly bind the right <code>this</code> to the method in an efficient way. You can read more about it and other approaches <a href=\"https://facebook.github.io/react/docs/handling-events.html\">here</a>).</li>\n<li>We are binding a new prop to the child <code>&lt;NoteContainer&gt;</code> component called <code>selectedNoteId</code>, which is set to the current component’s state’s <code>selectedNoteId</code>.</li>\n<li>We are binding another new prop to the child <code>&lt;NoteContainer&gt;</code> component called <code>onClickNote</code>, which is set to the current component’s <code>handleClickNote</code> method we defined earlier. This is also different from Vue.js — there is no special notion of event emitters and listeners in React, you simply pass functions as part of the regular <code>props</code> which the child will call when appropriate.</li>\n</ul>\n<p>Note the naming convention here — the actual event handler is named <code>handleClickNote</code>, the event handler as passed through in props is named <code>onClickNote</code>. This makes it easier to keep track of where event handlers are coming from, which we can see more clearly as we follow the <code>props</code> into the child components. The code in <strong><code>src/components/NoteContainer.js</code></strong> looks like:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelectors <span class=\"token keyword\">from</span> <span class=\"token string\">\"./NoteSelectors\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteEditor <span class=\"token keyword\">from</span> <span class=\"token string\">\"./NoteEditor\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteContainer</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-container\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteSelectors</span><br><span class=\"highlight-line\">          notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span></span><br><ins class=\"highlight-line highlight-line-add\">          selectedNoteId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">          onClickNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onClickNote<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteEditor <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteContainer<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Right now this component is only passing the <code>props</code> further into the <code>&lt;NoteSelectors&gt;</code> component. The code in <strong><code>src/components/NoteSelectors.js</code></strong> looks like:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelector <span class=\"token keyword\">from</span> <span class=\"token string\">\"./NoteSelector\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteSelectors</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">const</span> sortedNotes <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">const</span> noteSelectors <span class=\"token operator\">=</span> sortedNotes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>NoteSelector</span><br><span class=\"highlight-line\">        key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        body<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        timestamp<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">}</span></span><br><ins class=\"highlight-line highlight-line-add\">        id<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">        selectedNoteId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">        onClickNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onClickNote<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">      <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selectors\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>noteSelectors<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteSelectors<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Again, this component is only passing the <code>props</code> further into the <code>&lt;NoteSelector&gt;</code> component. Note that it’s also adding one more prop for the note id, which will be useful in a moment. Finally, we’ll see how the <code>props</code> get used in <strong><code>src/components/NoteSelector.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">function</span> <span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token keyword\">var</span> maxLength <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> maxLength<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maxLength <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token string\">\"New note\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">function</span> <span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteSelector</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token function-variable function\">handleClickNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">onClickNote</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div</span><br><ins class=\"highlight-line highlight-line-add\">        className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"note-selector \"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNoteId <span class=\"token operator\">?</span> <span class=\"token string\">\"active\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">        onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleClickNote<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">      <span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-title\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">          <span class=\"token punctuation\">{</span><span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-timestamp\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">          <span class=\"token punctuation\">{</span><span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteSelector<span class=\"token punctuation\">;</span></span></code></pre>\n<p>There are three essential things happening here:</p>\n<ul>\n<li>The code <code>onClick={this.handleClickNote}</code> is capturing the DOM’s click handler and binding it to the current component’s <code>handleClickNote</code> method.</li>\n<li>The <code>handleClickNote</code> method is defined to simply call the function <code>onClickNote</code> that was passed in from the <code>props</code>. Recall that this was defined in the <code>&lt;App&gt;</code> component to update the state of the <code>selectedNoteId</code>. Once the state is updated, React will automatically re-render all the children components.</li>\n<li>The code <code>className={&quot;note-selector &quot; + (this.props.id === this.props.selectedNoteId ? 'active' : '')}</code> is using a JavaScript ternary operator to conditionally add the <code>.active</code> class to the div if the note is the selected note. Again, there isn’t any special syntax like Vue.js’ <code>v-bind</code> to apply this class name, you’re just using built in JavaScript tools.</li>\n</ul>\n<p>This is React’s way of managing components (props down, events up), which helps keep the architecture of the code clean and avoids jQuery spaghetti that we saw a bit of <a href=\"comparing-frontend-approaches-part-2-jquery.html\">earlier</a>. It’s a bit different than Vue.js’ component model — in Vue.js, each component can only pass emit and listen to events from its direct child and direct parent. In React, you don’t emit events, instead you pass functions (which can belong to any component) in <code>props</code>, which means the function can be called by a child, grandchild, etc. In this case the <code>&lt;NoteSelector&gt;</code> component is essentially the great-great-grandchild of the <code>&lt;App&gt;</code> component, but it is able to call the <code>onClickNote</code> prop which is directly connected to the <code>&lt;App&gt;</code> component. In Vue.js you would have to bubble up the event one component at a time.</p>\n<h3 id=\"edit-the-selected-note-on-editor-input\">Edit the selected note on editor input <a class=\"direct-link\" href=\"#edit-the-selected-note-on-editor-input\">#</a></h3>\n<p>At this point we can select a note and it highlights accordingly, but the content of the selected note aren’t showing up in the <code>&lt;NoteEditor&gt;</code> component. We also need to be able to update the selected note as the user enters text in the editor. Here’s how the code would change in <strong><code>src/App.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/Toolbar'</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/NoteContainer'</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> <span class=\"token string\">'./App.css'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNoteId<span class=\"token operator\">:</span> <span class=\"token number\">1</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleClickNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>selectedNoteId<span class=\"token operator\">:</span> id<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token function-variable function\">handleNoteEditorChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">text</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> newNotes <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">          id<span class=\"token operator\">:</span> note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">          body<span class=\"token operator\">:</span> text<span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">          timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">return</span> note<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>notes<span class=\"token operator\">:</span> newNotes<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"app\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>Toolbar <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteContainer</span><br><span class=\"highlight-line\">          notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          selectedNoteId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          onClickNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleClickNote<span class=\"token punctuation\">}</span></span><br><ins class=\"highlight-line highlight-line-add\">          onNoteEditorChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleNoteEditorChange<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>      </span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></span></code></pre>\n<p>The <code>handleNoteEditorChange</code> is a method that updates the selected note’s body with the given text. The thing that makes it tricky is that React requires you to not directly mutate the <code>state</code> object; instead, you should create a new copy of the part of the state that’s changing and update it using the <code>setState</code> function. Here we’re using the built-in array <code>map</code> function to create a new copy of the notes, where each note remains unchanged except for the current selected note, which gets recreated with the new body and timestamp.</p>\n<p>In the render function, we’re passing the <code>handleNoteEditorChange</code> method the <code>&lt;NoteContainer&gt;</code> component as a prop named <code>onNoteEditorChange</code>. To use the method, the code in <strong><code>src/components/NoteContainer.js</code></strong> would change as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelectors <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteSelectors'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteEditor <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteEditor'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteContainer</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> selectedNote <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span> <span class=\"token operator\">=></span></ins><br><ins class=\"highlight-line highlight-line-add\">      note<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNoteId</ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-container\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteSelectors</span><br><span class=\"highlight-line\">          notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          selectedNoteId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          onClickNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onClickNote<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteEditor</span><br><ins class=\"highlight-line highlight-line-add\">          selectedNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>selectedNote<span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">          onNoteEditorChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onNoteEditorChange<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteContainer<span class=\"token punctuation\">;</span></span></code></pre>\n<p>First we’re creating a variable called <code>selectedNote</code>, which we have to find from the given <code>notes</code> and <code>selectedNoteId</code> in <code>props</code>. Then we can bind the <code>selectedNote</code> to the <code>&lt;NoteEditor&gt;</code> props, along with the given <code>onNoteEditorChange</code> function. (Note that we have to find the <code>selectedNote</code> here as opposed to inside the <code>&lt;NoteEditor&gt;</code> component, because this component has access to both the <code>notes</code> and the <code>selectedNoteId</code>, whereas the <code>&lt;NoteEditor&gt;</code> doesn’t have access to the <code>notes</code> data).</p>\n<p>Finally, we can see how the <code>&lt;NoteEditor&gt;</code> component will use the <code>props</code> in <strong><code>src/components/NoteEditor.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">function</span> <span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteEditor</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token function-variable function\">handleChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">onNoteEditorChange</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-editor\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-editor-info\"</span><span class=\"token operator\">></span></span><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token punctuation\">{</span><span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>textarea className<span class=\"token operator\">=</span><span class=\"token string\">\"note-editor-input\"</span></span><br><ins class=\"highlight-line highlight-line-add\">          value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">          onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteEditor<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Let’s go over what’s going on here one at a time:</p>\n<ul>\n<li>We need to define a <code>formatTimestamp</code> function to format the editor’s timestamp. It’s the same as the function defined in the <code>&lt;NoteSelector&gt;</code> component, so we’ll need to find a way to DRY it up (in the next section).</li>\n<li>The <code>handleChange</code> method is going to be triggered from a DOM input event, and it will simply call up the <code>onNoteEditorChange</code> method that was given in the <code>props</code> (first extracting out the user’s text from the event).</li>\n<li>The <code>render</code> method displays the <code>selectedNote’s</code> timestamp and body, as well as bind’s the DOM’s <code>&lt;textarea&gt;</code> input event to run the <code>handleChange</code> method defined above.</li>\n</ul>\n<p>Again, the flow would be the user enters text in the <code>&lt;NoteEditor&gt;</code> component, which triggers its <code>handleChange</code> method, which runs the <code>onNoteEditorChange</code> method from its props, which all the way in the <code>&lt;App&gt;</code> component updates the <code>notes</code> in its <code>state</code> object, causing all the children to be re-rendered.</p>\n<h3 id=\"refactor-helper-functions-to-separate-file\">Refactor helper functions to separate file <a class=\"direct-link\" href=\"#refactor-helper-functions-to-separate-file\">#</a></h3>\n<p>Right now we have an issue where we defined the same <code>formatTimestamp</code> function in two different components. Again, React doesn’t provide a React-specific way to handle this issue — you can use regular JavaScript to DRY up the code. In this case we’re going to write the helpers in a separate file, then import them as needed (which is not traditional JavaScript per se, but we’ve been using imports repeatedly throughout the code, so it shouldn’t be that hard). Here’s the new helper file in <strong><code>src/helpers.js</code></strong>:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">var</span> maxLength <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> maxLength<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maxLength <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> <span class=\"token string\">\"New note\"</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>And here’s how you would import the functions in <strong><code>src/components/NoteSelector.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></span><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>formatTitle<span class=\"token punctuation\">,</span> formatTimestamp<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../helpers'</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteSelector</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleClickNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">onClickNote</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div</span><br><span class=\"highlight-line\">        className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"note-selector \"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNoteId <span class=\"token operator\">?</span> <span class=\"token string\">'active'</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleClickNote<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-title\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">          <span class=\"token punctuation\">{</span><span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selector-timestamp\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">          <span class=\"token punctuation\">{</span><span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteSelector<span class=\"token punctuation\">;</span></span></code></pre>\n<p>You would do the same in <code>src/components/NoteEditor.js</code> to import the <code>formatTimestamp</code> function. This is an easy enough structure to put any helper functions in an organized spot going forward!</p>\n<h3 id=\"create-a-new-note-with-a-button\">Create a new note with a button <a class=\"direct-link\" href=\"#create-a-new-note-with-a-button\">#</a></h3>\n<p>Now let’s implement the ability to create a new note. Clicking on the “New” button should create a new note (new id, no body, current timestamp). The new note should become the currently selected note and appear at the top of the list of note selectors. Let’s start with the child <code>&lt;Toolbar&gt;</code> component in <strong><code>src/components/Toolbar.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Toolbar</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar\"</span><span class=\"token operator\">></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token operator\">&lt;</span>button className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-button\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onNewNote<span class=\"token punctuation\">}</span><span class=\"token operator\">></span></ins><br><span class=\"highlight-line\">          New</span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>button className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-button\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">          Delete</span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>input className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-search\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">\"Search...\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Toolbar<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Here the code <code>onClick={this.props.onNewNote}</code> is capturing the native DOM <code>&lt;button&gt;</code> click event with <code>onClick</code>, which will run the <code>onNewNote</code> method from the <code>props</code> when the event fires. This means the parent <code>&lt;App&gt;</code> component must send down the <code>onNewNote</code> method in <code>props</code> appropriately, which would change the code in <strong><code>src/App.js</code></strong> as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/Toolbar\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/NoteContainer\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"./App.css\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNoteId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleClickNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> selectedNoteId<span class=\"token operator\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleNoteEditorChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">text</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">const</span> newNotes <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">          id<span class=\"token operator\">:</span> note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">          body<span class=\"token operator\">:</span> text<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">          timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">return</span> note<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> notes<span class=\"token operator\">:</span> newNotes <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token function-variable function\">handleNewNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> newNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      id<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">      body<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">      timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      notes<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>newNote<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">      selectedNoteId<span class=\"token operator\">:</span> newNote<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"app\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>Toolbar</span><br><ins class=\"highlight-line highlight-line-add\">          onNewNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleNewNote<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteContainer</span><br><span class=\"highlight-line\">          notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          selectedNoteId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          onClickNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleClickNote<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          onNoteEditorChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleNoteEditorChange<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Here the <code>&lt;Toolbar&gt;</code> component is sending the <code>handleNewNote</code> method as a prop called <code>onNewNote</code> (which we defined earlier to run whenever the “New” button in the toolbar is clicked). The <code>handleNewNote</code> method has to update the state with a new note as well as a new selected note id, which again requires care to avoid direct mutation. Here we’re creating a new copy of the <code>notes</code> array by using the array <code>concat</code> method. Once the state is updated with <code>setState</code>, React will automatically re-render the child components as needed.</p>\n<h3 id=\"delete-the-selected-note-with-a-button\">Delete the selected note with a button <a class=\"direct-link\" href=\"#delete-the-selected-note-with-a-button\">#</a></h3>\n<p>Wiring up this feature starts off pretty similar to the new note feature. Let’s again start with the child <code>&lt;Toolbar&gt;</code> component in <strong><code>src/components/Toolbar.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Toolbar</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>button className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-button\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onNewNote<span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">          New</span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token operator\">&lt;</span>button className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-button\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onDeleteNote<span class=\"token punctuation\">}</span><span class=\"token operator\">></span></ins><br><span class=\"highlight-line\">          Delete</span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>input className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-search\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">\"Search...\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Toolbar<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Here the code <code>onClick={this.props.onDeleteNote}</code> is capturing the native DOM <code>&lt;button&gt;</code> click event and running the <code>onDeleteNote</code> method from the <code>props</code>. This means the parent <code>&lt;App&gt;</code> component must send down the <code>props</code> appropriately, which would change the code in <strong><code>src/App.js</code></strong> as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/Toolbar\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">\"./components/NoteContainer\"</span><span class=\"token punctuation\">;</span></span><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> transformNotes <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./helpers\"</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"./App.css\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNoteId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleClickNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> selectedNoteId<span class=\"token operator\">:</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleNoteEditorChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">text</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">const</span> newNotes <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">          id<span class=\"token operator\">:</span> note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">          body<span class=\"token operator\">:</span> text<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">          timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">return</span> note<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> notes<span class=\"token operator\">:</span> newNotes <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleNewNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">const</span> newNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      id<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      body<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>newNote<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNoteId<span class=\"token operator\">:</span> newNote<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token function-variable function\">handleDeleteNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> newNotes <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> note<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> transformedNotes <span class=\"token operator\">=</span> <span class=\"token function\">transformNotes</span><span class=\"token punctuation\">(</span>newNotes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> newSelectedNoteId <span class=\"token operator\">=</span> transformedNotes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> transformedNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      notes<span class=\"token operator\">:</span> newNotes<span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">      selectedNoteId<span class=\"token operator\">:</span> newSelectedNoteId<span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"app\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>Toolbar</span><br><span class=\"highlight-line\">          onNewNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleNewNote<span class=\"token punctuation\">}</span></span><br><ins class=\"highlight-line highlight-line-add\">          onDeleteNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleDeleteNote<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteContainer</span><br><span class=\"highlight-line\">          notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          selectedNoteId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          onClickNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleClickNote<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          onNoteEditorChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleNoteEditorChange<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Here the <code>&lt;Toolbar&gt;</code> component is sending the <code>handleDeleteNote</code> method as a prop called <code>onDeleteNote</code>, which we defined earlier to run whenever the “Delete” button in the toolbar is clicked. The <code>handleDeleteNote</code> method has to update the state with a deleted note as well as a new selected note id, which again requires care to avoid mutation. Here we’re creating a new copy of the <code>notes</code> array by using the array <code>filter</code> method. Once the state is updated with <code>setState</code>, React will automatically re-render the child components as needed.</p>\n<p>However, there’s a problem — the <code>handleDeleteNote</code> method also needs to select a new note in place of the one that’s deleted. The problem is that selecting a new note means we need to know the top of the list of the transformed (sorted) notes, which we defined in the child <code>&lt;NoteSelectors&gt;</code>component. That seemed like the right decision at the time, but now we’ll need to refactor that method to be in the <strong><code>src/helpers.js</code></strong> file as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token keyword\">var</span> maxLength <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> maxLength<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maxLength <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token string\">\"New note\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">transformNotes</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">notes</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token keyword\">return</span> notes<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> </ins><br><ins class=\"highlight-line highlight-line-add\">    b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp</ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token punctuation\">}</span></ins></code></pre>\n<p>The <code>&lt;NoteSelectors&gt;</code> component in <strong><code>src/components/NoteSelectors.js</code></strong> can now import the <code>transformNotes</code> helper function as well:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelector <span class=\"token keyword\">from</span> <span class=\"token string\">\"./NoteSelector\"</span><span class=\"token punctuation\">;</span></span><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> transformNotes <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../helpers\"</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteSelectors</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> noteSelectors <span class=\"token operator\">=</span> <span class=\"token function\">transformNotes</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span></ins><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>NoteSelector</span><br><span class=\"highlight-line\">        key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        body<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        timestamp<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        id<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        selectedNoteId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        onClickNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onClickNote<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selectors\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>noteSelectors<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteSelectors<span class=\"token punctuation\">;</span></span></code></pre>\n<p>The last detail is to change the <code>&lt;NoteEditor&gt;</code> component to only render if there is a <code>selectedNote</code>, since it’s now possible to delete all the notes. The template in <strong><code>src/components/NoteEditor.js</code></strong> would change as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>formatTimestamp<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../helpers'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteEditor</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">onNoteEditorChange</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><span class=\"highlight-line\">      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-editor\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">          <span class=\"token operator\">&lt;</span>p className<span class=\"token operator\">=</span><span class=\"token string\">\"note-editor-info\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">            <span class=\"token punctuation\">{</span><span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">          <span class=\"token operator\">&lt;</span>textarea className<span class=\"token operator\">=</span><span class=\"token string\">\"note-editor-input\"</span></span><br><span class=\"highlight-line\">            value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">            onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteEditor<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Again, no special React syntax, just a regular JavaScript if condition on the <code>render</code> method (returning <code>null</code> to skip rendering the component).</p>\n<h3 id=\"filter-notes-on-search-input\">Filter notes on search input <a class=\"direct-link\" href=\"#filter-notes-on-search-input\">#</a></h3>\n<p>The final feature is to be able to search notes immediately as you type in the search input. Let’s again start with the child <code>&lt;Toolbar&gt;</code> component in <strong><code>src/components/Toolbar.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Toolbar</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token function-variable function\">handleInput</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">onSearchNote</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>button className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-button\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onNewNote<span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">          New</span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>button className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-button\"</span> onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onDeleteNote<span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">          Delete</span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>input className<span class=\"token operator\">=</span><span class=\"token string\">\"toolbar-search\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> placeholder<span class=\"token operator\">=</span><span class=\"token string\">\"Search...\"</span> </span><br><ins class=\"highlight-line highlight-line-add\">          onInput<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleInput<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Toolbar<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Here the code <code>onInput={this.handleInput}</code> is capturing the native DOM <code>&lt;input&gt;</code> input event and running the <code>handleInput</code> method. The handleInput method simply calls up the <code>onSearchNote</code> method from the props, giving it the value of the user’s text. This means the parent <code>&lt;App&gt;</code> component must send down the <code>props</code> appropriately, which would change the code in <strong><code>src/App.js</code></strong> as follows:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/Toolbar'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/NoteContainer'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>transformNotes<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./helpers'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> <span class=\"token string\">'./App.css'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNoteId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">      searchText<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span></ins><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleClickNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>selectedNoteId<span class=\"token operator\">:</span> id<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleNoteEditorChange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">text</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">const</span> newNotes <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">          id<span class=\"token operator\">:</span> note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">          body<span class=\"token operator\">:</span> text<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">          timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">return</span> note<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>notes<span class=\"token operator\">:</span> newNotes<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleNewNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">const</span> newNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      id<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      body<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>newNote<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNoteId<span class=\"token operator\">:</span> newNote<span class=\"token punctuation\">.</span>id</span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">handleDeleteNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">const</span> newNotes <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span> <span class=\"token operator\">=></span></span><br><span class=\"highlight-line\">      note<span class=\"token punctuation\">.</span>id <span class=\"token operator\">!==</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId</span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> transformedNotes <span class=\"token operator\">=</span> <span class=\"token function\">transformNotes</span><span class=\"token punctuation\">(</span>newNotes<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>searchText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\">    <span class=\"token keyword\">const</span> newSelectedNoteId <span class=\"token operator\">=</span> transformedNotes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> transformedNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> newNotes<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNoteId<span class=\"token operator\">:</span> newSelectedNoteId</span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token function-variable function\">handleSearchNote</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">newSearchText</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> transformedNotes <span class=\"token operator\">=</span> <span class=\"token function\">transformNotes</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">,</span> newSearchText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">let</span> newSelectedNoteId <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>transformedNotes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">const</span> selectedNote <span class=\"token operator\">=</span> transformedNotes<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span> <span class=\"token operator\">=></span> note<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>selectedNote<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        newSelectedNoteId <span class=\"token operator\">=</span> selectedNote<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        newSelectedNoteId <span class=\"token operator\">=</span> transformedNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      searchText<span class=\"token operator\">:</span> newSearchText<span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">      selectedNoteId<span class=\"token operator\">:</span> newSelectedNoteId</ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div id<span class=\"token operator\">=</span><span class=\"token string\">\"app\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>Toolbar</span><br><span class=\"highlight-line\">          onNewNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleNewNote<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          onDeleteNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleDeleteNote<span class=\"token punctuation\">}</span></span><br><ins class=\"highlight-line highlight-line-add\">          onSearchNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleSearchNote<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteContainer</span><br><span class=\"highlight-line\">          notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          selectedNoteId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">}</span></span><br><ins class=\"highlight-line highlight-line-add\">          searchText<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>searchText<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">          onClickNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleClickNote<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          onNoteEditorChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleNoteEditorChange<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>      </span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Let’s go through these changes one at a time:</p>\n<ul>\n<li>We are keeping track of a new piece of state, <code>searchText</code> — the search text the user enters. This will be used to filter the list of notes.</li>\n<li>The <code>transformNotes</code> helper method now takes in two arguments — the array of <code>notes</code> as well as the <code>searchText</code>. The transformation will now consist of both filtering and sorting (see below).</li>\n<li>The <code>handleSearchNote</code> method updates the <code>searchText</code> data to the input argument, which automatically triggers React to re-render all the child components. It also has to update the <code>selectedNoteId</code> to be the first of the <code>transformedNotes</code> if possible.</li>\n<li>The <code>&lt;Toolbar&gt;</code> component now takes in a new prop <code>onSearchNote={this.handleSearchNote}</code> so it can call up the <code>handleSearchNote</code> function whenever the search input text changes.</li>\n<li>The <code>&lt;NoteContainer&gt;</code> component now takes in a new prop <code>searchText={this.state.searchText}</code>, which the children components will need to properly filter the notes as well.</li>\n</ul>\n<p>The <code>transformNotes</code> helper function in <strong><code>src/helpers.js</code></strong> now looks like:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token keyword\">var</span> maxLength <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> maxLength<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maxLength <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token string\">\"New note\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">transformNotes</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">notes<span class=\"token punctuation\">,</span> searchText</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token keyword\">return</span> notes</ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> note<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>searchText<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\"><span class=\"token punctuation\">}</span></ins></code></pre>\n<p>The <code>&lt;NoteContainer&gt;</code> component changes slightly to continue to pass along the <code>searchText</code> <code>prop</code>, which you can see in <strong><code>src/components/NoteContainer.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelectors <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteSelectors'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteEditor <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteEditor'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteContainer</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">const</span> selectedNote <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span> <span class=\"token operator\">=></span> note<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-container\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteSelectors</span><br><span class=\"highlight-line\">          notes<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          selectedNoteId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">}</span></span><br><ins class=\"highlight-line highlight-line-add\">          searchText<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>searchText<span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">          onClickNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onClickNote<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">&lt;</span>NoteEditor</span><br><span class=\"highlight-line\">          selectedNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>selectedNote<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">          onNoteEditorChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onNoteEditorChange<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteContainer<span class=\"token punctuation\">;</span></span></code></pre>\n<p>Finally, the <code>&lt;NoteSelectors&gt;</code> component uses the <code>searchText</code> prop to filter the notes using the <code>transformNotes</code> helper function, which you can see in <strong><code>src/components/NoteSelectors.js</code></strong>:</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelector <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteSelector'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>transformNotes<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../helpers'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">NoteSelectors</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> transformedNotes <span class=\"token operator\">=</span> <span class=\"token function\">transformNotes</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>searchText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">const</span> noteSelectors <span class=\"token operator\">=</span> transformedNotes<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span> <span class=\"token operator\">=></span></ins><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>NoteSelector</span><br><span class=\"highlight-line\">        key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        body<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        timestamp<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        id<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        selectedNoteId<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>selectedNoteId<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">        onClickNote<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>onClickNote<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"note-selectors\"</span><span class=\"token operator\">></span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">{</span>noteSelectors<span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> NoteSelectors<span class=\"token punctuation\">;</span></span></code></pre>\n<p>You can see the final version of the code in all its glory at this <a href=\"https://github.com/peterxjang/notes-app-react/tree/94f2d8a105c0e224490325a4bac1b1d2266961a1\">GitHub repository</a>.</p>\n<h3 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h3>\n<p>In many ways, working with React components is quite similar to working with <a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">Vue.js components</a> (Vue.js was definitely heavily inspired by both Angular 1 and React). There’s definitely something nice about React providing a small API surface, without a lot of specialized approaches — it forces you to get better at your raw JavaScript skills. You need a loop to generate HTML from a list? Use the JavaScript array <code>map</code> method. You need conditional rendering? Use a regular JavaScript if condition. You want helper functions? Make functions in a file and <code>import</code> them. Pretty cool stuff.</p>\n<p>However, at the same time React leans so heavily on new JavaScript features that it can definitely feel daunting to learn up front. And despite not having to learn React-specific syntax, you do need to accustom yourself to quite a bit of React specific idioms (naming event handlers, properly binding <code>this</code> without triggering extra re-rendering, avoiding mutation, etc.). Also, React can sometimes be unopinionated to the point where it creates confusion — there’s many different ways to define a component (the class keyword, pure functions, etc.), and quite a bit of debate on what’s the “best” way to do it.</p>\n<p>React at the time of this writing is a pretty interesting blend of (what at least looks like) object oriented approaches and functional approaches. It’s definitely interesting to contrast with Vue.js, which encourages mutation of data as a key way of providing reactivity. React prefers an immutable approach to state, which can be at times tricky to achieve with JavaScript as a language. In the <a href=\"comparing-frontend-approaches-part-6-elm.html\">next part</a> of this series, we’ll be looking at <a href=\"http://elm-lang.org/\">Elm</a>, which is an actual pure functional language with immutable data structures that compiles to JavaScript. Stay tuned!</p>\n",
      "date_published": "2017-09-22T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/comparing-frontend-approaches-part-4-vuejs-with-components.html",
      "url": "https://peterxjang.com/blog/comparing-frontend-approaches-part-4-vuejs-with-components.html",
      "title": "Comparing Frontend Approaches Part 4: Vue.js with Components",
      "content_html": "<ul>\n<li><a href=\"comparing-frontend-approaches-part-1-introduction.html\">Part 1: Introduction</a></li>\n<li><a href=\"comparing-frontend-approaches-part-2-jquery.html\">Part 2: jQuery</a></li>\n<li><a href=\"comparing-frontend-approaches-part-3-vuejs.html\">Part 3: Vue.js</a></li>\n<li><strong>Part 4: Vue.js with components</strong></li>\n<li><a href=\"comparing-frontend-approaches-part-5-react.html\">Part 5: React</a></li>\n<li><a href=\"comparing-frontend-approaches-part-6-elm.html\">Part 6: Elm</a></li>\n<li><a href=\"comparing-frontend-approaches-part-7-final-thoughts.html\">Part 7: Final thoughts</a></li>\n</ul>\n<p>In this part we will be implementing the <a href=\"comparing-frontend-approaches-part-1-introduction.html\">web based clone</a> of the <a href=\"https://support.apple.com/kb/PH22608?locale=en_US\">Mac Notes app</a> using <a href=\"https://vuejs.org/\">Vue.js</a>, but this time with components. As mentioned last time, Vue.js labels itself as “the progressive JavaScript framework”, which means you learn and implement the advanced functionality only as needed. One such feature is using components, which are a great way to organize code once an app becomes sufficiently complex.</p>\n<p>Using components to isolate behavior and increase reusability isn’t a new programming concept, but it is new for frontend programming. Native <a href=\"https://en.wikipedia.org/wiki/Web_Components\">web components</a> for the browser were first announced in 2011 but never fully landed (as of 2017). JavaScript frameworks picked up the slack, providing an immediate way to build complex apps with a component architecture. However, there are significant tradeoffs to using components — setup, build tools, passing data all becomes harder compared to prior approaches. Let’s see what it looks like in practice to evaluate the tradeoffs ourselves!</p>\n<blockquote>\n<p>Note — the focus of this part is largely on the Vue.js component model itself. If you want a broader look at Vue.js features such as basic directives and options, I would recommend starting with the <a href=\"comparing-frontend-approaches-part-3-vuejs.html\">previous part</a> of this series where I build the same app using Vue.js without components.</p>\n</blockquote>\n<h3 id=\"installation\">Installation <a class=\"direct-link\" href=\"#installation\">#</a></h3>\n<p>The installation process for Vue.js with components is pretty different than installing <a href=\"comparing-frontend-approaches-part-2-jquery.html\">jQuery</a> and <a href=\"comparing-frontend-approaches-part-3-vuejs.html\">Vue.js without components</a>. This is because using components naturally lends itself to writing code in separate files, which means we’ll need a build process to bundle our JavaScript. This would normally be a lot of work, but fortunately Vue.js offers <code>vue-cli</code>, a command line tool to scaffold out projects. If you don’t already have it installed, you can install <code>vue-cli</code> with the command:</p>\n<pre><code>$ npm install -g @vue/cli\n</code></pre>\n<p>Once you have it installed, you can navigate to the directory you want to create your project in and run:</p>\n<pre><code>$ vue create my-project\n</code></pre>\n<p>You should replace <code>my-project</code> with whatever name you want your particular project to have. This will prompt you with setup options (you can choose the default setup). In the end you will end up a new folder called <code>my-project</code> with the following project structure:</p>\n<pre><code>.├── node_modules/\n │   └── ...\n ├── public/\n │   ├── favicon.ico\n │   └── index.html\n ├── src/\n │   ├── assets/\n │   │   └── logo.png\n │   ├── components/\n │   │   └── HelloWorld.vue\n │   ├── App.vue\n │   └── main.js\n ├── .gitignore\n ├── babel.config.js\n ├── package-lock.json\n ├── package.json\n └── README.md\n</code></pre>\n<p>Whew, that’s a lot of files! Fortunately you don’t need to worry about most of them for right now (you can read more about the project structure from the <a href=\"http://vuejs-templates.github.io/webpack/structure.html\">official guide</a>), pretty much all of our work will be in the <code>src</code> directory. At this point you already have a hello world app built for you, which you can see by entering the following commands:</p>\n<pre><code>$ cd my-project$ npm run serve\n</code></pre>\n<p>The last command will run a dev server and automatically open up your browser to <code>localhost:8080</code>, where you should see something like this:</p>\n<p><img src=\"/img/1__L90vI1YkeijHlo____WEmdsw.png\" alt=\"Default vue-cli home page\"></p>\n<p>This is pretty cool, and what’s cooler is that you have a hot-reloading environment already set up for you. What that means is that if you make changes to your code, the browser at <code>localhost:8080</code> will automatically refresh. The place to start making changes is <strong><code>src/App.vue</code></strong>, which right now looks like this:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Vue logo<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./assets/logo.png<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>HelloWorld</span> <span class=\"token attr-name\">msg</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Welcome to Your Vue.js App<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span><br><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"token keyword\">import</span> HelloWorld <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/HelloWorld.vue'</span><br><br><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span><br>  name<span class=\"token operator\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span><br>  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    HelloWorld<br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\"><br><span class=\"token selector\">#app</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'Avenir'</span><span class=\"token punctuation\">,</span> Helvetica<span class=\"token punctuation\">,</span> Arial<span class=\"token punctuation\">,</span> sans-serif<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">-webkit-font-smoothing</span><span class=\"token punctuation\">:</span> antialiased<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">-moz-osx-font-smoothing</span><span class=\"token punctuation\">:</span> grayscale<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #2c3e50<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 60px<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>This is a Vue.js component — a single <code>.vue</code> file which contains the HTML template in a <code>&lt;template&gt;</code> tag, the JavaScript in a <code>&lt;script&gt;</code> tag, and the CSS in a <code>&lt;style&gt;</code> tag. Which means we can take the HTML and CSS from our <a href=\"https://jsfiddle.net/peterxjang/vtsjc5w9/\">notes app template</a> and use it instead, which would make the <strong><code>src/App.vue</code></strong> look like this:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>New<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Delete<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search...<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selectors<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector active<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>First note...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-timestamp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Timestamp here...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Second note...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-timestamp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Timestamp here...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Third note...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-timestamp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Timestamp here...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Timestamp here...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>textarea</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-input<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>          First note...<br><br>          Note text here...<br>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>textarea</span><span class=\"token punctuation\">></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span><br><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span><br>  name<span class=\"token operator\">:</span> <span class=\"token string\">'app'</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\"><br><span class=\"token comment\">/* RESET */</span><br><span class=\"token selector\">*</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span> border-box<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">/* LAYOUT */</span><br><span class=\"token selector\">#app</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> 100vh<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0.5em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-button, .toolbar-search</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 0.3em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-search</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> right<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-container</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selectors</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 0 0 13em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 1em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector p</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-editor</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-editor-info</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0.5em<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-editor-input</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 2em 0 2em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">/* COLORS */</span><br><span class=\"token selector\">*</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #454545<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #FAFAF8<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #DCDADC<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-button</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #FFFFFF<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-button:active</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #AAAAAA<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selectors</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">border-right</span><span class=\"token punctuation\">:</span> 1px solid #DCDADC<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">border-bottom</span><span class=\"token punctuation\">:</span> 1px solid #DCDADC<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector.active</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #FCE18D<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector-title</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector-timestamp</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #626262<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-editor-info</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #DCDADC<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">/* TYPOGRAPHY */</span><br><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> sans-serif<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector-title</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-selector-timestamp</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 0.7em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.note-editor, .note-editor-input</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 0.9em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>If you look at your browser, you should see our familiar notes app starting point!</p>\n<h3 id=\"refactor-into-components\">Refactor into components <a class=\"direct-link\" href=\"#refactor-into-components\">#</a></h3>\n<p>The next step is to break this <strong><code>src/App.vue</code></strong> file into components. Here is a diagram of the different components we can break this app into:</p>\n<pre><code>&lt;app&gt;\n├── &lt;Toolbar&gt;\n└── &lt;NoteContainer&gt;\n    ├── &lt;NoteSelectors&gt;\n    │   └── &lt;NoteSelector&gt;\n    │   └── &lt;NoteSelector&gt;\n    │   └── &lt;NoteSelector&gt;\n    └── &lt;NoteEditor&gt;\n</code></pre>\n<p>You could of course break it down even further (with individual button components for the toolbar for example), but this is a good starting point. Using this structure, the <strong><code>src/App.vue</code></strong> file would now look like:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Toolbar</span><span class=\"token punctuation\">/></span></span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteContainer</span><span class=\"token punctuation\">/></span></span></ins><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/Toolbar'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/NoteContainer'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    Toolbar<span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">    NoteContainer</ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\"><br><span class=\"highlight-line\"><span class=\"token comment\">/* RESET */</span></span><br><span class=\"highlight-line\"><span class=\"token selector\">*</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span> border-box<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token comment\">/* LAYOUT */</span></span><br><span class=\"highlight-line\"><span class=\"token selector\">#app</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token property\">flex-direction</span><span class=\"token punctuation\">:</span> column<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> 100vh<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token comment\">/* COLORS */</span></span><br><span class=\"highlight-line\"><span class=\"token selector\">*</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #454545<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #FAFAF8<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token comment\">/* TYPOGRAPHY */</span></span><br><span class=\"highlight-line\"><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> sans-serif<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The template essentially only contains the <code>&lt;Toolbar/&gt;</code> and <code>&lt;NoteContainer/&gt;</code> custom component tags, which are defined in the JavaScript. In the script tag, we import the components and register them with the Vue.js app. Finally, the style tag has changed only to include the CSS at the top level — any component specific styles will be defined within the components themselves. Let’s take a look at one of the sub-components, <strong><code>src/components/Toolbar.vue</code></strong>:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>New<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Delete<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search...<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span><br><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span><br>  name<span class=\"token operator\">:</span> <span class=\"token string\">'toolbar'</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\"><br><span class=\"token comment\">/* LAYOUT */</span><br><span class=\"token selector\">.toolbar</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0.5em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-button, .toolbar-search</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> inherit<span class=\"token punctuation\">;</span><br>  <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 0.3em<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-search</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> right<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">/* COLORS */</span><br><span class=\"token selector\">.toolbar</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #DCDADC<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-button</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #FFFFFF<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token selector\">.toolbar-button:active</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #AAAAAA<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>As you can see, it’s the same as before — the template contains the HTML for just the toolbar, the script contains the JavaScript (which isn’t doing much right now), and the style contains the CSS for just the toolbar.</p>\n<p>So breaking things into components is a pretty straightforward task. The harder part comes when dealing with data and events. If you want to see what the rest of the components look like right now (they pretty much follow the same pattern), you can check them out in full detail <a href=\"https://github.com/peterxjang/notes-app-vue-components/tree/1922751085f41c3af1501f419f96904527e93183/src/components\">here</a>.</p>\n<ul>\n<li><a href=\"https://github.com/peterxjang/notes-app-vue-components/blob/1922751085f41c3af1501f419f96904527e93183/src/components/Toolbar.vue\">Toolbar.vue</a></li>\n<li><a href=\"https://github.com/peterxjang/notes-app-vue-components/blob/1922751085f41c3af1501f419f96904527e93183/src/components/NoteContainer.vue\">NoteContainer.vue</a></li>\n<li><a href=\"https://github.com/peterxjang/notes-app-vue-components/blob/1922751085f41c3af1501f419f96904527e93183/src/components/NoteSelectors.vue\">NoteSelectors.vue</a></li>\n<li><a href=\"https://github.com/peterxjang/notes-app-vue-components/blob/1922751085f41c3af1501f419f96904527e93183/src/components/NoteSelector.vue\">NoteSelector.vue</a></li>\n<li><a href=\"https://github.com/peterxjang/notes-app-vue-components/blob/1922751085f41c3af1501f419f96904527e93183/src/components/NoteEditor.vue\">NoteEditor.vue</a></li>\n</ul>\n<h3 id=\"display-note-titles-from-an-array-of-notes\">Display note titles from an array of notes <a class=\"direct-link\" href=\"#display-note-titles-from-an-array-of-notes\">#</a></h3>\n<p>Now that things are broken into components, we have to make some choices when it comes to storing and passing data. For the array of notes, it makes sense for the main <code>&lt;App&gt;</code> component to keep track of the notes and pass it down to its children. This would make <strong><code>src/App.vue</code></strong> template and script look like:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Toolbar</span><span class=\"token punctuation\">/></span></span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteContainer</span> <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></ins><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/Toolbar'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/NoteContainer'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">]</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    Toolbar<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    NoteContainer</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>(Note — I’m not showing any <code>&lt;style&gt;</code> tags anymore because they won’t change from here on out). In the <code>&lt;script&gt;</code> tag, we define the <code>notes</code> array in the data option as we did in the <a href=\"comparing-frontend-approaches-part-3-vuejs.html\">previous Vue.js app</a>. In the <code>&lt;template&gt;</code> tag, we pass the notes data to the <code>&lt;NoteContainer&gt;</code> component with the line:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteContainer</span> <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code></pre>\n<p>Here we’re binding a custom notes attribute to the component, which contains the array of notes defined in the data option. However, the <code>&lt;NoteContainer&gt;</code> component doesn’t directly display the notes, so it has to pass it down using a similar technique. Here’s what the <strong><code>src/components/NoteContainer.vue</code></strong> template and script look like:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteSelectors</span> <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></ins><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteEditor</span><span class=\"token punctuation\">/></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelectors <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteSelectors'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteEditor <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteEditor'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-container'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'notes'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    NoteSelectors<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    NoteEditor</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>In the <code>&lt;script&gt;</code> tag, we’re defining the notes as an element in the array of <code>props</code>. This is an important distinction — the <code>&lt;NoteContainer&gt;</code> component doesn’t have notes defined in the data option, because it doesn’t define its own notes; rather, it’s getting the notes data from its parent. Data received from a parent is stored in the <code>props</code> option.</p>\n<p>Again, the <code>&lt;NoteContainer&gt;</code> component doesn’t deal with the notes directly, so it has to pass it down to the <code>&lt;NoteSelectors&gt;</code> component, which you see in the template line:</p>\n<pre class=\"language-html\"><code class=\"language-html\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteSelectors</span> <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code></pre>\n<p>Finally, we get to <code>&lt;NoteSelectors&gt;</code> component, which does actually use the notes. This is what the <strong><code>src/components/NoteSelectors.vue</code></strong> template and script look like:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selectors<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteSelector</span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note in notes<span class=\"token punctuation\">\"</span></span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>note</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note<span class=\"token punctuation\">\"</span></span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note.id<span class=\"token punctuation\">\"</span></span></ins><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelector <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteSelector'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-selectors'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'notes'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    NoteSelector</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Now we can use the notes and loop over them with a <code>v-for</code> directive to create as many <code>&lt;NoteSelector&gt;</code> components as we need. We need to bind each note object to the component, as well as a unique key to help Vue.js keep track of each component. This is what the <strong><code>src/components/NoteSelector.vue</code></strong> template and script look like:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ note.body }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-timestamp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ note.timestamp }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></ins><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-selector'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'note'</span><span class=\"token punctuation\">]</span></ins><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>In the <code>&lt;script&gt;</code> tag we register the <code>note</code> as a <code>prop</code> (the <code>key</code> is used internally by Vue.js), and the <code>&lt;template&gt;</code> tag looks like a straightforward Vue.js template. For now, I’m using the note’s body and raw timestamp as placeholders, we’ll look at formatting them in the next section.</p>\n<p>Whew, that was a lot of work just to loop through an array of notes! There definitely is a price to pay for breaking things into components — maintaining strong boundaries means you must put in more effort to pass information across said boundaries. However, although the concept of passing down data as props from component to component seems foreign at first, it gets to be second nature, since the patterns are fairly straightforward and repeatable.</p>\n<h3 id=\"use-computed-properties-and-filters-to-sort-and-format-notes\">Use computed properties and filters to sort and format notes <a class=\"direct-link\" href=\"#use-computed-properties-and-filters-to-sort-and-format-notes\">#</a></h3>\n<p>Right now the <code>&lt;NoteSelector&gt;</code> component needs formatting for the title and timestamp, which we can accomplish with Vue.js filters. This is what the <strong><code>src/components/NoteSelector.vue</code></strong> template and script look like with filters:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">      {{ note.body | formatTitle }}</ins><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-timestamp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">      {{ note.timestamp | formatTimestamp }}</ins><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-selector'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  filters<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">formatTitle</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">var</span> maxLength <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> maxLength<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maxLength <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'...'</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">return</span> <span class=\"token string\">\"New note\"</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">formatTimestamp</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'note'</span><span class=\"token punctuation\">]</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Also, the parent <code>&lt;NoteSelectors&gt;</code> component needs to sort the child <code>&lt;NoteSelector&gt;</code> components by timestamps. This is what the <strong><code>src/components/NoteSelectors.vue</code></strong> template and script look like:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selectors<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteSelector</span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note in transformedNotes<span class=\"token punctuation\">\"</span></span></ins><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>note</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note.id<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelector <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteSelector'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-selectors'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'notes'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  computed<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">transformedNotes</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">return</span> b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    NoteSelector</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>This is pretty straightforward, and it begins to showcase the nice advantage of working with components — you can determine which component is responsible for which behavior and organize your code accordingly. Right now we have the <code>&lt;NoteSelector&gt;</code> component responsible for title and timestamp formatting, and the <code>&lt;NoteSelectors&gt;</code> parent component responsible for sorting. If there’s ever an issue, it makes it easier to locate and work on the appropriate code.</p>\n<h3 id=\"select-a-note-on-title-click\">Select a note on title click <a class=\"direct-link\" href=\"#select-a-note-on-title-click\">#</a></h3>\n<p>Now let’s implement the ability to actually select notes. Clicking on a note title should both highlight the selected note on the left as well as display the contents in the editor on the right. First we’ll change the template in <strong><code>src/App.vue</code></strong> as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Toolbar</span><span class=\"token punctuation\">/></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteContainer</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>selectNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote<span class=\"token punctuation\">\"</span></span></ins><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<p>Here we’re sending a new prop and event to the <code>&lt;NoteContainer&gt;</code> component. The names can be confusing, so it’s worth going over in detail.</p>\n<ul>\n<li>The code <code>v-bind:selectedNote</code> is essentially creating a new prop called <code>selectedNote</code> which will be available in <code>&lt;NoteContainer&gt;</code>. It is being set equal to <code>&quot;selectedNote&quot;</code>, which is referring to a variable that must be defined in the current <code>&lt;App&gt;</code> component’s <code>data</code> option.</li>\n<li>The code <code>v-on:selectNote</code> is creating an event listener on the <code>&lt;NoteContainer&gt;</code> component. If the <code>&lt;NoteContainer&gt;</code> component ever emits an event with the name <code>selectNote</code>, it will run whatever code it is being set equal to, which in this case is <code>&quot;selectNote&quot;</code>, a method that must be defined in the current <code>&lt;App&gt;</code> component’s methods option.</li>\n</ul>\n<p>This means the script in <strong><code>src/App.vue</code></strong> should define <code>selectedNote</code> in the data and <code>selectNote</code> in the methods, as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/Toolbar'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/NoteContainer'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">var</span> initialNotes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      notes<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">      selectedNote<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> note<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    Toolbar<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    NoteContainer</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>So far so good. Now we have to make sure the child <code>&lt;NoteContainer&gt;</code> component will emit a <code>selectNote</code> event any time a note selector is clicked. This is what the <strong><code>src/components/NoteContainer.vue</code></strong> template and script look like:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteSelectors</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>selectNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote<span class=\"token punctuation\">\"</span></span></ins><br>      <span class=\"token punctuation\">/></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteEditor</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelectors <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteSelectors'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteEditor <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteEditor'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-container'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'notes'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'selectedNote'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'selectNote'</span><span class=\"token punctuation\">,</span> note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    NoteSelectors<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    NoteEditor</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Similar to the <code>&lt;App&gt;</code> component, the <code>&lt;NoteContainer&gt;</code> component has to pass the <code>selectedNote</code> prop and the <code>selectNote</code> event to the child <code>&lt;NoteSelector&gt;</code> component. Note that if the <code>&lt;NoteSelector&gt;</code> component emits a <code>selectNote</code> event, it will run this function:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'selectNote'</span><span class=\"token punctuation\">,</span> note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre>\n<p>This function emits a selectNote event from the <code>&lt;NoteContainer&gt;</code> component, which we set up an event listener in the parent to respond to. Also note that in the template, we’re sending the selectedNote prop to the <code>&lt;NoteEditor&gt;</code> component, which needs that info as well.</p>\n<p>Now let’s take a look at the template and script in the <code>&lt;NoteSelectors&gt;</code> component in <strong><code>app/components/NoteSelectors.vue</code></strong>, which is what is actually process the click event:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selectors<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteSelector</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note in transformedNotes<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>note</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note<span class=\"token punctuation\">\"</span></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></ins><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note.id<span class=\"token punctuation\">\"</span></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>click.native</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote(note)<span class=\"token punctuation\">\"</span></span></ins><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelector <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteSelector'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-selectors'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'notes'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'selectedNote'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'selectNote'</span><span class=\"token punctuation\">,</span> note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  computed<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">transformedNotes</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">return</span> b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    NoteSelector</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The key line in the template is:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">v<span class=\"token operator\">-</span>on<span class=\"token operator\">:</span>click<span class=\"token punctuation\">.</span>native<span class=\"token operator\">=</span><span class=\"token string\">\"selectNote(note)\"</span></code></pre>\n<p>This is binding the native DOM click event to a method called <code>selectNote</code>, which is defined in the component’s methods option:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'selectNote'</span><span class=\"token punctuation\">,</span> note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre>\n<p>This starts the chain reaction — the user click’s on a <code>&lt;NoteSelector&gt;</code> component, triggering the parent <code>&lt;NoteSelectors&gt;</code> component’s <code>selectNote</code> method, which emits a <code>'selectNote'</code> event, triggering the parent <code>&lt;NoteContainer&gt;</code> component’s <code>selectNote</code> method, which emits a <code>'selectNote'</code> event, triggering the parent <code>&lt;App&gt;</code> component’s <code>selectNote</code> method, which changes the actual <code>selectedNote</code> data. Once the parent’s data changes, Vue.js automatically re-renders all the appropriate child components.</p>\n<p>This style of programming (props down, events up, made popular by <a href=\"https://facebook.github.io/react/\">React</a>) seems overly verbose at first, but it’s the key to keeping the architecture of the code clean. Without it, we would be running into jQuery spaghetti territory. The reason we can avoid complexity is because each component is forced to only know about what it needs to know — a child component doesn’t manipulate the parent’s data directly, it simply passes a message to the parent telling it some event occurred.</p>\n<p>Two final things to look at —first, the <code>&lt;NoteSelector&gt;</code> component should use the <code>selectedNote</code> prop to properly style the component if the <code>note</code> prop is the same as the <code>selectedNote</code> prop. The template and script in <strong><code>src/components/NoteSelector.vue</code></strong> would look as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{active: note === selectedNote}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></ins><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">      {{ note.body | formatTitle }}</span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-timestamp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">      {{ note.timestamp | formatTimestamp }}</span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-selector'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'note'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'selectedNote'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">  filters<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">formatTitle</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">var</span> maxLength <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> maxLength<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maxLength <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'...'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">return</span> <span class=\"token string\">\"New note\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">formatTimestamp</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Here we’re using the <code>v-bind:class</code> directive to conditionally apply the <code>.active</code> class on the div. The second thing is that the <code>&lt;NoteEditor&gt;</code> component should also receive the <code>selectedNote</code> prop and display it’s info accordingly. Here’s the template and script for <strong><code>src/components/NoteEditor.vue</code></strong>:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">     {{ selectedNote.timestamp | formatTimestamp }}</ins><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>textarea</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-input<span class=\"token punctuation\">\"</span></span><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote.body<span class=\"token punctuation\">\"</span></span></ins><br>    <span class=\"token punctuation\">></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>textarea</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-editor'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'selectedNote'</span><span class=\"token punctuation\">]</span></ins><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Here we’re registering <code>'selectedNote'</code> as a prop and binding <code>selectedNote.body</code> to the <code>&lt;textarea&gt;</code>. We also need to format the <code>selectedNote.timestamp</code>— this is a bit of a problem, since we specifically defined <code>formatTimestamp</code> as a filter in the <code>&lt;NoteSelector&gt;</code> component. Now we’ll need to define the method in a more general place for multiple components to be able to use it. This can be done by registering the filter in <strong><code>src/main.js</code></strong>, right before we define the new Vue instance, as follows:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Vue <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App.vue\"</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\">Vue<span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>productionTip <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><mark class=\"highlight-line highlight-line-active\">Vue<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"formatTimestamp\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></mark><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></mark><br><mark class=\"highlight-line highlight-line-active\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></mark><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">render</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">h</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">h</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">$mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre>\n<p>That was a lot of code to make this particular feature work! You can see all the changes outlined above in this <a href=\"https://github.com/peterxjang/notes-app-vue-components/commit/ac117f3c372557f9562db4354a9327157d332e86\">commit</a>.</p>\n<h3 id=\"edit-the-selected-note-on-editor-input\">Edit the selected note on editor input <a class=\"direct-link\" href=\"#edit-the-selected-note-on-editor-input\">#</a></h3>\n<p>Now we need to wire up the <code>&lt;NoteEditor&gt;</code> component to send events back up to the parent to edit the selectedNote’s body. Let’s look at it this time from the child going upwards, starting with the <code>&lt;NoteEditor&gt;</code> component in <strong><code>src/components/NoteEditor.vue</code></strong>:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">      {{ selectedNote.timestamp | formatTimestamp }}</span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>textarea</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-input<span class=\"token punctuation\">\"</span></span><br><span class=\"highlight-line\">      <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote.body<span class=\"token punctuation\">\"</span></span></span><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>input</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>input($event)<span class=\"token punctuation\">\"</span></span></ins><br>    <span class=\"token punctuation\">></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>textarea</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-editor'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'selectedNote'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">input</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">$event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inputNoteEditor'</span><span class=\"token punctuation\">,</span> $event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Here the code <code>v-on:input=&quot;input($event)&quot;</code> is capturing the native DOM <code>&lt;textarea&gt;</code> input event and running the <code>input</code> method defined in the component’s <code>methods</code> option. The code <code>this.$emit('inputNoteEditor', $event.target.value);</code> will emit an <code>'inputNoteEditor'</code> event to the parent component, passing along the text from the <code>&lt;textarea&gt;</code>’s native DOM event. This means the parent <code>&lt;NoteContainer&gt;</code> component must be wired up to listen for the <code>'inputNoteEditor'</code> event, which would change the code in <strong><code>src/components/NoteContainer.vue</code></strong> as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteSelectors</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>selectNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">/></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteEditor</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>inputNoteEditor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>inputNoteEditor<span class=\"token punctuation\">\"</span></span></ins><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelectors <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteSelectors'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteEditor <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteEditor'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-container'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'notes'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'selectedNote'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'selectNote'</span><span class=\"token punctuation\">,</span> note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">inputNoteEditor</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inputNoteEditor'</span><span class=\"token punctuation\">,</span> body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    NoteSelectors<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    NoteEditor</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The code <code>v-on:inputNoteEditor=&quot;inputNoteEditor&quot;</code> is listening for <code>inputNoteEditor</code> events from the child <code>&lt;NoteEditor&gt;</code> component, which will run the <code>inputNoteEditor</code> method defined in the <code>methods</code> option. The code <code>this.$emit('inputNoteEditor', body);</code> in the inputNoteEditor method will simply bubble the information further to the parent. Finally, the parent component will receive the data and update the <code>selectedNote</code>, which you can see in <strong><code>src/App.vue</code></strong>:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Toolbar</span><span class=\"token punctuation\">/></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteContainer</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>selectNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote<span class=\"token punctuation\">\"</span></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>inputNoteEditor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>updateSelectedNote<span class=\"token punctuation\">\"</span></span></ins><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/Toolbar'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/NoteContainer'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">var</span> initialNotes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNote<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> note<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">updateSelectedNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> body<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    Toolbar<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    NoteContainer</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The code <code>v-on:inputNoteEditor=&quot;updateSelectedNote&quot;</code> is listening for <code>inputNoteEditor</code> events from the <code>&lt;NoteContainer&gt;</code> component, and will run the <code>updateSelectedNote</code> method defined in the methods option accordingly. The <code>updateSelectedNote</code> method simply updates the <code>selectedNote</code>’s body and timestamp, which finally automatically trigger’s Vue.js to re-render all the child components.</p>\n<h3 id=\"create-a-new-note-with-a-button\">Create a new note with a button <a class=\"direct-link\" href=\"#create-a-new-note-with-a-button\">#</a></h3>\n<p>Now let’s implement the ability to create a new note. Clicking on the “New” button should create a new note (new id, no body, current timestamp). The new note should become the currently selected note and appear at the top of the list of note selectors. Let’s start with the child <code>&lt;Toolbar&gt;</code> component in <strong><code>src/components/Toolbar.vue</code></strong>:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>clickNew<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></ins><br><span class=\"highlight-line\">      New</span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Delete<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search...<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'toolbar'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">clickNew</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'clickNew'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Here the code <code>v-on:click=&quot;clickNew&quot;</code> is capturing the native DOM <code>&lt;button&gt;</code> click event and running the <code>clickNew</code> method defined in the component’s <code>methods</code> option. The code <code>this.$emit('clickNew');</code> will emit an <code>'clickNew'</code> event to the parent component. This means the parent <code>&lt;App&gt;</code> component must be wired up to listen for the <code>'clickNew'</code> event, which would change the code in <strong><code>src/App.vue</code></strong> as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Toolbar</span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>clickNew</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>createNote<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></ins><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteContainer</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>selectNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>inputNoteEditor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>updateSelectedNote<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/Toolbar'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/NoteContainer'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">var</span> initialNotes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNote<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> note<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">updateSelectedNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> body<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">createNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">var</span> newNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        id<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">        body<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span></ins><br><ins class=\"highlight-line highlight-line-add\">        timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>newNote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> newNote<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    Toolbar<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    NoteContainer</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The code <code>v-on:clickNew=&quot;createNote&quot;</code> is listening for <code>clickNew</code> events from the <code>&lt;Toolbar&gt;</code> component, and will run the <code>createNote</code> method defined in the methods option accordingly. The <code>createNote</code> method pushes a new empty note into the <code>notes</code> data as well as updates the <code>selectedNote</code> data to the new note, which finally automatically trigger’s Vue.js to re-render all the child components.</p>\n<h3 id=\"delete-the-selected-note-with-a-button\">Delete the selected note with a button <a class=\"direct-link\" href=\"#delete-the-selected-note-with-a-button\">#</a></h3>\n<p>Wiring up this feature starts off pretty similar to the new note feature. Let’s again start with the child <code>&lt;Toolbar&gt;</code> component in <strong><code>src/components/Toolbar.vue</code></strong>:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>clickNew<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">      New</span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>clickDelete<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></ins><br><span class=\"highlight-line\">      Delete</span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search...<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'toolbar'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">clickNew</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'clickNew'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">clickDelete</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'clickDelete'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Here the code <code>v-on:click=&quot;clickDelete&quot;</code> is capturing the native DOM <code>&lt;button&gt;</code> click event and running the <code>clickDelete</code> method defined in the component’s <code>methods</code> option. The code <code>this.$emit('clickDelete');</code> will emit an <code>'clickDelete'</code> event to the parent component. This means the parent <code>&lt;App&gt;</code> component must be wired up to listen for the <code>'clickDelete'</code> event, which would change the code in <strong><code>src/App.vue</code></strong> as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Toolbar</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>clickNew</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>createNote<span class=\"token punctuation\">\"</span></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>clickDelete</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>deleteNote<span class=\"token punctuation\">\"</span></span></ins><br>      <span class=\"token punctuation\">/></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteContainer</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>selectNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>inputNoteEditor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>updateSelectedNote<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/Toolbar'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/NoteContainer'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">var</span> initialNotes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNote<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> note<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">updateSelectedNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> body<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">createNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">var</span> newNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        id<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        body<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>newNote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> newNote<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">deleteNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">var</span> index <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    Toolbar<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    NoteContainer</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The code <code>v-on:clickDelete=&quot;deleteNote&quot;</code> is listening for <code>clickDelete</code> events from the <code>&lt;Toolbar&gt;</code> component, and will run the <code>deleteNote</code> method defined in the methods option accordingly. The <code>deleteNote</code> method deletes the selected note from the <code>notes</code> data, which finally automatically trigger’s Vue.js to re-render all the child components.</p>\n<p>However, there’s a problem — the <code>deleteNote</code> method also needs to select a new note in place of the one that’s deleted. The problem is that selecting a new note means we need to know the top of the list of the <strong>transformed</strong> (sorted) notes, which we defined in the sub-child <code>&lt;NoteSelectors&gt;</code> component. That seemed like the right decision at the time, but now we’ll need to refactor that method to be in the parent component, then pass the transformed notes as a prop to the appropriate children. This would change the code in <strong><code>src/App.vue</code></strong> as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Toolbar</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>clickNew</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>createNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>clickDelete</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>deleteNote<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">/></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteContainer</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>transformedNotes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transformedNotes<span class=\"token punctuation\">\"</span></span></ins><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>selectNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>inputNoteEditor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>updateSelectedNote<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/Toolbar'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/NoteContainer'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">var</span> initialNotes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNote<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> note<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">updateSelectedNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> body<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">createNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">var</span> newNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        id<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        body<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>newNote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> newNote<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">deleteNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">var</span> index <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></ins><br><span class=\"highlight-line\">        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  computed<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">transformedNotes</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">return</span> b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    Toolbar<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    NoteContainer</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The code in <strong><code>src/components/NoteContainer.vue</code></strong> would simply pass the <code>transformedNotes</code> props down as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteSelectors</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>transformedNotes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transformedNotes<span class=\"token punctuation\">\"</span></span></ins><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>selectNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">/></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteEditor</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>inputNoteEditor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>inputNoteEditor<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelectors <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteSelectors'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteEditor <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteEditor'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-container'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'notes'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'transformedNotes'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'selectedNote'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'selectNote'</span><span class=\"token punctuation\">,</span> note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">inputNoteEditor</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inputNoteEditor'</span><span class=\"token punctuation\">,</span> body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    NoteSelectors<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    NoteEditor</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>And finally, the code in <strong><code>src/components/NoteSelectors.vue</code></strong> would no longer compute the <code>transformedNotes</code> but instead would use the <code>transformedNotes</code> props as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selectors<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteSelector</span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note in transformedNotes<span class=\"token punctuation\">\"</span></span></ins><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>note</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>key</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note.id<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>click.native</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote(note)<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteSelector <span class=\"token keyword\">from</span> <span class=\"token string\">'./NoteSelector'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'note-selectors'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'notes'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'transformedNotes'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'selectedNote'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'selectNote'</span><span class=\"token punctuation\">,</span> note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    NoteSelector</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The last detail is to change the <code>&lt;NoteEditor&gt;</code> component to only render if there is a <code>selectedNote</code>, since it’s now possible to delete all the notes. The template in <strong><code>src/components/NoteEditor.vue</code></strong> would change as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><ins class=\"highlight-line highlight-line-add\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote.id<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></ins><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">      {{ selectedNote.timestamp | formatTimestamp }}</span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>textarea</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-input<span class=\"token punctuation\">\"</span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote.body<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>input</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>input($event)<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>textarea</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span></code></pre>\n<h3 id=\"filter-notes-on-search-input\">Filter notes on search input <a class=\"direct-link\" href=\"#filter-notes-on-search-input\">#</a></h3>\n<p>The final feature is to be able to search notes immediately as you type in the search input. This means we’ll need to keep track of a new piece of data — the search text the user enters. This search text will be used to filter the list of notes, which means it must be defined in the <code>&lt;App&gt;</code> component, since that’s the component that stores the notes. The code in <strong><code>src/App.vue</code></strong> would change as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Toolbar</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>clickNew</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>createNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>clickDelete</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>deleteNote<span class=\"token punctuation\">\"</span></span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>searchNoteText</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>searchNoteText<span class=\"token punctuation\">\"</span></span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>inputSearchNoteText</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>updateSearch<span class=\"token punctuation\">\"</span></span></ins><br>      <span class=\"token punctuation\">/></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NoteContainer</span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>notes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>notes<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>transformedNotes</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>transformedNotes<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>selectedNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>selectNote</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote<span class=\"token punctuation\">\"</span></span></span><br><span class=\"highlight-line\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>inputNoteEditor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>updateSelectedNote<span class=\"token punctuation\">\"</span></span></span><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> Toolbar <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/Toolbar'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token keyword\">import</span> NoteContainer <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/NoteContainer'</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"></span><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  <span class=\"token function-variable function\">data</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">var</span> initialNotes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      notes<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      selectedNote<span class=\"token operator\">:</span> initialNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">      searchNoteText<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span></ins><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> note<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">updateSelectedNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> body<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">createNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">var</span> newNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        id<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        body<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">        timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>newNote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> newNote<span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">deleteNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">var</span> index <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">        <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">      <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">updateSearch</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">newSearchText</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>searchNoteText <span class=\"token operator\">=</span> newSearchText<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token punctuation\">}</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  computed<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">transformedNotes</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes</ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token keyword\">return</span> note<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>searchNoteText<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">          <span class=\"token keyword\">return</span> b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  components<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    Toolbar<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    NoteContainer</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Let’s go through these changes one at a time.</p>\n<ul>\n<li>The code <code>v-bind:searchNoteText=&quot;searchNoteText&quot;</code> is sending the <code>searchNoteText</code> data to the <code>&lt;Toolbar&gt;</code> component as a prop named <code>searchNoteText</code>.</li>\n<li>The code <code>v-on:inputSearchNoteText=&quot;updateSearch&quot;</code> is listening for <code>inputSearchNoteText</code> events from the <code>&lt;Toolbar&gt;</code> component, and will run the <code>updateSearch</code> method defined in the methods option accordingly.</li>\n<li>The <code>updateSearch</code> method updates the <code>searchNoteText</code> data to the input argument, which automatically trigger’s Vue.js to re-render all the child components. It also has to update the selectedNote to be the top of the <code>transformedNotes</code> if possible.</li>\n<li>The <code>transformedNotes</code> computed property, which used to simply sort the notes, is now responsible for both filtering and sorting the notes. The notes are filtered based on whether or not the body contains the <code>searchNoteText</code> data.</li>\n</ul>\n<p>Finally, we need to wire the child <code>&lt;Toolbar&gt;</code> component in <strong><code>src/components/Toolbar.vue</code></strong> to respond to and fire off the right events:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>clickNew<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">      New</span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>clickDelete<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\">      Delete</span><br><span class=\"highlight-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></span><br>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search...<span class=\"token punctuation\">\"</span></span><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>searchNoteText<span class=\"token punctuation\">\"</span></span></ins><br><ins class=\"highlight-line highlight-line-add\">        <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>input</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>inputSearchNoteText($event)<span class=\"token punctuation\">\"</span></span></ins><br>      <span class=\"token punctuation\">/></span></span><br><span class=\"highlight-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span><br><span class=\"highlight-line\"></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br><span class=\"highlight-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  name<span class=\"token operator\">:</span> <span class=\"token string\">'toolbar'</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">  props<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'searchNoteText'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></ins><br><span class=\"highlight-line\">  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">clickNew</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'clickNew'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    <span class=\"token function-variable function\">clickDelete</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'clickDelete'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token function-variable function\">inputSearchNoteText</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">$event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></ins><br><ins class=\"highlight-line highlight-line-add\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'inputSearchNoteText'</span><span class=\"token punctuation\">,</span> $event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></ins><br><ins class=\"highlight-line highlight-line-add\">    <span class=\"token punctuation\">}</span></ins><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>As seen before, the <code>&lt;Toolbar&gt;</code> component contains no logic — it simply receives props and sends messages to the parent when the user interacts with it in various ways.</p>\n<p>You can take a look at the final app in all its glory in this <a href=\"https://github.com/peterxjang/notes-app-vue-components/tree/be29b712ccfe8e45be80806eba30f3d004057333\">GitHub repository</a>.</p>\n<h3 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h3>\n<p>As you can see, working with components is incredibly different than without, even when using the same Vue.js framework! This is truly what Vue.js means when it describes itself as a progressive framework — you don’t need to understand components to get started with it, which simplifies the on boarding learning curve. For larger scale apps, it can be worthwhile to learn this component architecture as a solid way to organize your code.</p>\n<p>I would argue that for this particular notes app, a Vue.js component architecture may be overkill. However, this is a debatable point, since every app continues to grow in complexity as more features are added. Still, even though components are daunting at first, you start to get used to the repeating patterns and they become easy enough over time. Only when your app grows so large that it becomes nearly impossible to understand all the code at once will you appreciate the clean separations that a component architecture provides.</p>\n<p>In the <a href=\"comparing-frontend-approaches-part-5-react.html\">next part</a> of this series, we’ll take a look at implementing the same notes app using <a href=\"https://facebook.github.io/react/\">React</a>, a completely different framework with a similar component model. Stay tuned!</p>\n",
      "date_published": "2017-09-21T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/comparing-frontend-approaches-part-3-vuejs.html",
      "url": "https://peterxjang.com/blog/comparing-frontend-approaches-part-3-vuejs.html",
      "title": "Comparing Frontend Approaches Part 3: Vue.js",
      "content_html": "<ul>\n<li><a href=\"comparing-frontend-approaches-part-1-introduction.html\">Part 1: Introduction</a></li>\n<li><a href=\"comparing-frontend-approaches-part-2-jquery.html\">Part 2: jQuery</a></li>\n<li><strong>Part 3: Vue.js</strong></li>\n<li><a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">Part 4: Vue.js with components</a></li>\n<li><a href=\"comparing-frontend-approaches-part-5-react.html\">Part 5: React</a></li>\n<li><a href=\"comparing-frontend-approaches-part-6-elm.html\">Part 6: Elm</a></li>\n<li><a href=\"comparing-frontend-approaches-part-7-final-thoughts.html\">Part 7: Final thoughts</a></li>\n</ul>\n<p><img src=\"/img/vuejs-wide.png#medium\" alt=\"Vue.js logo\"></p>\n<p>In this part we will be implementing the <a href=\"comparing-frontend-approaches-part-1-introduction.html\">web based clone</a> of the <a href=\"https://support.apple.com/kb/PH22608?locale=en_US\">Mac Notes app</a> using <a href=\"https://vuejs.org/\">Vue.js</a>. Vue.js is a JavaScript framework that came out in 2014 and has recently become one of the most popular frameworks in a very crowded market. It currently has over 65,000 stars on GitHub, which makes it the second most popular JavaScript framework (React being the first).</p>\n<p>Vue.js uses a template based approach, which was heavily inspired by <a href=\"https://angularjs.org/\">Angular 1</a> (which was once the dominant framework). It also uses a virtual DOM under the hood, which was inspired by React. Vue.js labels itself as “the progressive JavaScript framework”, which means you don’t need to learn the entire framework to get started — you start with the basics and add on more advanced features as they become necessary. Let’s see what it’s like to get started with it in practice!</p>\n<blockquote>\n<p>Note — this isn’t meant to be a tutorial for people completely new to Vue.js. If you are in that category, I would recommend reading through at least the beginning of the <a href=\"https://vuejs.org/v2/guide/\">official guide</a> (which is very well written and beginner friendly) before reading through this post.</p>\n</blockquote>\n<h3 id=\"installation\">Installation <a class=\"direct-link\" href=\"#installation\">#</a></h3>\n<p>Starting from our <a href=\"https://jsfiddle.net/peterxjang/vtsjc5w9\">initial template</a> in <a href=\"comparing-frontend-approaches-part-1-introduction.html\">part 1</a>, installing Vue.js is easy enough (almost as easy as installing <a href=\"comparing-frontend-approaches-part-2-jquery.html\">jQuery</a>). Here are the two changes in the HTML head tag:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"https://unpkg.com/vue/dist/vue.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span><br><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"js/notes.js\"</span> defer<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></code></pre>\n<p>The first line includes Vue.js from a CDN. The second line includes the app’s JavaScript and only has one change from the original template — the <code>defer</code> attribute. This ensures that the <code>notes.js</code> file is loaded only after the DOM is ready. In the <code>notes.js</code> file we need the following initial code:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>  el<span class=\"token operator\">:</span> <span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>This instantiates the Vue instance — pretty much all of our JavaScript will be written and organized within this object. The <code>el</code> option has a value of <code>'#app'</code>, which is the id of the HTML div where Vue.js will bind itself to.</p>\n<h3 id=\"display-note-titles-from-an-array-of-notes\">Display note titles from an array of notes <a class=\"direct-link\" href=\"#display-note-titles-from-an-array-of-notes\">#</a></h3>\n<p>Now that Vue.js is installed, let’s change the starting template to generate the dynamic notes list using JavaScript. In Vue.js, we will store any application state with an object in the <code>data</code> option. Here I’m representing the notes as an array of objects, where each object has an id, a body, and a timestamp. The <code>Date.now()</code> returns the number of milliseconds elapsed since 1 January 1970 00:00:00 UTC.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>  notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><br>    <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Once we have the notes in the data, we can bind them to the DOM using Vue’s template syntax directly in the HTML:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selectors<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note in notes<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ note.body }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-timestamp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ note.timestamp }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>It looks like there’s only a single <code>.note-selector</code> div here, but the <code>v-for</code> directive is Vue specific syntax that will repeat the div for each note in the notes array that was defined in the Vue instance. Within any element content you can write JavaScript within double curly brackets, which is capable of referencing data defined in the Vue instance <code>data</code> option.</p>\n<p>You can check out a live demo <a href=\"https://jsfiddle.net/peterxjang/xjhLhs4u\">here</a>.</p>\n<h3 id=\"use-computed-properties-and-filters-to-sort-and-format-notes\">Use computed properties and filters to sort and format notes <a class=\"direct-link\" href=\"#use-computed-properties-and-filters-to-sort-and-format-notes\">#</a></h3>\n<p>Similar to the jQuery example, we’ll make helper methods to make sure the notes are sorted (newest first) and formatted properly (titles should be computed from the body, timestamps should be converted from milliseconds into a human readable string). Unlike jQuery, Vue.js gives a structure to organize where such methods can go — in the <code>methods</code> option:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>  el<span class=\"token operator\">:</span> <span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">,</span><br>  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><br>      <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>      <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>      <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token function-variable function\">transformNotes</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">notes</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">return</span> notes<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token function-variable function\">formatTitle</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">var</span> maxLength <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> maxLength<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maxLength <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"New note\"</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token function-variable function\">formatTimestamp</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>To use these methods, you would change the HTML template as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selectors<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note in transformNotes(notes)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ formatTitle(note.body) }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-timestamp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ formatTimestamp(note.timestamp) }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>This works great, but Vue.js actually provides other options besides <code>methods</code> to work with data to make it both more readable and performant. One option is defining computed properties, which essentially creates new data available in the template that is computed based on existing data. In this case we can refactor the <code>transformNotes</code> function in the <code>methods</code> option into a <code>transformedNotes</code> function in the <code>computed</code> option:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>  el<span class=\"token operator\">:</span> <span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">,</span><br>  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><br>      <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>      <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>      <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  computed<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token function-variable function\">transformedNotes</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token function-variable function\">formatTitle</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">var</span> maxLength <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> maxLength<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maxLength <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"New note\"</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token function-variable function\">formatTimestamp</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Note the use of <code>this.notes</code> in the <code>transformNotes</code> function — any function within the Vue.js instance can refer to any value from the data object using <code>this</code>. The HTML template would refer to the computed property <code>transformedNotes</code> instead of the method <code>transformNotes(notes)</code> as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note in transformedNotes<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>At a glance, using computed properties aren’t too different from using methods. The reason they’re valuable is that methods will be called whenever a re-render occurs, whereas a computed property can be cached and will only be recomputed when the underlying data changes (which Vue manages for you).</p>\n<p>Vue.js also provides a mechanism called filters, which can be used for simple text formatting. That’s exactly what we’re doing with the <code>formatTitle</code> and <code>formatTimestamp</code> methods, so let’s see what they would look like using filters instead:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>  el<span class=\"token operator\">:</span> <span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">,</span><br>  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><br>      <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>      <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>      <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  computed<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token function-variable function\">transformedNotes</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  filters<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token function-variable function\">formatTitle</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">var</span> maxLength <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> maxLength<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maxLength <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"New note\"</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token function-variable function\">formatTimestamp</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>And the HTML template would change as follows:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selectors<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note in transformedNotes<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ note.body | formatTitle }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-timestamp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ note.timestamp | formatTimestamp }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>I would say that when you’re first starting out with Vue.js, it may be helpful just to stick with methods instead of worrying about computed properties and filters, since you can pull off the same functionality. It’s nice to be aware of them as potential tools if you find yourself in need of better code organization or performance!</p>\n<h3 id=\"select-a-note-on-title-click\">Select a note on title click <a class=\"direct-link\" href=\"#select-a-note-on-title-click\">#</a></h3>\n<p>Now let’s implement the ability to actually select notes. Clicking on a note title should both highlight the selected note on the left as well as display the contents in the editor on the right. Here’s a complete working example, which we’ll go over in detail:</p>\n<p>First we need to keep track of a new variable <code>selectedNote</code> (which we’ll default to the first note). To do so, we’ll move the initialization of the data into a new <code>mounted</code> option, which is one of <a href=\"https://vuejs.org/v2/guide/instance.html#Instance-Lifecycle-Hooks\">several lifecycle hooks</a> available. The <code>mounted</code> function runs once when everything is ready in the DOM:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>  notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>  selectedNote<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br><span class=\"token function-variable function\">mounted</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><br>    <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><br>  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre>\n<p>Note that Vue.js requires all data that will be referred to an HTML template to be defined in the <code>data</code> object — this is why I’m defining <code>notes</code> as an empty array and <code>selectedNote</code> as an empty object. In the <code>mounted</code> function, I’m putting in the actual data. This is good organization for later, where we can replace the hard coded data with a web request from a backend for real notes data.</p>\n<p>Now let’s take a look at the changes in the HTML template:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selectors<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><br>    <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector<span class=\"token punctuation\">\"</span></span><br>    <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note in transformedNotes<span class=\"token punctuation\">\"</span></span><br>    <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectNote(note)<span class=\"token punctuation\">\"</span></span><br>    <span class=\"token attr-name\"><span class=\"token namespace\">v-bind:</span>class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{active: note === selectedNote}<span class=\"token punctuation\">\"</span></span><br>  <span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ note.body | formatTitle }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-selector-timestamp<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ note.timestamp | formatTimestamp }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>We have two new lines — first is <code>v-on:click=&quot;selectNote(note)&quot;</code>, which essentially works as a DOM event handler and will run the <code>selectNote</code> method when the div is clicked. We haven’t defined this method yet, we’ll look at that in a bit. The second new line is <code>v-bind:class=&quot;{active: note === selectedNote}&quot;</code>, which will conditionally add the <code>active</code> class to the div (depending on whether or not the particular note equals the selected note from Vue’s data). It’s important to note that with Vue.js, you must use <code>v-bind</code> with any HTML attributes that you need to be dynamic.</p>\n<blockquote>\n<p>Side note — Vue.js provides shortcuts for <code>v-on</code> and <code>v-bind</code> — <code>v-on:click</code> becomes <code>@click</code> and <code>v-bind:class</code> becomes <code>:class</code>. I’ll avoid using the shortcuts for the sake of being explicit, but it’s good to know about them when writing and reading other Vue.js code.</p>\n</blockquote>\n<p>The selectNote method is easy enough to define:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> note<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>At this point everything works automagically — clicking on a note will run the <code>selectNote</code> function, which updates <code>this.selectedNote</code>, which will trigger a re-render, which will bind the <code>active</code> class to the appropriate div. This is the promise of modern JavaScript frameworks — your job as a programmer is to define data and the ways it gets transformed. The framework’s job is to manage and manipulate the DOM under the hood.</p>\n<p>The last bit here is to update the note editor on the right to display the selected note dynamically. Here’s the HTML template needed to do so:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ selectedNote.timestamp | formatTimestamp }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>textarea</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-input<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>    {{ selectedNote.body }}<br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>textarea</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Since the template is referring to <code>selectedNote</code>, which is defined and managed in the Vue instance, no other work is necessary!</p>\n<p>You can check out a live demo <a href=\"https://jsfiddle.net/peterxjang/7dep6e47\">here</a>.</p>\n<h3 id=\"edit-the-selected-note-on-editor-input\">Edit the selected note on editor input <a class=\"direct-link\" href=\"#edit-the-selected-note-on-editor-input\">#</a></h3>\n<p>Next we’ll bind the <code>&lt;textarea&gt;</code> to the note data. Vue.js has this functionality built in with the <code>v-model</code> directive:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ selectedNote.timestamp | formatTimestamp }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>textarea</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-input<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-model</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote.body<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>textarea</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>(Note that we’re no longer putting content between the <code>&lt;textarea&gt;&lt;/textarea&gt;</code> tags, the Vue.js <code>v-model</code> directive is handling it now.) Now whenever the user enters text, the <code>selectedNote</code>’s body automatically gets updated! Now the only thing missing is the <code>selectedNote</code>’s timestamp — it should get updated to the current time whenever the text changes. We can accomplish this using the <code>watch</code> option:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>  el<span class=\"token operator\">:</span> <span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">,</span><br>  data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// ...</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token function-variable function\">mounted</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// ...</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  computed<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// ...</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  filters<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// ...</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// ...</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  watch<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token function-variable function\">handler</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>      deep<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>This is telling Vue.js to watch the <code>notes</code> data for any changes and run the code to update the <code>selectedNote</code>’s timestamp whenever something does change. (It seems a bit strange to watch <code>notes</code> instead of <code>selectedNote</code>, but see what happens if you change it to <code>selectedNote</code> — each time the user selects a new note, its timestamp gets updated, which is not the desired behavior!)</p>\n<h3 id=\"create-a-new-note-with-a-button\">Create a new note with a button <a class=\"direct-link\" href=\"#create-a-new-note-with-a-button\">#</a></h3>\n<p>Now let’s implement the ability to create a new note. Clicking on the “New” button should create a new note (new id, no body, current timestamp). The new note should become the currently selected note and appear at the top of the list of note selectors. Here’s a complete working example, which we’ll go over in detail:</p>\n<p>There’s actually very little that’s changed here to make this feature work! In the HTML template, we need to make a <code>v-on:click</code> on the “New” button:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>createNote()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>New<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>And in the JavaScript, we need to define the <code>createNote</code> method:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> note<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token function-variable function\">createNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> newNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>      id<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>      body<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span><br>      timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>newNote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> newNote<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre>\n<p>(Here I’m using <code>Date.now()</code> as a quick and dirty way of generating a id, it should be replaced with a more robust approach for a guaranteed unique id.) Creating a new note is as simple as updating the <code>notes</code> and <code>selectedNote</code> data — Vue.js handles all the DOM updates necessary!</p>\n<p>You can check out a live demo <a href=\"https://jsfiddle.net/peterxjang/9kLqrg2n\">here</a>.</p>\n<h3 id=\"delete-the-selected-note-with-a-button\">Delete the selected note with a button <a class=\"direct-link\" href=\"#delete-the-selected-note-with-a-button\">#</a></h3>\n<p>Again, it’s pretty easy to get the delete feature to work. In the HTML template, we need to make a <code>v-on:click</code> on the “Delete” button:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">v-on:</span>click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>deleteNote()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Delete<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>And in the JavaScript, we need to define the <code>deleteNote</code> method:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">methods<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function-variable function\">selectNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> note<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token function-variable function\">createNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> newNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>      id<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>      body<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span><br>      timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>newNote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> newNote<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token function-variable function\">deleteNote</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> index <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>index<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes\\<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>\\<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre>\n<p>Note that when you delete the selected note, you have to determine which note to select in its place. Finally, we need to make sure the editor itself is hidden when there are no notes. This can be done with one easy change using the <code>v-if</code> directive in the HTML template:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote.id<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>{{ selectedNote.timestamp | formatTimestamp }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>textarea</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>note-editor-input<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-model</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selectedNote.body<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>textarea</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>\n<h3 id=\"filter-notes-on-search-input\">Filter notes on search input <a class=\"direct-link\" href=\"#filter-notes-on-search-input\">#</a></h3>\n<p>The final feature I’m going to implement is to be able to search notes immediately as you type in the search input. The first step is to add a <code>v-model</code> in the HTML template on the search input:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>toolbar-search<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Search...<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">v-model</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>searchNoteText<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre>\n<p>Don’t forget to initialize the <code>searchNoteText</code> data:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">data<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>  notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>  selectedNote<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  searchNoteText<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre>\n<p>Now in order to get the filtering effect, we simply need to change the already existing computed property <code>transformedNotes</code> to both filter and sort (instead of just sort):</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">computed<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function-variable function\">transformedNotes</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>notes<br>      <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> note<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>searchNoteText<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>      <span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre>\n<p>Perfect! The only thing missing is that filtering the list should also select the appropriate note, which means the <code>selectedNote</code> data should update whenever the <code>searchNoteText</code> data changes. We can use a watch function on <code>searchNoteText</code> for that:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">watch<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>  notes<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token function-variable function\">handler</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    deep<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token function-variable function\">searchNoteText</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectedNote <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>transformedNotes\\<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>\\<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Note that I’m referring to <code>this.transformedNotes</code> in the function, since I’m trying to select the first note in the list of filtered and sorted notes.</p>\n<p>You can check out the final working example in all its glory <a href=\"https://jsfiddle.net/peterxjang/koza3tax/\">here</a>.</p>\n<h3 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h3>\n<p>If you compare working with Vue.js to <a href=\"comparing-frontend-approaches-part-2-jquery.html\">jQuery</a>, you can see that the things you’re concerned about as a programmer are very different! In some sense I would consider jQuery to be easier to get started with, particularly if you have a good understanding of the DOM. But as we got deeper into the features, it was a lot simpler to write the Vue.js code, since we can keep our focus on data manipulation as opposed to both data manipulation plus DOM manipulation.</p>\n<p>Learning Vue.js might seem a bit daunting to an absolute beginner — we covered the <code>v-for</code>, <code>v-on</code>, <code>v-bind</code>, <code>v-model</code>, and <code>v-if</code> HTML template directives, as well as the <code>data</code>, <code>mounted</code>, <code>computed</code>, <code>filters</code>, <code>methods</code>, and <code>watch</code> Vue instance options. However, getting started with Vue.js is a lot easier than this — you can get pretty far with with just the <code>v-for</code>, <code>v-model</code>, and <code>v-click</code> directives with the <code>data</code> and <code>methods</code> Vue instance options! Basically you should learn new directives and options as the need arises — this is what Vue.js means when it says it’s a progressive framework. And compared to the other frameworks we’ll be looking at in this series, it’s definitely the easiest to get up and running!</p>\n<p>So the promise of Vue.js (or any modern JavaScript framework really) is that it’s a bit harder to get started, but once you learn the framework it becomes simpler to add new features. In the <a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">next part</a> of this series, we’ll take that concept to the next step by rebuilding the same app using Vue.js, this time with components. Stay tuned!</p>\n",
      "date_published": "2017-09-18T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/comparing-frontend-approaches-part-2-jquery.html",
      "url": "https://peterxjang.com/blog/comparing-frontend-approaches-part-2-jquery.html",
      "title": "Comparing Frontend Approaches Part 2: jQuery",
      "content_html": "<ul>\n<li><a href=\"comparing-frontend-approaches-part-1-introduction.html\">Part 1: Introduction</a></li>\n<li><strong>Part 2: jQuery</strong></li>\n<li><a href=\"comparing-frontend-approaches-part-3-vuejs.html\">Part 3: Vue.js</a></li>\n<li><a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">Part 4: Vue.js with components</a></li>\n<li><a href=\"comparing-frontend-approaches-part-5-react.html\">Part 5: React</a></li>\n<li><a href=\"comparing-frontend-approaches-part-6-elm.html\">Part 6: Elm</a></li>\n<li><a href=\"comparing-frontend-approaches-part-7-final-thoughts.html\">Part 7: Final thoughts</a></li>\n</ul>\n<p><img src=\"/img/1__7aM1iGhORpH__edtcYbtQsA.png#medium\" alt=\"jQuery logo\"></p>\n<p>In this part we will be implementing the <a href=\"comparing-frontend-approaches-part-1-introduction.html\">web based clone</a> of the <a href=\"https://support.apple.com/kb/PH22608?locale=en_US\">Mac Notes app</a> using <a href=\"https://jquery.com/\">jQuery</a>. jQuery is a JavaScript library that came out in 2006, and within several years became the most popular JavaScript library in use on the web (used by <a href=\"http://trends.builtwith.com/javascript/jQuery\">70% of the top 100,000</a> sites online).</p>\n<p>jQuery provides an intuitive API to directly manipulate the DOM to create interactive websites. In 2017, jQuery’s DOM manipulation approach is far less dominant, with templating and virtual DOM based approaches taking over. Nevertheless, jQuery remains an excellent library that’s reasonably lightweight, easy to get started with, and still used by many apps in production today. Let’s see what it’s like to use in practice!</p>\n<blockquote>\n<p>Note — one could argue that it would make more sense to start with vanilla JavaScript instead of jQuery, which is completely reasonable. jQuery provides some concise helper functions that makes it easier to demonstrate certain features, but you should feel free to mentally substitute any jQuery specific approaches I’m taking with the corresponding vanilla JavaScript — the general approach should be the same.</p>\n</blockquote>\n<h3 id=\"installation\">Installation <a class=\"direct-link\" href=\"#installation\">#</a></h3>\n<p>Starting from our <a href=\"https://jsfiddle.net/peterxjang/vtsjc5w9\">initial template</a> in <a href=\"comparing-frontend-approaches-part-1-introduction.html\">part 1</a>, installing jQuery requires only 2 lines in the HTML head tag:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><br>  <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://code.jquery.com/jquery-3.2.1.js<span class=\"token punctuation\">\"</span></span><br>  <span class=\"token attr-name\">integrity</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=<span class=\"token punctuation\">\"</span></span><br>  <span class=\"token attr-name\">crossorigin</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>anonymous<span class=\"token punctuation\">\"</span></span><br><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>js/notes.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">defer</span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>The first line includes the jQuery library from a CDN (the integrity and crossorigin attributes are for <a href=\"https://www.w3.org/TR/SRI/\">security</a> when using outside resources). The second line includes the app’s JavaScript and only has one change from the original template — the <code>defer</code> attribute. This ensures that the <code>notes.js</code> file is loaded only after the DOM is ready (before this attribute existed, you had to resort to tactics such as putting the script tag at the end of the body tag or using a <code>DOMContentLoaded</code> event listener wrapping your entire code).</p>\n<h3 id=\"display-note-titles-from-an-array-of-notes\">Display note titles from an array of notes <a class=\"direct-link\" href=\"#display-note-titles-from-an-array-of-notes\">#</a></h3>\n<p>Now that jQuery’s installed, let’s change the starting template to generate the dynamic notes list using JavaScript. First we'll representing the notes as an array of objects, where each object has an id, a body, and a timestamp. The <code>Date.now()</code> returns the number of milliseconds elapsed since 1 January 1970 00:00:00 UTC.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> notes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><br>  <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Once we have the notes data, we can delete the placeholder HTML content and generate the note selectors ourselves:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">notes<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-selectors'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><br>    <span class=\"token string\">'&lt;div class=\"note-selector\">'</span> <span class=\"token operator\">+</span><br>      <span class=\"token string\">'&lt;p class=\"note-selector-title\">'</span> <span class=\"token operator\">+</span> note<span class=\"token punctuation\">.</span>body <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/p>'</span> <span class=\"token operator\">+</span><br>      <span class=\"token string\">'&lt;p class=\"note-selector-timestamp\">'</span> <span class=\"token operator\">+</span> note<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/p>'</span> <span class=\"token operator\">+</span><br>    <span class=\"token string\">'&lt;/div>'</span><br>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Here I’m using jQuery to both create new DOM elements and append them directly into the DOM. Right now I’m temporarily using the body and integer timestamp directly as the title and timestamp — they’ll need to be formatted appropriately to look pretty.</p>\n<p>You can check out a live demo <a href=\"https://jsfiddle.net/peterxjang/w2xc3kkm\">here</a>.</p>\n<blockquote>\n<p>Note that there is an additional concern that’s more subtle — adding the <code>note.body</code> directly into the DOM here can open up an <a href=\"https://www.acunetix.com/websitesecurity/cross-site-scripting/\">XSS vulnerability</a>, where a malicious user can enter a <code>&lt;script&gt;</code> tag in the HTML input and run unwanted JavaScript. You would need to sanitize the input yourself (oddly enough jQuery’s <code>.text()</code> method <a href=\"https://watchitlater.com/blog/2011/10/cross-site-scripting-vulnerability-with-javascript-and-jquery/\">won’t be enough here</a>), which is one disadvantage of using a library over a framework (which generally have such security features built in).</p>\n</blockquote>\n<h3 id=\"use-methods-to-sort-and-format-notes\">Use methods to sort and format notes <a class=\"direct-link\" href=\"#use-methods-to-sort-and-format-notes\">#</a></h3>\n<p>Now let’s make helper methods to make sure the notes are sorted (newest first) and formatted properly (titles should be computed from the body, timestamps should be converted from milliseconds into a human readable string).</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">transformNotes</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">notes</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">return</span> notes<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> b<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> a<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">function</span> <span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">var</span> maxLength <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> maxLength<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> maxLength <span class=\"token operator\">-</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> <span class=\"token string\">\"New note\"</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> body<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">function</span> <span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUTCString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>The logic here is somewhat simplified — the title should account for line breaks, the string output from the native <code>toUTCString</code> isn’t the prettiest, etc. However, since they are separate pure functions, it will be simple to make them more robust later. The loop would be modified to use the functions as follows:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">transformNotes</span><span class=\"token punctuation\">(</span>notes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-selectors'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><br>    <span class=\"token string\">'&lt;div class=\"note-selector\">'</span> <span class=\"token operator\">+</span><br>      <span class=\"token string\">'&lt;p class=\"note-selector-title\">'</span> <span class=\"token operator\">+</span> <span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/p>'</span> <span class=\"token operator\">+</span><br>      <span class=\"token string\">'&lt;p class=\"note-selector-timestamp\">'</span> <span class=\"token operator\">+</span> <span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/p>'</span> <span class=\"token operator\">+</span><br>    <span class=\"token string\">'&lt;/div>'</span><br>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h3 id=\"select-a-note-on-title-click\">Select a note on title click <a class=\"direct-link\" href=\"#select-a-note-on-title-click\">#</a></h3>\n<p>Now let’s implement the ability to actually select notes. Clicking on a note title should both highlight the selected note on the left as well as display the contents in the editor on the right. First we need to keep track of a new variable <code>selectedNote</code> (which we’ll default to the first note).</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> notes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><br>  <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a first test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a second test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> body<span class=\"token operator\">:</span> <span class=\"token string\">\"This is a third test\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">var</span> selectedNote <span class=\"token operator\">=</span> notes<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Now comes the tricky part — in order to be able to click on a note title and display its corresponding information, we need to create a binding between the DOM and the data in JavaScript. One way to pull this off is by embedding the relevant data into the DOM using <a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes\">HTML data-* attributes</a>. In this case, each time I’m creating a new note selector DOM element with jQuery, I want to add the relevant note data into the DOM element itself using <code>data-id</code>, <code>data-body</code>, and <code>data-timestamp</code> attributes. For the sake of code organization, I extracted the code that creates the note selector DOM elements to a function called <code>domCreateNoteSelectors</code>:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">domCreateNoteSelectors</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">notes<span class=\"token punctuation\">,</span> selectedNote</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">transformNotes</span><span class=\"token punctuation\">(</span>notes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> $noteSelector <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><br>      <span class=\"token string\">'&lt;div class=\"note-selector'</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>note <span class=\"token operator\">===</span> selectedNote <span class=\"token operator\">?</span> <span class=\"token string\">' active'</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'\">'</span> <span class=\"token operator\">+</span><br>        <span class=\"token string\">'&lt;p class=\"note-selector-title\">'</span> <span class=\"token operator\">+</span> <span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/p>'</span> <span class=\"token operator\">+</span><br>        <span class=\"token string\">'&lt;p class=\"note-selector-timestamp\">'</span> <span class=\"token operator\">+</span> <span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/p>'</span> <span class=\"token operator\">+</span><br>      <span class=\"token string\">'&lt;/div>'</span><br>    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    $noteSelector<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-selectors'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>$noteSelector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Note the variable name <code>$noteSelector</code> is using the convention of putting a $ in front of any variable which represents a DOM element. The key line which binds the data in JavaScript to the DOM is:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">$noteSelector<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>This handy jQuery method takes all the keys in the <code>note</code> object (in this case <code>id</code>, <code>body</code>, and <code>timestamp</code>) and creates corresponding data-* attributes in the DOM element (in this case <code>data-id</code>, <code>data-body</code>, and <code>data-timestamp</code>).</p>\n<p>Now that we have data binding, we’ll need to make an event listener to trigger whenever the user clicks on a note title:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selectors\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\".note-selector\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selector\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"active\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"active\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">domUpdateNoteEditor</span><span class=\"token punctuation\">(</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>(Note that I’m putting a delegated event listener on the <code>.note-selectors</code> DOM element and not on the <code>.note-selector</code> directly— this is because the <code>.note-selector</code> elements don’t exist until later!) The event listener has two responsibilities — one is to update the style such that the selector appears highlighted, which is achieved by removing the <code>.active</code> class from all note selectors, then adding it back to the note selector that was just clicked. The other responsibility is to update the note editor on the right to display the appropriate note data. The note data is extracted from the DOM using <code>$(this).data()</code>, and is passed to a separate <code>domUpdateNoteEditor</code> function:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">domUpdateNoteEditor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">selectedNote</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-editor-info\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span>selectedNote<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-editor-input\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span>selectedNote<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>You can check out a live demo <a href=\"https://jsfiddle.net/peterxjang/nkpg036t\">here</a>.</p>\n<h3 id=\"edit-the-selected-note-on-editor-input\">Edit the selected note on editor input <a class=\"direct-link\" href=\"#edit-the-selected-note-on-editor-input\">#</a></h3>\n<p>Next we’ll bind the <code>&lt;textarea&gt;</code> to the note data. Each time the user changes the text, there’s quite a few things that need to be updated:</p>\n<ul>\n<li>The underlying note data (body and timestamp)</li>\n<li>The displayed timestamp in the note editor</li>\n<li>The displayed title and timestamp in the current note selector</li>\n<li>The sort order of the note selectors (the current one should be on top)</li>\n</ul>\n<p>Here’s the code to make all these changes happen:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-editor-input\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"input propertychange\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token comment\">// Update the note data</span><br>  <span class=\"token keyword\">var</span> body <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">var</span> timestamp <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selector.active\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"body\"</span><span class=\"token punctuation\">,</span> body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selector.active\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"timestamp\"</span><span class=\"token punctuation\">,</span> timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>  <span class=\"token comment\">// Update the DOM note editor timestamp</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-editor-info\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>  <span class=\"token comment\">// Update the DOM currently selected note selector</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selector.active .note-selector-title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selector.active .note-selector-timestamp\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>  <span class=\"token comment\">// Update the DOM note selectors sorting order</span><br>  <span class=\"token keyword\">var</span> $active <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selector.active\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">detach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selectors\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">prepend</span><span class=\"token punctuation\">(</span>$active<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>This is where we start to see some difficulties with jQuery — while the DOM manipulation code itself is fairly straightforward, it becomes more and more complicated to remember the different parts of the DOM that need to be updated with each change.</p>\n<h3 id=\"create-a-new-note-with-a-button\">Create a new note with a button <a class=\"direct-link\" href=\"#create-a-new-note-with-a-button\">#</a></h3>\n<p>Now let’s implement the ability to create a new note. Clicking on the “New” button should create a new note (new id, no body, current timestamp). The new note should become the currently selected note and appear at the top of the list of note selectors.</p>\n<p>Originally we made the <code>domCreateNoteSelectors</code> function to create note selectors in a loop. We’ll need to extract the code to make a single note selector into a separate <code>domCreateNoteSelector</code> function (so we can reuse it with the new note button):</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">domCreateNoteSelector</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">note<span class=\"token punctuation\">,</span> selectedNote</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">var</span> $noteSelector <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><br>    <span class=\"token string\">'&lt;div class=\"note-selector'</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>note <span class=\"token operator\">===</span> selectedNote <span class=\"token operator\">?</span> <span class=\"token string\">' active'</span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'\">'</span> <span class=\"token operator\">+</span><br>      <span class=\"token string\">'&lt;p class=\"note-selector-title\">'</span> <span class=\"token operator\">+</span> <span class=\"token function\">formatTitle</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/p>'</span> <span class=\"token operator\">+</span><br>      <span class=\"token string\">'&lt;p class=\"note-selector-timestamp\">'</span> <span class=\"token operator\">+</span> <span class=\"token function\">formatTimestamp</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/p>'</span> <span class=\"token operator\">+</span><br>    <span class=\"token string\">'&lt;/div>'</span><br>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  $noteSelector<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">return</span> $noteSelector<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">// ...</span><br><br><span class=\"token keyword\">function</span> <span class=\"token function\">domCreateNoteSelectors</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">notes<span class=\"token punctuation\">,</span> selectedNote</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">transformNotes</span><span class=\"token punctuation\">(</span>notes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">note</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> $noteSelector <span class=\"token operator\">=</span> <span class=\"token function\">domCreateNoteSelector</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">,</span> selectedNote<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    $noteSelector<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selectors\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>$noteSelector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Here’s the code that runs when the user clicks the “New” button (note that I added the <code>.toolbar-button-new</code> class in the HTML to make it easier to target the new button element):</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".toolbar-button-new\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selector\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"active\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">var</span> note <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>    id<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    body<span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span><br>    timestamp<span class=\"token operator\">:</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">var</span> $noteSelector <span class=\"token operator\">=</span> <span class=\"token function\">domCreateNoteSelector</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">,</span> note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selectors\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">prepend</span><span class=\"token punctuation\">(</span>$noteSelector<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">domUpdateNoteEditor</span><span class=\"token punctuation\">(</span>note<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Here I’m using <code>Date.now()</code> as a quick and dirty way of generating a id, it should be replaced with a more robust approach for a guaranteed unique id. In order to make sure the new note is highlighted, I first removed the <code>.active</code> class from all note selectors, then created the new note selector with the <code>domCreateNoteSelector</code> function, which takes in the note to create along with the currently selected note (which in this case is itself). This works fine, but again it’s getting a little harder to follow exactly how the DOM is being updated.</p>\n<p>You can check out a live demo <a href=\"https://jsfiddle.net/peterxjang/rnemvjct\">here</a>.</p>\n<h3 id=\"delete-the-selected-note-with-a-button\">Delete the selected note with a button <a class=\"direct-link\" href=\"#delete-the-selected-note-with-a-button\">#</a></h3>\n<p>The delete button is in theory easy enough to implement — add an event listener to the “Delete” button which removes the currently selected note selector (which is marked with the class <code>.active</code>) from the DOM.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".toolbar-button-delete\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selector.active\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Unfortunately, this doesn’t address what note should be marked as the currently selected note after the current one is deleted. Here’s a second attempt:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.toolbar-button-delete'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-selector.active'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">var</span> children <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-selectors'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">var</span> $noteSelector <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>children<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  $noteSelector<span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'active'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">domUpdateNoteEditor</span><span class=\"token punctuation\">(</span>$noteSelector<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>This code will grab all the note selectors from the DOM and select the first one. Unfortunately, this doesn’t address what should happen when you delete the LAST note. Let’s say we want the app to hide the note editor completely if there are no notes:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.toolbar-button-delete'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-selector.active'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">var</span> children <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-selectors'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>children<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> $noteSelector <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>children<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    $noteSelector<span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'active'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token function\">domUpdateNoteEditor</span><span class=\"token punctuation\">(</span>$noteSelector<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-editor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">hide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>This works, but once the note editor is hidden, it will never unhide! So now we have to make sure the note editor is shown when you create a new note:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".toolbar-button-new\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-editor\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token comment\">//...</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>This completely works now, but we’re getting into the territory of what is known as “jQuery spaghetti” — the delete note feature requires writing code in both the delete button event listener as well as the new button event listener, which is highly unintuitive. As more features get added to the app, these types of unrelated dependencies start cropping up in more and more places, making it harder to reason about the code.</p>\n<h3 id=\"filter-notes-on-search-input\">Filter notes on search input <a class=\"direct-link\" href=\"#filter-notes-on-search-input\">#</a></h3>\n<p>The final feature I’m going to implement is to be able to search notes immediately as you type in the search input. Before we implement it, I’m first going to extract out the code from the delete event listener that selects the appropriate note when the list changes into a function called <code>domSelectDefaultChild</code>, since we’ll need similar functionality when dynamically searching.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">domSelectDefaultChild</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">var</span> children <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-selector:visible'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>children<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> $noteSelector <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>children<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-selector.active'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      $noteSelector<span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'active'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token function\">domUpdateNoteEditor</span><span class=\"token punctuation\">(</span>$noteSelector<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br>  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-editor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">hide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">// ...</span><br><br><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.toolbar-button-delete'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.note-selector.active'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">domSelectDefaultChild</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Now let’s add an event listener on the search input. This code will need to do the following things:</p>\n<ul>\n<li>Show the note editor in case it’s hidden</li>\n<li>Get the search text the user entered</li>\n<li>Loop through each note selector and show or hide it based on whether or not the note’s body (in the DOM data-body attribute) matches the user’s search text</li>\n<li>Select a new note if necessary</li>\n</ul>\n<p>The code to accomplish this is as follows:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".toolbar-search\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"input propertychange\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-editor\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">var</span> searchNoteText <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".note-selector\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">var</span> $note <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>$note<span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>searchNoteText<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      $note<span class=\"token punctuation\">.</span><span class=\"token function\">hide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>$note<span class=\"token punctuation\">.</span><span class=\"token function\">hasClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"active\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        $note<span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"active\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>      $note<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token function\">domSelectDefaultChild</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>You can see the final working example in all its glory <a href=\"https://jsfiddle.net/peterxjang/a0qj4njz\">here</a>.</p>\n<h3 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h3>\n<p>I’ve noted in a couple of places where the jQuery code is starting to get hard to manage. Still, I would consider this app to be reasonably simple, so jQuery works well enough here, especially if you’re diligent about extracting reusable functions. There’s a certain beauty to jQuery where the code closely matches what you’re trying to accomplish in terms of DOM manipulation. However, it does get harder and harder to keep track of how the code is working as you add more features.</p>\n<p>The approaches I’ve taken here certainly don’t represent the best or only way to implement these features. You may be able to better organize the code using advanced features like <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\">mutation observers</a>, modules, etc. jQuery is unopinionated and allows you to come up with your own patterns to organize your code. But at that point, you may want to look at frameworks which have already established a set of patterns to make it easier to create new apps. In the <a href=\"comparing-frontend-approaches-part-3-vuejs.html\">next part</a> of this series, we’ll take a look at building the same set of features from scratch using the <a href=\"https://vuejs.org/\">Vue.js</a> framework. Stay tuned!</p>\n",
      "date_published": "2017-09-17T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/comparing-frontend-approaches-part-1-introduction.html",
      "url": "https://peterxjang.com/blog/comparing-frontend-approaches-part-1-introduction.html",
      "title": "Comparing Frontend Approaches Part 1: Introduction",
      "content_html": "<ul>\n<li><strong>Part 1: Introduction</strong></li>\n<li><a href=\"comparing-frontend-approaches-part-2-jquery.html\">Part 2: jQuery</a></li>\n<li><a href=\"comparing-frontend-approaches-part-3-vuejs.html\">Part 3: Vue.js</a></li>\n<li><a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">Part 4: Vue.js with components</a></li>\n<li><a href=\"comparing-frontend-approaches-part-5-react.html\">Part 5: React</a></li>\n<li><a href=\"comparing-frontend-approaches-part-6-elm.html\">Part 6: Elm</a></li>\n<li><a href=\"comparing-frontend-approaches-part-7-final-thoughts.html\">Part 7: Final thoughts</a></li>\n</ul>\n<p>In the book <a href=\"http://pragprog.com/the-pragmatic-programmer\" title=\"The Pragmatic Programmer\"><em>The Pragmatic Programmer</em></a>, David Thomas and Andrew Hunt make the following recommendation:</p>\n<blockquote>\n<p>Learn at least one new language every year. Different languages solve the same problems in different ways. By learning several different approaches, you can help broaden your thinking and avoid getting struck in a rut.</p>\n</blockquote>\n<p>While I don’t think that advice applies directly to learning a new frontend framework each year, it’s still worthwhile to try to understand the fundamental approaches different frameworks are taking to solve the same problem. We’ve recently seen tremendous progress in the frontend space due to frameworks influencing each other, from React’s virtual DOM, Ember’s CLI, and The Elm Architecture, just to name a few.</p>\n<p>So to understand the ways different frontend approaches solve the same problem, I’m going to be walking through building the same app with 5 different libraries and frameworks. The application I will be making is a simple web-based clone of the default <a href=\"https://support.apple.com/kb/PH22608?locale=en_US\">Mac Notes app</a>, which is a nice target for a couple of reasons:</p>\n<ul>\n<li>The app already exists, so the features are fully specified</li>\n<li>The app is pretty simple in scope, so it’s not too time consuming to build</li>\n<li>The app has some nice reactive features, which requires non-trivial JavaScript</li>\n</ul>\n<p>(This is similar to the <a href=\"http://todomvc.com/\">TodoMVC</a> project, which implements a basic todo app with different frameworks. The notes app is a bit more dynamic, but still pretty similar in scope. The key difference is that I’m going to be explaining every step as I build each app from scratch in the same order, so you can understand each approach without having to learn the entire framework up front).</p>\n<p>Here is a quick look at what the desktop Mac Notes app looks like to give you a sense of some of the reactive features. Note how the app is reacting immediately in various places as you type:</p>\n<p><img src=\"/img/1__Za9oW5CKgqdBmbt315Mkjg.gif\" alt=\"Mac notes app\"></p>\n<p>I generally implement the following features in my web-based clone of the Mac Notes app in this order:</p>\n<ul>\n<li><strong>Store notes as an array of objects</strong> (a note has an id, body, &amp; timestamp)</li>\n<li><strong>Display note titles on the left</strong>, sorted with newest on top (note titles are computed based on the note body)</li>\n<li><strong>Select a note on title click</strong>, which highlights the selected note on the left and displays the selected note body on the right</li>\n<li><strong>Edit the selected note on input</strong>, which automatically updates the title and timestamp on the left</li>\n<li><strong>Create a new note with a button</strong>, with an empty body and current timestamp</li>\n<li><strong>Delete the selected note with a button</strong>, which updates the left notes list</li>\n<li><strong>Filter notes on search input</strong>, which automatically updates the list of notes as you type each character</li>\n</ul>\n<p>The clone app starts off with the same HTML and CSS template (no JavaScript yet), which you can see below (click on the Result tab):</p>\n<script async src=\"//jsfiddle.net/peterxjang/vtsjc5w9/embed/result,html,css/\"></script>\n<p>Some notes about this starting template:</p>\n<ul>\n<li>There is some placeholder HTML content which will be replaced with dynamically generated JavaScript content.</li>\n<li>I added a lot of classes to the HTML to make it easier to style and manipulate the DOM. Most JavaScript frameworks don’t utilize direct DOM manipulation, but it’s there just in case.</li>\n<li>I’m using CSS flexbox for the application layout. I’m not a flexbox guru (pretty much learned what I needed from <a href=\"http://flexboxfroggy.com/\">Flexbox Froggy</a> and <a href=\"https://philipwalton.github.io/solved-by-flexbox/\">Solved by Flexbox</a>), so there may be a more graceful way to handle the CSS layout!</li>\n</ul>\n<p>In this series I will be building the same notes app with the following frontend approaches — <a href=\"comparing-frontend-approaches-part-2-jquery.html\">jQuery</a>, <a href=\"comparing-frontend-approaches-part-3-vuejs.html\">Vue.js</a>, <a href=\"comparing-frontend-approaches-part-4-vuejs-with-components.html\">Vue.js with components</a>, <a href=\"comparing-frontend-approaches-part-5-react.html\">React</a>, and <a href=\"comparing-frontend-approaches-part-6-elm.html\">Elm</a>. This was chosen roughly in order of easier to learn but complex to maintain (jQuery) to simple to maintain but harder to learn (Elm). Stay tuned!</p>\n",
      "date_published": "2017-09-14T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/sending-post-requests-in-rails-51-without-jquery.html",
      "url": "https://peterxjang.com/blog/sending-post-requests-in-rails-51-without-jquery.html",
      "title": "Sending POST requests in Rails 5.1 without jQuery",
      "content_html": "<p>Since the jQuery library was removed as a hard dependency in Rails 5.1, it’s a little harder to send AJAX requests from JavaScript. jQuery made it easy for a couple of reasons. One, it provided helper functions like <code>$.get</code>, <code>$.post</code>, and the more general<code>$.ajax</code>. Two, it automatically included the CSRF token in the header of the request. Without the CSRF token that Rails generates, Rails will by default reject any non-GET requests, even for same-origin requests.</p>\n<p>Despite not having jQuery, Rails 5.1 actually does provide a way to send AJAX requests! Rails was able to drop the jQuery dependency simply by writing their own helper functions in vanilla JavaScript. These helpers are included in every new Rails app as <code>rails-ujs</code> (you can see the source <a href=\"https://github.com/rails/rails/tree/master/actionview/app/assets/javascripts\">here</a>). This gives your JavaScript access to an object called <code>Rails</code> (as opposed to <code>$</code>). One of the helpers is <code>Rails.ajax</code>, which is very similar to jQuery’s <code>$.ajax</code>. Here is an example of a GET request:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">Rails<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>  url<span class=\"token operator\">:</span> <span class=\"token string\">\"/api/v1/people.json\"</span><span class=\"token punctuation\">,</span><br>  type<span class=\"token operator\">:</span> <span class=\"token string\">\"GET\"</span><span class=\"token punctuation\">,</span><br>  <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Easy enough, especially if you’re familiar with jQuery. (Note that this isn’t a 100% compatible drop in replacement for <code>$.ajax</code>, it was simply written to resemble the API of <code>$.ajax</code>). Here is an example of a POST request:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">Rails<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>  url<span class=\"token operator\">:</span> <span class=\"token string\">\"/api/v1/people.json\"</span><span class=\"token punctuation\">,</span><br>  type<span class=\"token operator\">:</span> <span class=\"token string\">\"POST\"</span><span class=\"token punctuation\">,</span><br>  data<span class=\"token operator\">:</span> <span class=\"token string\">\"first_name=Ricky&amp;last_name=Bobby\"</span><span class=\"token punctuation\">,</span><br>  <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Two things to note about this POST request. One, it’s automatically sending the CSRF token, which means the request will go through without any additional configuration (nice!). Two, the <code>data</code> must be formatted as string form parameters, you can’t give it a JavaScript object, at least at the time of this writing with Rails 5.1.3 (not so nice!). Note that it should be trivial to set the <code>&quot;Content-Type&quot;</code> of the request to <code>&quot;application/json&quot;</code>, which would allow you to send a stringified JavaScript object, but it doesn’t seem to be possible with the way <code>rails-ujs</code> is written as of now.</p>\n<p>If not being able to send POST data as JSON is a deal breaker, you can instead use other approaches like the new <code>fetch</code> API. In that case, you would be responsible for finding the CSRF token in the DOM and sending it with the request headers. There’s actually a helper function in <code>rails-ujs</code> that can grab the CSRF token — <code>Rails.csrfToken()</code>. Here’s the same POST request using the <code>fetch</code> API instead:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/v1/people.json\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><br>  method<span class=\"token operator\">:</span> <span class=\"token string\">\"post\"</span><span class=\"token punctuation\">,</span><br>  body<span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>    first_name<span class=\"token operator\">:</span> <span class=\"token string\">\"Ricky\"</span><span class=\"token punctuation\">,</span><br>    last_name<span class=\"token operator\">:</span> <span class=\"token string\">\"Bobby\"</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>  headers<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token string\">\"Content-Type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"application/json\"</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"X-CSRF-Token\"</span><span class=\"token operator\">:</span> Rails<span class=\"token punctuation\">.</span><span class=\"token function\">csrfToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  credentials<span class=\"token operator\">:</span> <span class=\"token string\">\"same-origin\"</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br>  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br>  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>The advantage to this approach is that you can send POST data using any format you want, whether it’s JSON or string form parameters. The disadvantage is that <code>fetch</code> isn’t 100% compatible with every browser yet, and it’s a little harder for beginners to understand. In either case, be sure to take advantage of the <code>rails-ujs</code> helper functions in your JavaScript to send AJAX requests with ease!</p>\n",
      "date_published": "2017-08-14T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/a-functional-canvas-approach-with-redux-part-2.html",
      "url": "https://peterxjang.com/blog/a-functional-canvas-approach-with-redux-part-2.html",
      "title": "A Functional Canvas Approach With Redux: Part 2",
      "content_html": "<h4 id=\"using-the-three-fundamental-principles-of-redux\">Using the three fundamental principles of Redux <a class=\"direct-link\" href=\"#using-the-three-fundamental-principles-of-redux\">#</a></h4>\n<p><img src=\"/img/1__7Cb3rcSx__xZVbtNhQpLLMA.png\" alt=\"Red and blue rectangles on an HTML canvas\"></p>\n<h2 id=\"translating-with-the-low-level-canvas-api\">Translating With The Low Level Canvas API <a class=\"direct-link\" href=\"#translating-with-the-low-level-canvas-api\">#</a></h2>\n<p>In <a href=\"a-functional-canvas-approach-with-redux-part-1.html\">part 1</a>, we examined a low level, object oriented, and functional approach to drawing using HTML Canvas. Now let’s add some more interactivity to our drawing by responding to mouse events. To start with something basic, let’s translate the whole canvas by 5px each time the user clicks down on the mouse. Let’s see what this looks like using the low level Canvas API (live demo <a href=\"https://jsfiddle.net/peterxjang/cw8tow83\">here</a>):</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">var</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2d\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">;</span><br>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">;</span><br>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">var</span> canvasX <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><br>canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousedown'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  canvasX <span class=\"token operator\">+=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">setTransform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">setTransform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> canvasX<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>In this example, we first draw a red and blue rectangle. Then we’re using the <code>canvasX</code> variable to keep track of the horizontal position of the canvas, and we’re adding an event listener to run some code any time the user clicks on the canvas. Each time the mouse is clicked, we add 5 to the <code>canvasX</code> variable.</p>\n<p>There is no actual way to translate the objects on the canvas, since they aren’t objects, but simply pixels on the screen. To create the translate effect, we have to erase the canvas, then translate the canvas before drawing the items:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">ctx<span class=\"token punctuation\">.</span><span class=\"token function\">setTransform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">setTransform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> canvasX<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>The setTransform function defines a mathematical matrix transformation with 6 arguments — scale x, skew x, skew y, scale y, translate x, and translate y. This may sound confusing, but it simply means you can control the scale, skew, and translation of the canvas using this function. The first line resets the canvas to the default (an x and y scale of 1, a skew of 0, and a translation to 0, 0). The second line clears the canvas. The third line moves the canvas over to the x position defined by <code>canvasX</code>. Any subsequent drawing commands will now be translated accordingly!</p>\n<p>Note that the example code is not DRY, since we’re duplicating the drawing code each time we’re updating the canvas. Let’s move the drawing code into its own method called <code>draw</code>. Let’s also implement a more fully featured draggable canvas, where the canvas drags with the mouse while holding it down (live demo <a href=\"https://jsfiddle.net/peterxjang/ede0ompj\">here</a>):</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">var</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2d\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">var</span> canvasX <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvasY <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">var</span> xDragging <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> yDragging <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">draw</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">setTransform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">setTransform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> canvasX<span class=\"token punctuation\">,</span> canvasY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><br>canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousedown'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  xDragging <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">;</span><br>  yDragging <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>offsetY<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousemove'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>xDragging <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> yDragging <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    canvasX <span class=\"token operator\">+=</span> event<span class=\"token punctuation\">.</span>offsetX <span class=\"token operator\">-</span> xDragging<span class=\"token punctuation\">;</span><br>    canvasY <span class=\"token operator\">+=</span> event<span class=\"token punctuation\">.</span>offsetY <span class=\"token operator\">-</span> yDragging<span class=\"token punctuation\">;</span><br>    <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    xDragging <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">;</span><br>    yDragging <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>offsetY<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mouseup'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  xDragging <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span><br>  yDragging <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>The result looks like:</p>\n<p><img src=\"/img/1__xOERmseqNFdIrfRVXN__YNg.gif#medium\" alt=\"Red and blue rectangles dragged together on an HTML canvas\"></p>\n<p>Here we’re using three event listeners. On <code>mousedown</code>, we store the user’s mouse position. On <code>mousemove</code>, we update the <code>canvasX</code> and <code>canvasY</code> variables based on the change in mouse position, redraw the canvas based on those updated values, and update the stored mouse position. On <code>mouseup</code>, we clear the stored mouse position (so we can determine whether or not the mouse is down).</p>\n<p>At this point, the code isn’t too bad, but it’s easy to see that it can get out of hand — we are introducing more stray variables that can be mutated anywhere in the code. As we mentioned in the <a href=\"a-functional-canvas-approach-with-redux-part-1.html\">introduction</a>, one way to organize the application state is to use an object oriented approach, which is what many Canvas libraries do. In our case, we’re going to look at a functional approach using Redux.</p>\n<h2 id=\"translating-with-a-functional-redux-approach\">Translating With A Functional Redux Approach <a class=\"direct-link\" href=\"#translating-with-a-functional-redux-approach\">#</a></h2>\n<p>Instead of using object oriented principles, we can instead use functional principles with the Redux library. Instead of separating state into multiple instances of objects, we can keep the state in a single state object. We then can use pure functions to modify the state object. The Redux documentation refers to this design as <a href=\"https://redux.js.org/understanding/thinking-in-redux/three-principles\">the three fundamental principles of Redux</a>, which we will implement in our canvas example one step at a time.</p>\n<p>The first principle is <strong>Single source of truth</strong>, which in our case we can accomplish by defining all our application state in a single object. This is a pure data representation of what we will render to the screen. The goal here is to completely decouple this state data from the rest of the code.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> initialState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>  canvas<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> x<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  items<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><br>    <span class=\"token punctuation\">{</span> x<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> width<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"red\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">{</span> x<span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> width<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"blue\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>  xDragging<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span><br>  yDragging<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>The second principle is <strong>State is read-only</strong>, which we can accomplish by dispatching actions in the canvas <code>mousedown</code>, <code>mousemove</code>, and <code>mouseup</code> events. Any time the state needs to change, instead of mutating it directly, we send an action describing what happened. The action is simply a plain data object with a type to identify the action and any other data pertinent to that action. (Note we haven't defined the <code>store</code> variable yet - it's the part of Redux that enables you to dispatch actions, which we will define momentarily).</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousedown'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>    type<span class=\"token operator\">:</span> <span class=\"token string\">'TRANSLATE_CANVAS_START'</span><span class=\"token punctuation\">,</span><br>    xDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">,</span><br>    yDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetY<br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousemove'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">var</span> state <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>xDragging <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> state<span class=\"token punctuation\">.</span>yDragging <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>      type<span class=\"token operator\">:</span> <span class=\"token string\">'TRANSLATE_CANVAS'</span><span class=\"token punctuation\">,</span><br>      xDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">,</span><br>      yDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetY<br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mouseup'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>    type<span class=\"token operator\">:</span> <span class=\"token string\">'TRANSLATE_CANVAS_END'</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>The third principle is <strong>Changes are made with pure functions</strong>, which you can see in the reducer function. The reducer function gets called each time an action is dispatched. It is considered a “pure” function because it does not mutate any variables — instead of making changes directly to the given state, it returns a new copy of the state with appropriate modifications. The reducer function takes in the current state object and the action object, and outputs a new state object based on the action. Note that it returns the initialState defined earlier if no state is provided, which happens when it is first called up.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">reducer</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> state <span class=\"token operator\">===</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> initialState<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br>  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">case</span> <span class=\"token string\">\"TRANSLATE_CANVAS_START\"</span><span class=\"token operator\">:</span><br>      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><br>        canvas<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">,</span><br>        items<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">,</span><br>        xDragging<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>xDragging<span class=\"token punctuation\">,</span><br>        yDragging<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>yDragging<span class=\"token punctuation\">,</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">case</span> <span class=\"token string\">\"TRANSLATE_CANVAS\"</span><span class=\"token operator\">:</span><br>      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><br>        canvas<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>          x<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> action<span class=\"token punctuation\">.</span>xDragging <span class=\"token operator\">-</span> state<span class=\"token punctuation\">.</span>xDragging<span class=\"token punctuation\">,</span><br>          y<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> action<span class=\"token punctuation\">.</span>yDragging <span class=\"token operator\">-</span> state<span class=\"token punctuation\">.</span>yDragging<span class=\"token punctuation\">,</span><br>        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>        items<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">,</span><br>        xDragging<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>xDragging<span class=\"token punctuation\">,</span><br>        yDragging<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>yDragging<span class=\"token punctuation\">,</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">case</span> <span class=\"token string\">\"TRANSLATE_CANVAS_END\"</span><span class=\"token operator\">:</span><br>      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><br>        canvas<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">,</span><br>        items<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">,</span><br>        xDragging<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span><br>        yDragging<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span><br>      <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>All that’s left is to wire everything up together, which is done with the code below. The <code>createStore</code> function creates the Redux store using the <code>reducer</code> function we defined. The <code>subscribe</code> function tells Redux to call up the given <code>draw</code> function each time the store changes due to some action.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> store <span class=\"token operator\">=</span> Redux<span class=\"token punctuation\">.</span><span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span>reducer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>store<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>draw<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>The <code>draw</code> function is similar to the one we had before. The <code>draw</code> function gets the current Redux state and renders the desired output to the screen. Note that this is the only part of our code which refers to the <code>ctx</code> canvas rendering context. The rendering code has been completely isolated into this draw function. Every other line of code is only responsible for managing the state data and how it transforms. This separation of concerns is the key to making the code easier to maintain.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">var</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2d\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">draw</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">var</span> state <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">setTransform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">setTransform</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  state<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">;</span><br>    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>You can check out the complete Redux implementation with a live demo <a href=\"https://jsfiddle.net/peterxjang/yvypt2w6\">here</a>.</p>\n<p>Let’s walk through an example of how Redux responds to an action. Say the app first starts up, so the state is equal to the initialState variable. If the user clicks on the canvas at the position (10, 30), the following code gets triggered:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousedown'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>    type<span class=\"token operator\">:</span> <span class=\"token string\">'TRANSLATE_CANVAS_START'</span><span class=\"token punctuation\">,</span><br>    xDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">,</span><br>    yDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetY<br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>The store.dispatch function triggers the reducer function to be called up with the following arguments:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">reducer</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token comment\">// state => initialState</span><br>  <span class=\"token comment\">// action => { type: 'TRANSLATE_CANVAS_START', xDragging: 10, yDragging: 30 }</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Walking through the reducer function code, you’ll hit the 'TRANSLATE_CANVAS_START' case and return the following state:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><br>  canvas<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">,</span><br>  items<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">,</span><br>  xDragging<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>xDragging<span class=\"token punctuation\">,</span><br>  yDragging<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>yDragging<span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>This is a copy of the original state with updated xDragging and yDragging values using the values given by the action object. Once the reducer returns this state, the Redux state is updated, which in turn triggers the draw function and updates the view. As the user drags the mouse, additional actions will be dispatched, triggering the reducer and draw functions accordingly.</p>\n<h2 id=\"adding-features-with-redux\">Adding Features With Redux <a class=\"direct-link\" href=\"#adding-features-with-redux\">#</a></h2>\n<p>Redux may be more difficult to wire together and understand initially, but this clear separation of data and rendering code makes it easier to add new features over time. Note that the code no longer has stray variables that can be mutated anywhere — all the relevant data is stored in the Redux state, and the only way it can be changed is by dispatching a Redux action. Let’s add another feature to our Redux example — translating individual items. The final result will look like:</p>\n<p><img src=\"/img/1__3KL872omMJcQhloXLjq__tg.gif#medium\" alt=\"Red and blue rectangles dragged separately on an HTML canvas\"></p>\n<p>Let’s take a look at the changes needed to make this feature work. First, the shape of the state changed to include ids for each item, which we use to keep track of which item is being dragged with <code>draggingItemId</code>. Initially no item is being dragged, so <code>draggingItemId</code> is set to null.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"highlight-line\"><span class=\"token keyword\">var</span> initialState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  canvas<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> x<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  items<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></span><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> x<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> width<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"red\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> x<span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> width<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> color<span class=\"token operator\">:</span> <span class=\"token string\">\"blue\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></mark><br><span class=\"highlight-line\">  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  xDragging<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">  yDragging<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span></span><br><mark class=\"highlight-line highlight-line-active\">  draggingItemId<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span></mark><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span></code></pre>\n<p>Now in our reducer function, we have 3 new actions — <code>TRANSLATE_ITEM_START</code>, <code>TRANSLATE_ITEM</code>, and <code>TRANSLATE_ITEM_END</code>. For <code>TRANSLATE_ITEM_START</code>, we are returning a copy of the state with the updated mouse position as well as which item was selected. Note that the reducer isn’t responsible for determining which item was selected — that code is defined elsewhere. The reducer is only responsible for creating a copy of the state with updated values.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">case</span> <span class=\"token string\">'TRANSLATE_ITEM_START'</span><span class=\"token operator\">:</span><br>      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><br>        canvas<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">,</span><br>        items<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">,</span><br>        xDragging<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>xDragging<span class=\"token punctuation\">,</span><br>        yDragging<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>yDragging<span class=\"token punctuation\">,</span><br>        draggingItemId<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>id<br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>For <code>TRANSLATE_ITEM</code>, we are updating the x and y values of the item currently being dragged. Note that we’re taking great care not to mutate the state, but rather to return a brand new copy of every part of the state. There are ways to simplify this code, but for now we’ll leave it as explicit as possible. To update the item’s x and y values without mutation, we create a new copy of the items called <code>newItems</code> using JavaScript’s map array function. Once we create the <code>newItems</code>, we return the copy of the state, which has updated <code>items</code>, <code>xDragging</code>, and <code>yDragging</code> values.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">case</span> <span class=\"token string\">'TRANSLATE_ITEM'</span><span class=\"token operator\">:</span><br>      <span class=\"token keyword\">var</span> newItems <span class=\"token operator\">=</span> state<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> state<span class=\"token punctuation\">.</span>draggingItemId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>          <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><br>            id<span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span><br>            x<span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> action<span class=\"token punctuation\">.</span>xDragging <span class=\"token operator\">-</span> state<span class=\"token punctuation\">.</span>xDragging<span class=\"token punctuation\">,</span><br>            y<span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> action<span class=\"token punctuation\">.</span>yDragging <span class=\"token operator\">-</span> state<span class=\"token punctuation\">.</span>yDragging<span class=\"token punctuation\">,</span><br>            width<span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span><br>            height<span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">,</span><br>            color<span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>color<br>          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>          <span class=\"token keyword\">return</span> item<span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>For <code>TRANSLATE_ITEM_END</code>, we are returning a copy of the state with the mouse position and the selected item id set to null.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token keyword\">case</span> <span class=\"token string\">'TRANSLATE_ITEM_END'</span><span class=\"token operator\">:</span><br>      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><br>        canvas<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>canvas<span class=\"token punctuation\">,</span><br>        items<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">,</span><br>        xDragging<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span><br>        yDragging<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span><br>        draggingItemId<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Finally, we have our modified event listener code which determines whether the canvas or an individual item is being dragged. On <code>mousedown</code>, we loop through the items in reverse order to see if an item is clicked on. To do this we can use the <code>isPointInPath</code> function that is part of the Canvas context. This function works by first drawing a virtual path (with the <code>beginPath</code> and <code>rect</code> functions). Once a path is drawn, the <code>isPointInPath</code> function can be called with an x and y coordinate, and will return true if the point is in the path. If it is, we dispatch a <code>TRANSLATE_ITEM_START</code> action. If not, we dispatch a <code>TRANSLATE_CANVAS_START</code> action.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"highlight-line\">canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousedown'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token keyword\">var</span> state <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></mark><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> state<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">>=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token keyword\">var</span> item <span class=\"token operator\">=</span> state<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></mark><br><mark class=\"highlight-line highlight-line-active\">    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></mark><br><mark class=\"highlight-line highlight-line-active\">    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">rect</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">isPointInPath</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">.</span>offsetY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></mark><br><mark class=\"highlight-line highlight-line-active\">      store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></mark><br><mark class=\"highlight-line highlight-line-active\">        type<span class=\"token operator\">:</span> <span class=\"token string\">'TRANSLATE_ITEM_START'</span><span class=\"token punctuation\">,</span></mark><br><mark class=\"highlight-line highlight-line-active\">        id<span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span></mark><br><mark class=\"highlight-line highlight-line-active\">        xDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">,</span></mark><br><mark class=\"highlight-line highlight-line-active\">        yDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetY</mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></mark><br><mark class=\"highlight-line highlight-line-active\">      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span></mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token punctuation\">}</span></mark><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token punctuation\">}</span></mark><br><span class=\"highlight-line\">  store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    type<span class=\"token operator\">:</span> <span class=\"token string\">'TRANSLATE_CANVAS_START'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    xDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">    yDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetY</span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre>\n<p>On <code>mousemove</code>, we can examine the state to see if an item is currently being dragged (using the <code>draggingItemId</code> value) or if the canvas is currently being dragged (using the <code>xDragging</code> and <code>yDragging</code> values). If something is being dragged, we dispatch the <code>TRANSLATE_ITEM</code> or <code>TRANSLATE_CANVAS</code> action accordingly.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"highlight-line\">canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mousemove'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token keyword\">var</span> state <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>draggingItemId <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></mark><br><mark class=\"highlight-line highlight-line-active\">    store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></mark><br><mark class=\"highlight-line highlight-line-active\">      type<span class=\"token operator\">:</span> <span class=\"token string\">'TRANSLATE_ITEM'</span><span class=\"token punctuation\">,</span></mark><br><mark class=\"highlight-line highlight-line-active\">      xDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">,</span></mark><br><mark class=\"highlight-line highlight-line-active\">      yDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetY</mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></mark><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>xDragging <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> state<span class=\"token punctuation\">.</span>yDragging <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">    store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      type<span class=\"token operator\">:</span> <span class=\"token string\">'TRANSLATE_CANVAS'</span><span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      xDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetX<span class=\"token punctuation\">,</span></span><br><span class=\"highlight-line\">      yDragging<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>offsetY</span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><span class=\"highlight-line\">  <span class=\"token punctuation\">}</span></span><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre>\n<p>On mouseup, we dispatch a <code>TRANSLATE_ITEM_END</code> or <code>TRANSLATE_CANVAS_END</code> action depending on which was being dragged. Note that these could be combined into a single <code>TRANSLATE_END</code> action since they’re so similar, but we’ll keep them separate for the sake of clarity for now.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"highlight-line\">canvas<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mouseup'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">  <span class=\"token keyword\">var</span> state <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>draggingItemId <span class=\"token operator\">!==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></mark><br><mark class=\"highlight-line highlight-line-active\">    store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></mark><br><mark class=\"highlight-line highlight-line-active\">      type<span class=\"token operator\">:</span> <span class=\"token string\">'TRANSLATE_ITEM_END'</span></mark><br><mark class=\"highlight-line highlight-line-active\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></mark><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span></mark><br><span class=\"highlight-line\">    store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></span><br><span class=\"highlight-line\">      type<span class=\"token operator\">:</span> <span class=\"token string\">'TRANSLATE_CANVAS_END'</span></span><br><span class=\"highlight-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><br><mark class=\"highlight-line highlight-line-active\">  <span class=\"token punctuation\">}</span></mark><br><span class=\"highlight-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre>\n<p>You can check out the complete live demo <a href=\"https://jsfiddle.net/peterxjang/woufx97b\">here</a>.</p>\n<p>Although adding new features with Redux may seem awkward at first, it is very worthwhile because forces you to maintain a separation of concerns. Once you get used to it, it becomes easy to add new features — since everything has an appropriate place, there’s fewer decisions that need to be made from a code design perspective. Although JavaScript is not a purely functional language, we can use functional approaches with Redux to avoiding mutation, which makes the code easier to maintain.</p>\n",
      "date_published": "2017-07-26T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/a-functional-canvas-approach-with-redux-part-1.html",
      "url": "https://peterxjang.com/blog/a-functional-canvas-approach-with-redux-part-1.html",
      "title": "A Functional Canvas Approach With Redux: Part 1",
      "content_html": "<h4 id=\"examining-low-level%2C-object-oriented%2C-and-functional-drawing-techniques\">Examining low level, object oriented, and functional drawing techniques <a class=\"direct-link\" href=\"#examining-low-level%2C-object-oriented%2C-and-functional-drawing-techniques\">#</a></h4>\n<p><img src=\"/img/1__CnCD2uzcN4EYbg9__LLupOA.png\" alt=\"peterxjang.com\"><br>\n<em><a href=\"http://peterxjang.com\">peterxjang.com</a></em></p>\n<h2 id=\"the-low-level-html-canvas-api\">The Low Level HTML Canvas API <a class=\"direct-link\" href=\"#the-low-level-html-canvas-api\">#</a></h2>\n<p>HTML Canvas provides a built in way to create 2D drawings and animations on a web page using JavaScript. The API (introduced in 2005) is a fairly low level drawing API — you can draw a rectangle, but as soon as it’s painted on the screen, it’s forgotten. Canvas doesn’t keep track of the concept of a “rectangle object” — if you want to move the rectangle, you have to erase the entire screen and draw a new one. Here’s an example of how to draw a rectangle:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Canvas example<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br>    <span class=\"token comment\">// Get the canvas element</span><br>    <span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Get the drawing context</span><br>    <span class=\"token keyword\">var</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Set the drawing color</span><br>    ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">'red'</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Draw a rectangle</span><br>    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>  </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>In this basic example, the <code>&lt;canvas&gt;</code> tag defines the drawing area, and the actual drawing is done by JavaScript in the <code>&lt;script&gt;</code> tag underneath. Here’s the additional code necessary to “move” the rectangle by 20px to the right after 1 second passes:</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span> <span class=\"token operator\">+</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>To move the rectangle, Canvas requires you to first clear the whole drawing area with ctx.clearRect , then redraw the rectangle with ctx.fillRect . It’s your job to keep track of all of the variables, such as the rectangle’s x, y, width, height, and color. This gets very hard to manage when you have many objects on the screen that need to be drawn.</p>\n<h2 id=\"a-high-level-object-oriented-approach\">A High Level Object Oriented Approach <a class=\"direct-link\" href=\"#a-high-level-object-oriented-approach\">#</a></h2>\n<p>Many people developed libraries to make it easier to use Canvas over the years — <a href=\"http://www.createjs.com/easeljs\">EaselJS</a>, <a href=\"http://fabricjs.com/\">Fabric.js</a>, <a href=\"http://paperjs.org/\">Paper.js</a>, to name a few. All of these libraries take an object oriented approach to managing state — instead of drawing a rectangle, you create a rectangle object, which remembers its own properties. This is a completely intuitive approach, and an example where the object oriented paradigm fits well. Here’s an example of drawing and moving the same rectangle using an object oriented approach with Fabric.js:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Canvas example<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.7.17/fabric.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>c<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br>    <span class=\"token comment\">// create a canvas wrapper</span><br>    <span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">fabric<span class=\"token punctuation\">.</span>Canvas</span><span class=\"token punctuation\">(</span><span class=\"token string\">'c'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// create a rectangle object</span><br>    <span class=\"token keyword\">var</span> rect <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">fabric<span class=\"token punctuation\">.</span>Rect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>      left<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span><br>      top<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span><br>      width<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span><br>      height<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span><br>      fill<span class=\"token operator\">:</span> <span class=\"token string\">'red'</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// \"add\" rectangle onto canvas</span><br>    canvas<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// \"Move\" the rectangle</span><br>    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      rect<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> left<span class=\"token operator\">:</span> rect<span class=\"token punctuation\">.</span>left <span class=\"token operator\">+</span> <span class=\"token number\">20</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      canvas<span class=\"token punctuation\">.</span><span class=\"token function\">renderAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>  </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>This is pretty similar to Canvas’ low level approach, but having state managed by objects is helpful, particularly when there’s lots of drawing going on. If you look at the line of code required to move the rectangle…</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\">rect<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> left<span class=\"token operator\">:</span> rect<span class=\"token punctuation\">.</span>left <span class=\"token operator\">+</span> <span class=\"token number\">20</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>…you can see that the rect remembers all its own properties — the only thing you need to modify is the left position property. Each object is responsible for keeping track of its own state, which is more organized than the low level approach.</p>\n<p>However, there are potential downsides to an object oriented approach. Because state is encapsulated in each object, it can be difficult to see where values are coming from and how they are changing when there are multiple objects that interact with each other. This may be less of an issue when using Canvas for decorative drawings and more of an issue when using Canvas for user interfaces with complex interactions.</p>\n<h2 id=\"a-high-level-functional-approach\">A High Level Functional Approach <a class=\"direct-link\" href=\"#a-high-level-functional-approach\">#</a></h2>\n<p>Instead of using an object oriented approach, we can create a higher level drawing abstraction using functional techniques. I’ll be using an approach very similar to <a href=\"https://facebook.github.io/react/\">React</a> with <a href=\"http://redux.js.org/\">Redux</a> — in a nutshell, you keep all your state in a single object, and any time the state object changes, you redraw your entire screen. Redux manages the state, React manages the view. Note that React has a “diffing” algorithm to make the redraw step as efficient as possible. I’ll be replacing React with Canvas as the view layer, which works perfectly since Canvas is designed to efficiently redraw the entire screen at each step.</p>\n<p>So for this approach, the dependencies are Canvas (built into the browser) and Redux. In a nutshell, Redux keeps all state in a single object which contains all the necessary information to render a view. To change the state, you must dispatch an action, which is an object that describes what happened. When an action is dispatched, the state is updated using a reducer function, and the view layer (in our case Canvas) will be redrawn.</p>\n<blockquote>\n<p>Note that this won’t be a beginner focused tutorial on Redux — if you aren’t familiar with Redux, there are many fantastic tutorials to get you started. (I highly, highly recommend the <a href=\"https://egghead.io/courses/getting-started-with-redux\">egghead.io videos</a> by <a href=\"https://twitter.com/dan_abramov\">Dan Abramov</a>, the author of Redux. He demonstrates piece by piece how to create the entire Redux library from scratch, and has a true gift for explaining things with simplicity).</p>\n</blockquote>\n<p>Here’s how the same example of drawing and moving a rectangle looks using Canvas with Redux:</p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Canvas example<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://unpkg.com/redux@latest/dist/redux.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">></span></span><br>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br>    <span class=\"token comment\">// Get the canvas element</span><br>    <span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Get the drawing context</span><br>    <span class=\"token keyword\">var</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Define the initial state</span><br>    <span class=\"token keyword\">var</span> initialState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>      rectangles<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><br>        <span class=\"token punctuation\">{</span><br>          x<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span><br>          y<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span><br>          width<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span><br>          height<span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span><br>          color<span class=\"token operator\">:</span> <span class=\"token string\">'red'</span><br>        <span class=\"token punctuation\">}</span><br>      <span class=\"token punctuation\">]</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Define how state changes</span><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">reducer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token keyword\">case</span> <span class=\"token string\">'TRANSLATE'</span><span class=\"token operator\">:</span><br>        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><br>          rectangles<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>rectangles<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">rect</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><br>              x<span class=\"token operator\">:</span> rect<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> action<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span><br>              y<span class=\"token operator\">:</span> rect<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> action<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span><br>              width<span class=\"token operator\">:</span> rect<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span><br>              height<span class=\"token operator\">:</span> rect<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">,</span><br>              color<span class=\"token operator\">:</span> rect<span class=\"token punctuation\">.</span>color<br>            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span><br>        <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token comment\">// Define how state is viewed</span><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      ctx<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token keyword\">var</span> state <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      state<span class=\"token punctuation\">.</span>rectangles<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">rect</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> rect<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">;</span><br>        ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token comment\">// Create the Redux store</span><br>    <span class=\"token comment\">// (to manage state changes)</span><br>    <span class=\"token keyword\">var</span> store <span class=\"token operator\">=</span> Redux<span class=\"token punctuation\">.</span><span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span>reducer<span class=\"token punctuation\">,</span> initialState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    store<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Draw the initial view</span><br>    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// \"Move\" the rectangle</span><br>    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>      store<span class=\"token punctuation\">.</span><span class=\"token function\">dispatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>type<span class=\"token operator\">:</span> <span class=\"token string\">'TRANSLATE'</span><span class=\"token punctuation\">,</span> x<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> y<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>This functional approach is a lot more code than the low level and object oriented approaches! But this is the up-front cost — it’s harder to set up in the beginning because we’re creating a rigid structure for every new piece of code to live. As we add more features, there ends up being considerably <strong>less</strong> code compared to the low level and object oriented approaches.</p>\n<p>I used this approach to make my personal homepage (<a href=\"http://peterxjang.com\">peterxjang.com</a>), where the entire interface is a Canvas surface with panning/zooming interactions (using either a mouse or touch interface). The only external dependency used is Redux (2kB). I was able to get the entire HTML/CSS/JS to fit under 14 kB, which means it renders the initial paint blazingly fast (a single round trip), even on slower mobile connections.</p>\n<blockquote>\n<p>Some secret features on my <a href=\"http://peterxjang.com\">homepage</a> — you can double click the background or parent items to zoom-to-fit. You can long press any item, which allows you to move and resize each item. You can also long press the background, which gives you options to save your layout changes (in local storage). Again, all these interactions were coded with a total initial page size under 14kB (I implemented image and content lazy loading to keep the first paint as fast as possible).</p>\n</blockquote>\n<p>Not only is the code light weight, but it’s easy to reason about. All the application state is contained in a single state object, which means anyone can look at that single object to understand the data that affects the view. The only way for the state to change is by dispatching actions, which forces you to define all interactions in terms of action objects. Anyone can look at all the actions defined to understand the complete set of ways you can interact with the application. Instead of encapsulating state and behavior in an object oriented approach, everything is laid bare in a functional approach.</p>\n<p>In the next part of the series, we’ll continue using using this functional approach to implement user interactions (panning and zooming).</p>\n<p><a href=\"a-functional-canvas-approach-with-redux-part-2.html\">Part 2: Using the 3 fundamental principles of Redux</a></p>\n",
      "date_published": "2017-07-26T19:00:00-05:00"
    },{
      "id": "https://peterxjang.com/blog/web-development-on-an-ipad.html",
      "url": "https://peterxjang.com/blog/web-development-on-an-ipad.html",
      "title": "Web Development On An iPad",
      "content_html": "<p><img src=\"/img/ipad-pro.jpg\" alt=\"iPad Pro with Smart Keyboard\"><br>\n<em>iPad Pro with Smart Keyboard — good enough for web development?</em></p>\n<p>Apple has always tried to market the iPad Pro as a laptop replacement. This might work out for college students or people in certain professions where the available iOS apps cover their daily needs. However, as a web developer, there are too many command line tools that are necessary on a day-to-day basis that makes it infeasible for an iPad by itself to be a complete laptop replacement.</p>\n<p>However, you can combine an iPad with a VPS (Virtual Private Server) to have access to the best of both worlds. In essence, a VPS is a remote computer where you have full access to an Linux system. You can install all the web development tools you normally use on your laptop or desktop. Then you use your iPad to SSH into your VPS, giving you full access to your remote system through the terminal.</p>\n<p>Think about what this means — an iPad can never be a fully fledged laptop replacement, but with a VPS it doesn’t have to be! Let the iPad be the iPad, and your VPS will be the remote computer that handles everything else. Services like DigitalOcean and Linode offer a VPS for $5/month, so it’s very affordable to get started!</p>\n<p>This isn’t a unique idea — some people have been using this setup for years, and there are <a href=\"http://yieldthought.com/post/12239282034/swapped-my-macbook-for-an-ipad\">several</a> <a href=\"https://medium.com/@felippenardi/how-to-setup-a-remote-development-server-from-stracth-2b1e6155464c\">good</a> <a href=\"http://decoding.io/using-ipad-pro-as-a-web-developer/\">write-ups</a> about it. This post will cover the tools and tips that I have found useful for my specific workflow.</p>\n<h2 id=\"what-you%E2%80%99ll-need\">What you’ll need <a class=\"direct-link\" href=\"#what-you%E2%80%99ll-need\">#</a></h2>\n<ul>\n<li>\n<p>An iPad <em>(I use a <a href=\"https://www.apple.com/shop/buy-ipad/ipad-pro/12.9-inch-display-128gb-space-gray-wifi\">12.9&quot; iPad Pro</a>)</em></p>\n</li>\n<li>\n<p>A compatible keyboard <em>(I use the <a href=\"https://www.apple.com/shop/product/MJYR2LL/A/smart-keyboard-for-129-inch-ipad-pro-us-english\">iPad Pro Smart Keyboard</a>)</em></p>\n</li>\n<li>\n<p>A Virtual Private Server <em>(I use <a href=\"https://www.digitalocean.com/pricing/\">DigitalOcean</a>’s $5/month plan)</em></p>\n</li>\n<li>\n<p>An iOS terminal app <em>(I use <a href=\"http://www.blink.sh/\">Blink</a>)</em></p>\n</li>\n<li>\n<p>An iOS text editor <em>(I don’t use one, I use Vim instead)</em></p>\n</li>\n</ul>\n<h2 id=\"step-1%3A-get-your-vps-up-and-running\">Step 1: Get your VPS up and running <a class=\"direct-link\" href=\"#step-1%3A-get-your-vps-up-and-running\">#</a></h2>\n<p>Your VPS is your remote system where you’ll install all your familiar web development tools — your programming language (ruby, node, etc.), your database (postgres, mysql, etc.), your version control (git, mecurial, etc.). Generally you’ll set up a VPS using Ubuntu without a graphical operating system — everything is installed using a command line. This may seem a bit daunting if you’re only familiar with Mac or Windows computers. However, if you’ve been doing web development for a while, you are already more than familiar with installing applications through a command line.</p>\n<p>I use DigitalOcean, which has fantastic tutorials that walk you through every step of the process. To get started with DigitalOcean, <a href=\"https://m.do.co/c/196d08803914\">sign up</a> for a plan, then follow the steps in this tutorial: <a href=\"https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-16-04\">Initial Server Setup with Ubuntu 16.04</a>. Again, it can be a bit daunting for first time Linux users, but the instructions are clear and the content is definitely worth learning. By the time you’re done, you’ll have your very own remote box which you can log into from any computer connected to the internet!</p>\n<blockquote>\n<p><strong><em>TIP</em></strong>: DigitalOcean provides a web-based terminal to log into your remote server. I found it to be painfully slow — it’s useful to first get started, but switch to your terminal of choice to ssh into your remote box as soon as you get a chance!</p>\n</blockquote>\n<h2 id=\"step-2%3A-install-software-on-your-vps\">Step 2: Install software on your VPS <a class=\"direct-link\" href=\"#step-2%3A-install-software-on-your-vps\">#</a></h2>\n<p>Once you have a basic VPS set up, you’ll need to install your web development tools. Here are some helpful guides from DigitalOcean to get you started:</p>\n<ul>\n<li>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-ruby-on-rails-with-rbenv-on-ubuntu-16-04\">How To Install Ruby on Rails with rbenv on Ubuntu 16.04</a></p>\n</li>\n<li>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-16-04\">How To Install Node.js on Ubuntu 16.04</a></p>\n</li>\n<li>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-and-use-postgresql-on-ubuntu-16-04\">How To Install and Use PostgreSQL on Ubuntu 16.04</a></p>\n</li>\n</ul>\n<p>There are many more <a href=\"https://www.digitalocean.com/community/tutorials\">well-written tutorials</a> from DigitalOcean to help you install pretty much anything you can think of. Note that at this point you have a fully functional Ubuntu Linux machine, so any installation instructions that work with Ubuntu will work for your VPS, there’s nothing really specific to DigitalOcean at this point.</p>\n<h2 id=\"step-3%3A-set-up-your-ipad-terminal\">Step 3: Set up your iPad terminal <a class=\"direct-link\" href=\"#step-3%3A-set-up-your-ipad-terminal\">#</a></h2>\n<p>To access your VPS using an iPad, you’ll need an iOS app that has SSH capabilities. My app of choice is <a href=\"http://www.blink.sh/\">Blink</a> — it costs $20, but it’s completely open source and provides instructions so you can <a href=\"https://github.com/blinksh/blink/#build\">build it yourself</a> using XCode! Blink uses <a href=\"https://mosh.org/\">Mosh</a>, an SSH replacement that is built to work with unstable and intermittent connectivity (Blink works with regular SSH as well). Perhaps the most important feature to me — Blink let’s you remap the Caps Lock key on your iPad keyboard to Control (or whatever you want). A small detail but hugely important to my workflow!</p>\n<p>Once you have an iOS terminal app installed, you can SSH into your VPS as you would on any computer. For example, if you set up a username of bob on your VPS, and your VPS IP address was 192.168.10.1, then you can run in your iPad terminal:</p>\n<pre><code>ssh bob@192.168.10.1\n</code></pre>\n<p>If you’re using Blink, you can use mosh instead:</p>\n<pre><code>mosh bob@192.168.10.1\n</code></pre>\n<p>Now you have full terminal access to your remote computer on your iPad!</p>\n<blockquote>\n<p><strong><em>TIP</em></strong>: If you own a domain, you can configure your VPS IP address to point to that domain or a subdomain (the instructions depends on your domain provider). So if you own the domain <a href=\"http://mycoolsite.com\">mycoolsite.com</a>, you can point your <em>192.168.10.1</em> IP address to a subdomain like <a href=\"http://dev.mycoolsite.com\">dev.mycoolsite.com</a>. This allows you do ssh or mosh into your VPS using ssh <a href=\"mailto:bob@dev.mycoolsite.com\">bob@dev.mycoolsite.com</a>.</p>\n</blockquote>\n<h2 id=\"step-4%3A-set-up-your-ipad-text-editor\">Step 4: Set up your iPad text editor <a class=\"direct-link\" href=\"#step-4%3A-set-up-your-ipad-text-editor\">#</a></h2>\n<p>At this point you’ll need a text editor to do any actual programming. But it can’t be any iOS text editor — it must be able to edit remote files on your VPS. The most feature rich editor I found was <a href=\"https://panic.com/coda-ios/\">Coda for iOS</a> — syntax highlighting, tabs, built-in terminal, you name it. Other interesting alternatives are apps that connect to GitHub, like <a href=\"https://workingcopyapp.com/\">Working Copy</a> or <a href=\"http://git2go.com/\">Git2Go</a>. These apps work as GitHub clients, but also come with text editors to edit files directly as well.</p>\n<p>However, I don’t use any of these apps — instead, I use Vim installed on my VPS. If you’re not familiar with Vim, this may seem like a strange choice, and you can definitely go with one of the above options instead. But if you are already comfortable with Vim or <a href=\"how-to-learn-vim-a-four-week-plan.html\">willing to learn it</a>, then you get the benefit of having a world-class editing experience on your iPad instead of one that will inevitably be limited compared to your regular text editor of choice.</p>\n<h2 id=\"step-5%3A-handle-miscellaneous-issues\">Step 5: Handle miscellaneous issues <a class=\"direct-link\" href=\"#step-5%3A-handle-miscellaneous-issues\">#</a></h2>\n<p>At this point you have a complete iPad development machine, with full terminal access to a remote Linux computer and a full programming text editor! Anything you could do on your laptop you can now do on your iPad! Well, almost — there are a couple of gotchas that we have to take care of…</p>\n<h3 id=\"use-multiple-terminal-tabs\">Use multiple terminal tabs <a class=\"direct-link\" href=\"#use-multiple-terminal-tabs\">#</a></h3>\n<p>Usually as a web developer you will have multiple terminal tabs open. However, when you use your iOS terminal to ssh into your remote server, opening a new tab doesn’t open a new ssh connection. There are different workarounds for this — the one I recommend using is <a href=\"a-minimalist-guide-to-tmux.html\">tmux</a>. If you aren’t familiar with tmux, it basically allows you to have multiple terminal sessions within a single terminal window. It also has the benefit of saving a session even when you log off, which means you can sleep or turn off your iPad and still maintain the terminal processes on your remote server.</p>\n<h3 id=\"run-a-development-web-server\">Run a development web server <a class=\"direct-link\" href=\"#run-a-development-web-server\">#</a></h3>\n<p>You can easily run a development server on your VPS localhost, but it won’t be accessible on your iPad. The solution is to bind your development web server to your VPS IP address instead of localhost.</p>\n<p>If you’re using rails, you can bind the dev server to your VPS IP address (here we’re using 192.168.10.1 as an example) on port 3000 like this:</p>\n<pre><code>rails server -b 192.168.10.1 -p 3000\n</code></pre>\n<p>If you’re using Node, you can set the HOST to the VPS IP address to accomplish the same thing. For example, if you were running webpack-dev-server, you can run the command:</p>\n<pre><code>HOST=192.168.10.1 PORT=3000 webpack-dev-server --hot --inline\n</code></pre>\n<p>Now on your iPad, you can see your development site by opening up any browser and going to <a href=\"http://192.168.10.1:3000\">http://192.168.10.1:3000</a>. Sweet!</p>\n<h3 id=\"access-a-javascript-console\">Access a JavaScript console <a class=\"direct-link\" href=\"#access-a-javascript-console\">#</a></h3>\n<p>Now that you can see your development application in the browser, the only thing that’s missing is a JavaScript console. Sadly iOS browsers don’t provide the same dev tools as their desktop counterparts, making it very difficult to debug JavaScript issues.</p>\n<p>The solution is to use a bookmarklet for <a href=\"http://getfirebug.com/firebuglite\">Firebug Lite</a>! For those unfamiliar with bookmarklets, they are basically bookmarks with embedded JavaScript — they were what people used before browser extensions came about. Browser extensions don’t exist on iOS, but bookmarklets still work just fine. Follow <a href=\"http://martinkool.com/post/13629963755/firebug-on-ipad-and-iphone\">these instructions</a> to install the Firebug Lite bookmarklet in your iOS browser, and you have access to debugging tools on any website you visit! Not as extensive as Chrome dev tools, but you do get a JavaScript console, which is critical to web development.</p>\n<blockquote>\n<p><strong>Edit</strong>: After many years, it looks like Firebug Lite is no longer running as a service! If you’re looking for an alternative, there are iOS apps that provide similar functionality, such as <a href=\"https://apps.pdyn.net/inspect/\">Inspect Browser</a>, <a href=\"http://ergowebtools.com/\">Webtools</a> &amp; <a href=\"https://www.mihtool.com/\">MIH Tools</a>.</p>\n</blockquote>\n<h2 id=\"conclusion\">Conclusion <a class=\"direct-link\" href=\"#conclusion\">#</a></h2>\n<p>By following this guide, you can definitely use your iPad as a laptop replacement for web development. There are some weird gotchas, but it honestly covers 95% of your development needs without a hiccup. I still own a Macbook Pro, and I find the iPad Pro to be a great complement to it. When I carry both around, I can use the iPad Pro as a great second monitor (using <a href=\"https://www.duetdisplay.com/\">Duet</a> or <a href=\"http://astropad.com/\">Astropad</a>), or do development work on either machine. If I’m going on a trip, I’ll just take the iPad Pro.</p>\n<p>If you’re a web developer and already own an iPad with keyboard, this is a no-brainer. Combining an iPad with a VPN will more than double the usefulness of your tablet as a professional (and you’ll learn more about Linux and running remote servers to boot). To me, it’s less about making the iPad replace my laptop and more about maximizing the iPad’s value. Hope you find these tips to be useful!</p>\n",
      "date_published": "2017-05-02T19:00:00-05:00"
    }
  ]
}
